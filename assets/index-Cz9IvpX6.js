const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-CiEBIJhE.js","assets/webworkerAll-5_Hn3kRL.js","assets/colorToUniform-DmtBy-2V.js","assets/WebGPURenderer-yiducZzW.js","assets/SharedSystems-fkbcBkLI.js","assets/WebGLRenderer-DNlntXYh.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function kg(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var ec={exports:{}},za={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function Ex(){if(hm)return za;hm=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:a,type:r,key:h,ref:o!==void 0?o:null,props:u}}return za.Fragment=t,za.jsx=n,za.jsxs=n,za}var fm;function Rx(){return fm||(fm=1,ec.exports=Ex()),ec.exports}var Ei=Rx(),ic={exports:{}},ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function Bx(){if(dm)return ut;dm=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function v(M){return M===null||typeof M!="object"?null:(M=_&&M[_]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function A(M,q,Z){this.props=M,this.context=q,this.refs=T,this.updater=Z||x}A.prototype.isReactComponent={},A.prototype.setState=function(M,q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,q,"setState")},A.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function E(){}E.prototype=A.prototype;function B(M,q,Z){this.props=M,this.context=q,this.refs=T,this.updater=Z||x}var D=B.prototype=new E;D.constructor=B,S(D,A.prototype),D.isPureReactComponent=!0;var H=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function V(M,q,Z,F,et,pt){return Z=pt.ref,{$$typeof:a,type:M,key:q,ref:Z!==void 0?Z:null,props:pt}}function it(M,q){return V(M.type,q,void 0,void 0,void 0,M.props)}function $(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function Q(M){var q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Z){return q[Z]})}var W=/\/+/g;function ht(M,q){return typeof M=="object"&&M!==null&&M.key!=null?Q(""+M.key):q.toString(36)}function St(){}function Nt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(St,St):(M.status="pending",M.then(function(q){M.status==="pending"&&(M.status="fulfilled",M.value=q)},function(q){M.status==="pending"&&(M.status="rejected",M.reason=q)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Lt(M,q,Z,F,et){var pt=typeof M;(pt==="undefined"||pt==="boolean")&&(M=null);var rt=!1;if(M===null)rt=!0;else switch(pt){case"bigint":case"string":case"number":rt=!0;break;case"object":switch(M.$$typeof){case a:case t:rt=!0;break;case g:return rt=M._init,Lt(rt(M._payload),q,Z,F,et)}}if(rt)return et=et(M),rt=F===""?"."+ht(M,0):F,H(et)?(Z="",rt!=null&&(Z=rt.replace(W,"$&/")+"/"),Lt(et,q,Z,"",function(Se){return Se})):et!=null&&($(et)&&(et=it(et,Z+(et.key==null||M&&M.key===et.key?"":(""+et.key).replace(W,"$&/")+"/")+rt)),q.push(et)),1;rt=0;var ce=F===""?".":F+":";if(H(M))for(var Rt=0;Rt<M.length;Rt++)F=M[Rt],pt=ce+ht(F,Rt),rt+=Lt(F,q,Z,pt,et);else if(Rt=v(M),typeof Rt=="function")for(M=Rt.call(M),Rt=0;!(F=M.next()).done;)F=F.value,pt=ce+ht(F,Rt++),rt+=Lt(F,q,Z,pt,et);else if(pt==="object"){if(typeof M.then=="function")return Lt(Nt(M),q,Z,F,et);throw q=String(M),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return rt}function z(M,q,Z){if(M==null)return M;var F=[],et=0;return Lt(M,F,"","",function(pt){return q.call(Z,pt,et++)}),F}function P(M){if(M._status===-1){var q=M._result;q=q(),q.then(function(Z){(M._status===0||M._status===-1)&&(M._status=1,M._result=Z)},function(Z){(M._status===0||M._status===-1)&&(M._status=2,M._result=Z)}),M._status===-1&&(M._status=0,M._result=q)}if(M._status===1)return M._result.default;throw M._result}var st=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function nt(){}return ut.Children={map:z,forEach:function(M,q,Z){z(M,function(){q.apply(this,arguments)},Z)},count:function(M){var q=0;return z(M,function(){q++}),q},toArray:function(M){return z(M,function(q){return q})||[]},only:function(M){if(!$(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},ut.Component=A,ut.Fragment=n,ut.Profiler=o,ut.PureComponent=B,ut.StrictMode=r,ut.Suspense=p,ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,ut.__COMPILER_RUNTIME={__proto__:null,c:function(M){return X.H.useMemoCache(M)}},ut.cache=function(M){return function(){return M.apply(null,arguments)}},ut.cloneElement=function(M,q,Z){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var F=S({},M.props),et=M.key,pt=void 0;if(q!=null)for(rt in q.ref!==void 0&&(pt=void 0),q.key!==void 0&&(et=""+q.key),q)!j.call(q,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&q.ref===void 0||(F[rt]=q[rt]);var rt=arguments.length-2;if(rt===1)F.children=Z;else if(1<rt){for(var ce=Array(rt),Rt=0;Rt<rt;Rt++)ce[Rt]=arguments[Rt+2];F.children=ce}return V(M.type,et,void 0,void 0,pt,F)},ut.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},ut.createElement=function(M,q,Z){var F,et={},pt=null;if(q!=null)for(F in q.key!==void 0&&(pt=""+q.key),q)j.call(q,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(et[F]=q[F]);var rt=arguments.length-2;if(rt===1)et.children=Z;else if(1<rt){for(var ce=Array(rt),Rt=0;Rt<rt;Rt++)ce[Rt]=arguments[Rt+2];et.children=ce}if(M&&M.defaultProps)for(F in rt=M.defaultProps,rt)et[F]===void 0&&(et[F]=rt[F]);return V(M,pt,void 0,void 0,null,et)},ut.createRef=function(){return{current:null}},ut.forwardRef=function(M){return{$$typeof:f,render:M}},ut.isValidElement=$,ut.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:P}},ut.memo=function(M,q){return{$$typeof:m,type:M,compare:q===void 0?null:q}},ut.startTransition=function(M){var q=X.T,Z={};X.T=Z;try{var F=M(),et=X.S;et!==null&&et(Z,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(nt,st)}catch(pt){st(pt)}finally{X.T=q}},ut.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},ut.use=function(M){return X.H.use(M)},ut.useActionState=function(M,q,Z){return X.H.useActionState(M,q,Z)},ut.useCallback=function(M,q){return X.H.useCallback(M,q)},ut.useContext=function(M){return X.H.useContext(M)},ut.useDebugValue=function(){},ut.useDeferredValue=function(M,q){return X.H.useDeferredValue(M,q)},ut.useEffect=function(M,q,Z){var F=X.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(M,q)},ut.useId=function(){return X.H.useId()},ut.useImperativeHandle=function(M,q,Z){return X.H.useImperativeHandle(M,q,Z)},ut.useInsertionEffect=function(M,q){return X.H.useInsertionEffect(M,q)},ut.useLayoutEffect=function(M,q){return X.H.useLayoutEffect(M,q)},ut.useMemo=function(M,q){return X.H.useMemo(M,q)},ut.useOptimistic=function(M,q){return X.H.useOptimistic(M,q)},ut.useReducer=function(M,q,Z){return X.H.useReducer(M,q,Z)},ut.useRef=function(M){return X.H.useRef(M)},ut.useState=function(M){return X.H.useState(M)},ut.useSyncExternalStore=function(M,q,Z){return X.H.useSyncExternalStore(M,q,Z)},ut.useTransition=function(){return X.H.useTransition()},ut.version="19.1.0",ut}var pm;function eh(){return pm||(pm=1,ic.exports=Bx()),ic.exports}var ws=eh(),nc={exports:{}},Oa={},sc={exports:{}},ac={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function zx(){return mm||(mm=1,function(a){function t(z,P){var st=z.length;z.push(P);t:for(;0<st;){var nt=st-1>>>1,M=z[nt];if(0<o(M,P))z[nt]=P,z[st]=M,st=nt;else break t}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var P=z[0],st=z.pop();if(st!==P){z[0]=st;t:for(var nt=0,M=z.length,q=M>>>1;nt<q;){var Z=2*(nt+1)-1,F=z[Z],et=Z+1,pt=z[et];if(0>o(F,st))et<M&&0>o(pt,F)?(z[nt]=pt,z[et]=st,nt=et):(z[nt]=F,z[Z]=st,nt=Z);else if(et<M&&0>o(pt,st))z[nt]=pt,z[et]=st,nt=et;else break t}}return P}function o(z,P){var st=z.sortIndex-P.sortIndex;return st!==0?st:z.id-P.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();a.unstable_now=function(){return h.now()-f}}var p=[],m=[],g=1,_=null,v=3,x=!1,S=!1,T=!1,A=!1,E=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function H(z){for(var P=n(m);P!==null;){if(P.callback===null)r(m);else if(P.startTime<=z)r(m),P.sortIndex=P.expirationTime,t(p,P);else break;P=n(m)}}function X(z){if(T=!1,H(z),!S)if(n(p)!==null)S=!0,j||(j=!0,ht());else{var P=n(m);P!==null&&Lt(X,P.startTime-z)}}var j=!1,V=-1,it=5,$=-1;function Q(){return A?!0:!(a.unstable_now()-$<it)}function W(){if(A=!1,j){var z=a.unstable_now();$=z;var P=!0;try{t:{S=!1,T&&(T=!1,B(V),V=-1),x=!0;var st=v;try{e:{for(H(z),_=n(p);_!==null&&!(_.expirationTime>z&&Q());){var nt=_.callback;if(typeof nt=="function"){_.callback=null,v=_.priorityLevel;var M=nt(_.expirationTime<=z);if(z=a.unstable_now(),typeof M=="function"){_.callback=M,H(z),P=!0;break e}_===n(p)&&r(p),H(z)}else r(p);_=n(p)}if(_!==null)P=!0;else{var q=n(m);q!==null&&Lt(X,q.startTime-z),P=!1}}break t}finally{_=null,v=st,x=!1}P=void 0}}finally{P?ht():j=!1}}}var ht;if(typeof D=="function")ht=function(){D(W)};else if(typeof MessageChannel<"u"){var St=new MessageChannel,Nt=St.port2;St.port1.onmessage=W,ht=function(){Nt.postMessage(null)}}else ht=function(){E(W,0)};function Lt(z,P){V=E(function(){z(a.unstable_now())},P)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(z){z.callback=null},a.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):it=0<z?Math.floor(1e3/z):5},a.unstable_getCurrentPriorityLevel=function(){return v},a.unstable_next=function(z){switch(v){case 1:case 2:case 3:var P=3;break;default:P=v}var st=v;v=P;try{return z()}finally{v=st}},a.unstable_requestPaint=function(){A=!0},a.unstable_runWithPriority=function(z,P){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var st=v;v=z;try{return P()}finally{v=st}},a.unstable_scheduleCallback=function(z,P,st){var nt=a.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?nt+st:nt):st=nt,z){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=st+M,z={id:g++,callback:P,priorityLevel:z,startTime:st,expirationTime:M,sortIndex:-1},st>nt?(z.sortIndex=st,t(m,z),n(p)===null&&z===n(m)&&(T?(B(V),V=-1):T=!0,Lt(X,st-nt))):(z.sortIndex=M,t(p,z),S||x||(S=!0,j||(j=!0,ht()))),z},a.unstable_shouldYield=Q,a.unstable_wrapCallback=function(z){var P=v;return function(){var st=v;v=P;try{return z.apply(this,arguments)}finally{v=st}}}}(ac)),ac}var gm;function Ox(){return gm||(gm=1,sc.exports=zx()),sc.exports}var rc={exports:{}},de={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym;function Dx(){if(ym)return de;ym=1;var a=eh();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,m,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:p,containerInfo:m,implementation:g}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return de.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,de.createPortal=function(p,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(p,m,null,g)},de.flushSync=function(p){var m=h.T,g=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=m,r.p=g,r.d.f()}},de.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},de.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},de.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var g=m.as,_=f(g,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:x}):g==="script"&&r.d.X(p,{crossOrigin:_,integrity:v,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},de.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},de.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,_=f(g,m.crossOrigin);r.d.L(p,g,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},de.preloadModule=function(p,m){if(typeof p=="string")if(m){var g=f(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},de.requestFormReset=function(p){r.d.r(p)},de.unstable_batchedUpdates=function(p,m){return p(m)},de.useFormState=function(p,m,g){return h.H.useFormState(p,m,g)},de.useFormStatus=function(){return h.H.useHostTransitionStatus()},de.version="19.1.0",de}var _m;function Ux(){if(_m)return rc.exports;_m=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),rc.exports=Dx(),rc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function Gx(){if(xm)return Oa;xm=1;var a=Ox(),t=eh(),n=Ux();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,s=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(s=i.return),e=i.return;while(e)}return i.tag===3?s:null}function h(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function f(e){if(u(e)!==e)throw Error(r(188))}function p(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var s=e,l=i;;){var c=s.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===s)return f(c),e;if(d===l)return f(c),i;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=d;else{for(var y=!1,b=c.child;b;){if(b===s){y=!0,s=c,l=d;break}if(b===l){y=!0,l=c,s=d;break}b=b.sibling}if(!y){for(b=d.child;b;){if(b===s){y=!0,s=d,l=c;break}if(b===l){y=!0,l=d,s=c;break}b=b.sibling}if(!y)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:i}function m(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=m(e),i!==null)return i;e=e.sibling}return null}var g=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),D=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),Q=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function ht(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var St=Symbol.for("react.client.reference");function Nt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===St?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case A:return"Profiler";case T:return"StrictMode";case X:return"Suspense";case j:return"SuspenseList";case $:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case D:return(e.displayName||"Context")+".Provider";case B:return(e._context.displayName||"Context")+".Consumer";case H:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return i=e.displayName||null,i!==null?i:Nt(e.type)||"Memo";case it:i=e._payload,e=e._init;try{return Nt(e(i))}catch{}}return null}var Lt=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},nt=[],M=-1;function q(e){return{current:e}}function Z(e){0>M||(e.current=nt[M],nt[M]=null,M--)}function F(e,i){M++,nt[M]=e.current,e.current=i}var et=q(null),pt=q(null),rt=q(null),ce=q(null);function Rt(e,i){switch(F(rt,i),F(pt,e),F(et,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Lp(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Lp(i),e=Pp(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Z(et),F(et,e)}function Se(){Z(et),Z(pt),Z(rt)}function Ui(e){e.memoizedState!==null&&F(ce,e);var i=et.current,s=Pp(i,e.type);i!==s&&(F(pt,e),F(et,s))}function Gi(e){pt.current===e&&(Z(et),Z(pt)),ce.current===e&&(Z(ce),Ma._currentValue=st)}var Fe=Object.prototype.hasOwnProperty,Ze=a.unstable_scheduleCallback,Qe=a.unstable_cancelCallback,hi=a.unstable_shouldYield,Pl=a.unstable_requestPaint,Ae=a.unstable_now,Yl=a.unstable_getCurrentPriorityLevel,Xl=a.unstable_ImmediatePriority,xh=a.unstable_UserBlockingPriority,$a=a.unstable_NormalPriority,u0=a.unstable_LowPriority,bh=a.unstable_IdlePriority,c0=a.log,h0=a.unstable_setDisableYieldValue,Us=null,we=null;function ki(e){if(typeof c0=="function"&&h0(e),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(Us,e)}catch{}}var Te=Math.clz32?Math.clz32:p0,f0=Math.log,d0=Math.LN2;function p0(e){return e>>>=0,e===0?32:31-(f0(e)/d0|0)|0}var Ja=256,tr=4194304;function hn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function er(e,i,s){var l=e.pendingLanes;if(l===0)return 0;var c=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?c=hn(l):(y&=b,y!==0?c=hn(y):s||(s=b&~e,s!==0&&(c=hn(s))))):(b=l&~d,b!==0?c=hn(b):y!==0?c=hn(y):s||(s=l&~e,s!==0&&(c=hn(s)))),c===0?0:i!==0&&i!==c&&(i&d)===0&&(d=c&-c,s=i&-i,d>=s||d===32&&(s&4194048)!==0)?i:c}function Gs(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function m0(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vh(){var e=Ja;return Ja<<=1,(Ja&4194048)===0&&(Ja=256),e}function Sh(){var e=tr;return tr<<=1,(tr&62914560)===0&&(tr=4194304),e}function jl(e){for(var i=[],s=0;31>s;s++)i.push(e);return i}function ks(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function g0(e,i,s,l,c,d){var y=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var b=e.entanglements,w=e.expirationTimes,U=e.hiddenUpdates;for(s=y&~s;0<s;){var N=31-Te(s),Y=1<<N;b[N]=0,w[N]=-1;var G=U[N];if(G!==null)for(U[N]=null,N=0;N<G.length;N++){var k=G[N];k!==null&&(k.lane&=-536870913)}s&=~Y}l!==0&&Ah(e,l,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~i))}function Ah(e,i,s){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Te(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194090}function wh(e,i){var s=e.entangledLanes|=i;for(e=e.entanglements;s;){var l=31-Te(s),c=1<<l;c&i|e[l]&i&&(e[l]|=i),s&=~c}}function Vl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ql(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Th(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:am(e.type))}function y0(e,i){var s=P.p;try{return P.p=e,i()}finally{P.p=s}}var Hi=Math.random().toString(36).slice(2),he="__reactFiber$"+Hi,ge="__reactProps$"+Hi,Hn="__reactContainer$"+Hi,Fl="__reactEvents$"+Hi,_0="__reactListeners$"+Hi,x0="__reactHandles$"+Hi,Mh="__reactResources$"+Hi,Hs="__reactMarker$"+Hi;function Zl(e){delete e[he],delete e[ge],delete e[Fl],delete e[_0],delete e[x0]}function Nn(e){var i=e[he];if(i)return i;for(var s=e.parentNode;s;){if(i=s[Hn]||s[he]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(e=Vp(e);e!==null;){if(s=e[he])return s;e=Vp(e)}return i}e=s,s=e.parentNode}return null}function Ln(e){if(e=e[he]||e[Hn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Ns(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function Pn(e){var i=e[Mh];return i||(i=e[Mh]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Jt(e){e[Hs]=!0}var Ch=new Set,Eh={};function fn(e,i){Yn(e,i),Yn(e+"Capture",i)}function Yn(e,i){for(Eh[e]=i,e=0;e<i.length;e++)Ch.add(i[e])}var b0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rh={},Bh={};function v0(e){return Fe.call(Bh,e)?!0:Fe.call(Rh,e)?!1:b0.test(e)?Bh[e]=!0:(Rh[e]=!0,!1)}function ir(e,i,s){if(v0(i))if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+s)}}function nr(e,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+s)}}function fi(e,i,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(i,s,""+l)}}var Ql,zh;function Xn(e){if(Ql===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);Ql=i&&i[1]||"",zh=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ql+e+zh}var Wl=!1;function Il(e,i){if(!e||Wl)return"";Wl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(k){var G=k}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(k){G=k}e.call(Y.prototype)}}else{try{throw Error()}catch(k){G=k}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(k){if(k&&G&&typeof k.stack=="string")return[k.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],b=d[1];if(y&&b){var w=y.split(`
`),U=b.split(`
`);for(c=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;if(l===w.length||c===U.length)for(l=w.length-1,c=U.length-1;1<=l&&0<=c&&w[l]!==U[c];)c--;for(;1<=l&&0<=c;l--,c--)if(w[l]!==U[c]){if(l!==1||c!==1)do if(l--,c--,0>c||w[l]!==U[c]){var N=`
`+w[l].replace(" at new "," at ");return e.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",e.displayName)),N}while(1<=l&&0<=c);break}}}finally{Wl=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Xn(s):""}function S0(e){switch(e.tag){case 26:case 27:case 5:return Xn(e.type);case 16:return Xn("Lazy");case 13:return Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return Il(e.type,!1);case 11:return Il(e.type.render,!1);case 1:return Il(e.type,!0);case 31:return Xn("Activity");default:return""}}function Oh(e){try{var i="";do i+=S0(e),e=e.return;while(e);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Ge(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dh(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function A0(e){var i=Dh(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,d=s.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,d.call(this,y)}}),Object.defineProperty(e,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function sr(e){e._valueTracker||(e._valueTracker=A0(e))}function Uh(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return e&&(l=Dh(e)?e.checked?"true":"false":e.value),e=l,e!==s?(i.setValue(e),!0):!1}function ar(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var w0=/[\n"\\]/g;function ke(e){return e.replace(w0,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Kl(e,i,s,l,c,d,y,b){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),i!=null?y==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ge(i)):e.value!==""+Ge(i)&&(e.value=""+Ge(i)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),i!=null?$l(e,y,Ge(i)):s!=null?$l(e,y,Ge(s)):l!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Ge(b):e.removeAttribute("name")}function Gh(e,i,s,l,c,d,y,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+Ge(s):"",i=i!=null?""+Ge(i):s,b||i===e.value||(e.value=i),e.defaultValue=i}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function $l(e,i,s){i==="number"&&ar(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function jn(e,i,s,l){if(e=e.options,i){i={};for(var c=0;c<s.length;c++)i["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=i.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Ge(s),i=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}i!==null||e[c].disabled||(i=e[c])}i!==null&&(i.selected=!0)}}function kh(e,i,s){if(i!=null&&(i=""+Ge(i),i!==e.value&&(e.value=i),s==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=s!=null?""+Ge(s):""}function Hh(e,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(r(92));if(Lt(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=Ge(i),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function Vn(e,i){if(i){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=i;return}}e.textContent=i}var T0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nh(e,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,s):typeof s!="number"||s===0||T0.has(i)?i==="float"?e.cssFloat=s:e[i]=(""+s).trim():e[i]=s+"px"}function Lh(e,i,s){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in i)l=i[c],i.hasOwnProperty(c)&&s[c]!==l&&Nh(e,c,l)}else for(var d in i)i.hasOwnProperty(d)&&Nh(e,d,i[d])}function Jl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var M0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),C0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rr(e){return C0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var to=null;function eo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qn=null,Fn=null;function Ph(e){var i=Ln(e);if(i&&(e=i.stateNode)){var s=e[ge]||null;t:switch(e=i.stateNode,i.type){case"input":if(Kl(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ke(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==e&&l.form===e.form){var c=l[ge]||null;if(!c)throw Error(r(90));Kl(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===e.form&&Uh(l)}break t;case"textarea":kh(e,s.value,s.defaultValue);break t;case"select":i=s.value,i!=null&&jn(e,!!s.multiple,i,!1)}}}var io=!1;function Yh(e,i,s){if(io)return e(i,s);io=!0;try{var l=e(i);return l}finally{if(io=!1,(qn!==null||Fn!==null)&&(qr(),qn&&(i=qn,e=Fn,Fn=qn=null,Ph(i),e)))for(i=0;i<e.length;i++)Ph(e[i])}}function Ls(e,i){var s=e.stateNode;if(s===null)return null;var l=s[ge]||null;if(l===null)return null;s=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,i,typeof s));return s}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),no=!1;if(di)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){no=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{no=!1}var Ni=null,so=null,lr=null;function Xh(){if(lr)return lr;var e,i=so,s=i.length,l,c="value"in Ni?Ni.value:Ni.textContent,d=c.length;for(e=0;e<s&&i[e]===c[e];e++);var y=s-e;for(l=1;l<=y&&i[s-l]===c[d-l];l++);return lr=c.slice(e,1<l?1-l:void 0)}function or(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ur(){return!0}function jh(){return!1}function ye(e){function i(s,l,c,d,y){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(s=e[b],this[b]=s?s(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ur:jh,this.isPropagationStopped=jh,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),i}var dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ye(dn),Ys=g({},dn,{view:0,detail:0}),E0=ye(Ys),ao,ro,Xs,hr=g({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xs&&(Xs&&e.type==="mousemove"?(ao=e.screenX-Xs.screenX,ro=e.screenY-Xs.screenY):ro=ao=0,Xs=e),ao)},movementY:function(e){return"movementY"in e?e.movementY:ro}}),Vh=ye(hr),R0=g({},hr,{dataTransfer:0}),B0=ye(R0),z0=g({},Ys,{relatedTarget:0}),lo=ye(z0),O0=g({},dn,{animationName:0,elapsedTime:0,pseudoElement:0}),D0=ye(O0),U0=g({},dn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),G0=ye(U0),k0=g({},dn,{data:0}),qh=ye(k0),H0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},L0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function P0(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=L0[e])?!!i[e]:!1}function oo(){return P0}var Y0=g({},Ys,{key:function(e){if(e.key){var i=H0[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?N0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oo,charCode:function(e){return e.type==="keypress"?or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),X0=ye(Y0),j0=g({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fh=ye(j0),V0=g({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oo}),q0=ye(V0),F0=g({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z0=ye(F0),Q0=g({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),W0=ye(Q0),I0=g({},dn,{newState:0,oldState:0}),K0=ye(I0),$0=[9,13,27,32],uo=di&&"CompositionEvent"in window,js=null;di&&"documentMode"in document&&(js=document.documentMode);var J0=di&&"TextEvent"in window&&!js,Zh=di&&(!uo||js&&8<js&&11>=js),Qh=" ",Wh=!1;function Ih(e,i){switch(e){case"keyup":return $0.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zn=!1;function t_(e,i){switch(e){case"compositionend":return Kh(i);case"keypress":return i.which!==32?null:(Wh=!0,Qh);case"textInput":return e=i.data,e===Qh&&Wh?null:e;default:return null}}function e_(e,i){if(Zn)return e==="compositionend"||!uo&&Ih(e,i)?(e=Xh(),lr=so=Ni=null,Zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Zh&&i.locale!=="ko"?null:i.data;default:return null}}var i_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $h(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!i_[e.type]:i==="textarea"}function Jh(e,i,s,l){qn?Fn?Fn.push(l):Fn=[l]:qn=l,i=Kr(i,"onChange"),0<i.length&&(s=new cr("onChange","change",null,s,l),e.push({event:s,listeners:i}))}var Vs=null,qs=null;function n_(e){Up(e,0)}function fr(e){var i=Ns(e);if(Uh(i))return e}function tf(e,i){if(e==="change")return i}var ef=!1;if(di){var co;if(di){var ho="oninput"in document;if(!ho){var nf=document.createElement("div");nf.setAttribute("oninput","return;"),ho=typeof nf.oninput=="function"}co=ho}else co=!1;ef=co&&(!document.documentMode||9<document.documentMode)}function sf(){Vs&&(Vs.detachEvent("onpropertychange",af),qs=Vs=null)}function af(e){if(e.propertyName==="value"&&fr(qs)){var i=[];Jh(i,qs,e,eo(e)),Yh(n_,i)}}function s_(e,i,s){e==="focusin"?(sf(),Vs=i,qs=s,Vs.attachEvent("onpropertychange",af)):e==="focusout"&&sf()}function a_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fr(qs)}function r_(e,i){if(e==="click")return fr(i)}function l_(e,i){if(e==="input"||e==="change")return fr(i)}function o_(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Me=typeof Object.is=="function"?Object.is:o_;function Fs(e,i){if(Me(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var s=Object.keys(e),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!Fe.call(i,c)||!Me(e[c],i[c]))return!1}return!0}function rf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lf(e,i){var s=rf(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=i&&l>=i)return{node:s,offset:i-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=rf(s)}}function of(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?of(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function uf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ar(e.document);i instanceof e.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)e=i.contentWindow;else break;i=ar(e.document)}return i}function fo(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var u_=di&&"documentMode"in document&&11>=document.documentMode,Qn=null,po=null,Zs=null,mo=!1;function cf(e,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;mo||Qn==null||Qn!==ar(l)||(l=Qn,"selectionStart"in l&&fo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zs&&Fs(Zs,l)||(Zs=l,l=Kr(po,"onSelect"),0<l.length&&(i=new cr("onSelect","select",null,i,s),e.push({event:i,listeners:l}),i.target=Qn)))}function pn(e,i){var s={};return s[e.toLowerCase()]=i.toLowerCase(),s["Webkit"+e]="webkit"+i,s["Moz"+e]="moz"+i,s}var Wn={animationend:pn("Animation","AnimationEnd"),animationiteration:pn("Animation","AnimationIteration"),animationstart:pn("Animation","AnimationStart"),transitionrun:pn("Transition","TransitionRun"),transitionstart:pn("Transition","TransitionStart"),transitioncancel:pn("Transition","TransitionCancel"),transitionend:pn("Transition","TransitionEnd")},go={},hf={};di&&(hf=document.createElement("div").style,"AnimationEvent"in window||(delete Wn.animationend.animation,delete Wn.animationiteration.animation,delete Wn.animationstart.animation),"TransitionEvent"in window||delete Wn.transitionend.transition);function mn(e){if(go[e])return go[e];if(!Wn[e])return e;var i=Wn[e],s;for(s in i)if(i.hasOwnProperty(s)&&s in hf)return go[e]=i[s];return e}var ff=mn("animationend"),df=mn("animationiteration"),pf=mn("animationstart"),c_=mn("transitionrun"),h_=mn("transitionstart"),f_=mn("transitioncancel"),mf=mn("transitionend"),gf=new Map,yo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yo.push("scrollEnd");function We(e,i){gf.set(e,i),fn(i,[e])}var yf=new WeakMap;function He(e,i){if(typeof e=="object"&&e!==null){var s=yf.get(e);return s!==void 0?s:(i={value:e,source:i,stack:Oh(i)},yf.set(e,i),i)}return{value:e,source:i,stack:Oh(i)}}var Ne=[],In=0,_o=0;function dr(){for(var e=In,i=_o=In=0;i<e;){var s=Ne[i];Ne[i++]=null;var l=Ne[i];Ne[i++]=null;var c=Ne[i];Ne[i++]=null;var d=Ne[i];if(Ne[i++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}d!==0&&_f(s,c,d)}}function pr(e,i,s,l){Ne[In++]=e,Ne[In++]=i,Ne[In++]=s,Ne[In++]=l,_o|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function xo(e,i,s,l){return pr(e,i,s,l),mr(e)}function Kn(e,i){return pr(e,null,null,i),mr(e)}function _f(e,i,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var c=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&i!==null&&(c=31-Te(s),e=d.hiddenUpdates,l=e[c],l===null?e[c]=[i]:l.push(i),i.lane=s|536870912),d):null}function mr(e){if(50<_a)throw _a=0,Tu=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var $n={};function d_(e,i,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ce(e,i,s,l){return new d_(e,i,s,l)}function bo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pi(e,i){var s=e.alternate;return s===null?(s=Ce(e.tag,i,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=i,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,i=e.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function xf(e,i){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,i=s.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function gr(e,i,s,l,c,d){var y=0;if(l=e,typeof e=="function")bo(e)&&(y=1);else if(typeof e=="string")y=mx(e,s,et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case $:return e=Ce(31,s,i,c),e.elementType=$,e.lanes=d,e;case S:return gn(s.children,c,d,i);case T:y=8,c|=24;break;case A:return e=Ce(12,s,i,c|2),e.elementType=A,e.lanes=d,e;case X:return e=Ce(13,s,i,c),e.elementType=X,e.lanes=d,e;case j:return e=Ce(19,s,i,c),e.elementType=j,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:case D:y=10;break t;case B:y=9;break t;case H:y=11;break t;case V:y=14;break t;case it:y=16,l=null;break t}y=29,s=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=Ce(y,s,i,c),i.elementType=e,i.type=l,i.lanes=d,i}function gn(e,i,s,l){return e=Ce(7,e,l,i),e.lanes=s,e}function vo(e,i,s){return e=Ce(6,e,null,i),e.lanes=s,e}function So(e,i,s){return i=Ce(4,e.children!==null?e.children:[],e.key,i),i.lanes=s,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Jn=[],ts=0,yr=null,_r=0,Le=[],Pe=0,yn=null,mi=1,gi="";function _n(e,i){Jn[ts++]=_r,Jn[ts++]=yr,yr=e,_r=i}function bf(e,i,s){Le[Pe++]=mi,Le[Pe++]=gi,Le[Pe++]=yn,yn=e;var l=mi;e=gi;var c=32-Te(l)-1;l&=~(1<<c),s+=1;var d=32-Te(i)+c;if(30<d){var y=c-c%5;d=(l&(1<<y)-1).toString(32),l>>=y,c-=y,mi=1<<32-Te(i)+c|s<<c|l,gi=d+e}else mi=1<<d|s<<c|l,gi=e}function Ao(e){e.return!==null&&(_n(e,1),bf(e,1,0))}function wo(e){for(;e===yr;)yr=Jn[--ts],Jn[ts]=null,_r=Jn[--ts],Jn[ts]=null;for(;e===yn;)yn=Le[--Pe],Le[Pe]=null,gi=Le[--Pe],Le[Pe]=null,mi=Le[--Pe],Le[Pe]=null}var pe=null,Pt=null,vt=!1,xn=null,ni=!1,To=Error(r(519));function bn(e){var i=Error(r(418,""));throw Is(He(i,e)),To}function vf(e){var i=e.stateNode,s=e.type,l=e.memoizedProps;switch(i[he]=e,i[ge]=l,s){case"dialog":gt("cancel",i),gt("close",i);break;case"iframe":case"object":case"embed":gt("load",i);break;case"video":case"audio":for(s=0;s<ba.length;s++)gt(ba[s],i);break;case"source":gt("error",i);break;case"img":case"image":case"link":gt("error",i),gt("load",i);break;case"details":gt("toggle",i);break;case"input":gt("invalid",i),Gh(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),sr(i);break;case"select":gt("invalid",i);break;case"textarea":gt("invalid",i),Hh(i,l.value,l.defaultValue,l.children),sr(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||Np(i.textContent,s)?(l.popover!=null&&(gt("beforetoggle",i),gt("toggle",i)),l.onScroll!=null&&gt("scroll",i),l.onScrollEnd!=null&&gt("scrollend",i),l.onClick!=null&&(i.onclick=$r),i=!0):i=!1,i||bn(e)}function Sf(e){for(pe=e.return;pe;)switch(pe.tag){case 5:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:pe=pe.return}}function Qs(e){if(e!==pe)return!1;if(!vt)return Sf(e),vt=!0,!1;var i=e.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Yu(e.type,e.memoizedProps)),s=!s),s&&Pt&&bn(e),Sf(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(i===0){Pt=Ke(e.nextSibling);break t}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;e=e.nextSibling}Pt=null}}else i===27?(i=Pt,tn(e.type)?(e=qu,qu=null,Pt=e):Pt=i):Pt=pe?Ke(e.stateNode.nextSibling):null;return!0}function Ws(){Pt=pe=null,vt=!1}function Af(){var e=xn;return e!==null&&(be===null?be=e:be.push.apply(be,e),xn=null),e}function Is(e){xn===null?xn=[e]:xn.push(e)}var Mo=q(null),vn=null,yi=null;function Li(e,i,s){F(Mo,i._currentValue),i._currentValue=s}function _i(e){e._currentValue=Mo.current,Z(Mo)}function Co(e,i,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===s)break;e=e.return}}function Eo(e,i,s,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var y=c.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=c;for(var w=0;w<i.length;w++)if(b.context===i[w]){d.lanes|=s,b=d.alternate,b!==null&&(b.lanes|=s),Co(d.return,s,e),l||(y=null);break t}d=b.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(r(341));y.lanes|=s,d=y.alternate,d!==null&&(d.lanes|=s),Co(y,s,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Ks(e,i,s,l){e=null;for(var c=i,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var b=c.type;Me(c.pendingProps.value,y.value)||(e!==null?e.push(b):e=[b])}}else if(c===ce.current){if(y=c.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Ma):e=[Ma])}c=c.return}e!==null&&Eo(i,e,s,l),i.flags|=262144}function xr(e){for(e=e.firstContext;e!==null;){if(!Me(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Sn(e){vn=e,yi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function fe(e){return wf(vn,e)}function br(e,i){return vn===null&&Sn(e),wf(e,i)}function wf(e,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},yi===null){if(e===null)throw Error(r(308));yi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else yi=yi.next=i;return s}var p_=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(s){return s()})}},m_=a.unstable_scheduleCallback,g_=a.unstable_NormalPriority,Kt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ro(){return{controller:new p_,data:new Map,refCount:0}}function $s(e){e.refCount--,e.refCount===0&&m_(g_,function(){e.controller.abort()})}var Js=null,Bo=0,es=0,is=null;function y_(e,i){if(Js===null){var s=Js=[];Bo=0,es=Ou(),is={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Bo++,i.then(Tf,Tf),i}function Tf(){if(--Bo===0&&Js!==null){is!==null&&(is.status="fulfilled");var e=Js;Js=null,es=0,is=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function __(e,i){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var c=0;c<s.length;c++)(0,s[c])(i)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Mf=z.S;z.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&y_(e,i),Mf!==null&&Mf(e,i)};var An=q(null);function zo(){var e=An.current;return e!==null?e:zt.pooledCache}function vr(e,i){i===null?F(An,An.current):F(An,i.pool)}function Cf(){var e=zo();return e===null?null:{parent:Kt._currentValue,pool:e}}var ta=Error(r(460)),Ef=Error(r(474)),Sr=Error(r(542)),Oo={then:function(){}};function Rf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ar(){}function Bf(e,i,s){switch(s=e[s],s===void 0?e.push(i):s!==i&&(i.then(Ar,Ar),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Of(e),e;default:if(typeof i.status=="string")i.then(Ar,Ar);else{if(e=zt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var c=i;c.status="fulfilled",c.value=l}},function(l){if(i.status==="pending"){var c=i;c.status="rejected",c.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Of(e),e}throw ea=i,ta}}var ea=null;function zf(){if(ea===null)throw Error(r(459));var e=ea;return ea=null,e}function Of(e){if(e===ta||e===Sr)throw Error(r(483))}var Pi=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uo(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Yi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xi(e,i,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(At&2)!==0){var c=l.pending;return c===null?i.next=i:(i.next=c.next,c.next=i),l.pending=i,i=mr(e),_f(e,null,s),i}return pr(e,l,i,s),mr(e)}function ia(e,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,s|=l,i.lanes=s,wh(e,s)}}function Go(e,i){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?c=d=y:d=d.next=y,s=s.next}while(s!==null);d===null?c=d=i:d=d.next=i}else c=d=i;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=i:e.next=i,s.lastBaseUpdate=i}var ko=!1;function na(){if(ko){var e=is;if(e!==null)throw e}}function sa(e,i,s,l){ko=!1;var c=e.updateQueue;Pi=!1;var d=c.firstBaseUpdate,y=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var w=b,U=w.next;w.next=null,y===null?d=U:y.next=U,y=w;var N=e.alternate;N!==null&&(N=N.updateQueue,b=N.lastBaseUpdate,b!==y&&(b===null?N.firstBaseUpdate=U:b.next=U,N.lastBaseUpdate=w))}if(d!==null){var Y=c.baseState;y=0,N=U=w=null,b=d;do{var G=b.lane&-536870913,k=G!==b.lane;if(k?(xt&G)===G:(l&G)===G){G!==0&&G===es&&(ko=!0),N!==null&&(N=N.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var ot=e,at=b;G=i;var Et=s;switch(at.tag){case 1:if(ot=at.payload,typeof ot=="function"){Y=ot.call(Et,Y,G);break t}Y=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=at.payload,G=typeof ot=="function"?ot.call(Et,Y,G):ot,G==null)break t;Y=g({},Y,G);break t;case 2:Pi=!0}}G=b.callback,G!==null&&(e.flags|=64,k&&(e.flags|=8192),k=c.callbacks,k===null?c.callbacks=[G]:k.push(G))}else k={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},N===null?(U=N=k,w=Y):N=N.next=k,y|=G;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;k=b,b=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);N===null&&(w=Y),c.baseState=w,c.firstBaseUpdate=U,c.lastBaseUpdate=N,d===null&&(c.shared.lanes=0),Ii|=y,e.lanes=y,e.memoizedState=Y}}function Df(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function Uf(e,i){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Df(s[e],i)}var ns=q(null),wr=q(0);function Gf(e,i){e=Ti,F(wr,e),F(ns,i),Ti=e|i.baseLanes}function Ho(){F(wr,Ti),F(ns,ns.current)}function No(){Ti=wr.current,Z(ns),Z(wr)}var ji=0,ft=null,Mt=null,Qt=null,Tr=!1,ss=!1,wn=!1,Mr=0,aa=0,as=null,x_=0;function jt(){throw Error(r(321))}function Lo(e,i){if(i===null)return!1;for(var s=0;s<i.length&&s<e.length;s++)if(!Me(e[s],i[s]))return!1;return!0}function Po(e,i,s,l,c,d){return ji=d,ft=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,z.H=e===null||e.memoizedState===null?_d:xd,wn=!1,d=s(l,c),wn=!1,ss&&(d=Hf(i,s,l,c)),kf(e),d}function kf(e){z.H=Or;var i=Mt!==null&&Mt.next!==null;if(ji=0,Qt=Mt=ft=null,Tr=!1,aa=0,as=null,i)throw Error(r(300));e===null||te||(e=e.dependencies,e!==null&&xr(e)&&(te=!0))}function Hf(e,i,s,l){ft=e;var c=0;do{if(ss&&(as=null),aa=0,ss=!1,25<=c)throw Error(r(301));if(c+=1,Qt=Mt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}z.H=M_,d=i(s,l)}while(ss);return d}function b_(){var e=z.H,i=e.useState()[0];return i=typeof i.then=="function"?ra(i):i,e=e.useState()[0],(Mt!==null?Mt.memoizedState:null)!==e&&(ft.flags|=1024),i}function Yo(){var e=Mr!==0;return Mr=0,e}function Xo(e,i,s){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~s}function jo(e){if(Tr){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Tr=!1}ji=0,Qt=Mt=ft=null,ss=!1,aa=Mr=0,as=null}function _e(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?ft.memoizedState=Qt=e:Qt=Qt.next=e,Qt}function Wt(){if(Mt===null){var e=ft.alternate;e=e!==null?e.memoizedState:null}else e=Mt.next;var i=Qt===null?ft.memoizedState:Qt.next;if(i!==null)Qt=i,Mt=e;else{if(e===null)throw ft.alternate===null?Error(r(467)):Error(r(310));Mt=e,e={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Qt===null?ft.memoizedState=Qt=e:Qt=Qt.next=e}return Qt}function Vo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ra(e){var i=aa;return aa+=1,as===null&&(as=[]),e=Bf(as,e,i),i=ft,(Qt===null?i.memoizedState:Qt.next)===null&&(i=i.alternate,z.H=i===null||i.memoizedState===null?_d:xd),e}function Cr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ra(e);if(e.$$typeof===D)return fe(e)}throw Error(r(438,String(e)))}function qo(e){var i=null,s=ft.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=ft.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(c){return c.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Vo(),ft.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(e),l=0;l<e;l++)s[l]=Q;return i.index++,s}function xi(e,i){return typeof i=="function"?i(e):i}function Er(e){var i=Wt();return Fo(i,Mt,e)}function Fo(e,i,s){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=e.baseQueue,d=l.pending;if(d!==null){if(c!==null){var y=c.next;c.next=d.next,d.next=y}i.baseQueue=c=d,l.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{i=c.next;var b=y=null,w=null,U=i,N=!1;do{var Y=U.lane&-536870913;if(Y!==U.lane?(xt&Y)===Y:(ji&Y)===Y){var G=U.revertLane;if(G===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Y===es&&(N=!0);else if((ji&G)===G){U=U.next,G===es&&(N=!0);continue}else Y={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},w===null?(b=w=Y,y=d):w=w.next=Y,ft.lanes|=G,Ii|=G;Y=U.action,wn&&s(d,Y),d=U.hasEagerState?U.eagerState:s(d,Y)}else G={lane:Y,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},w===null?(b=w=G,y=d):w=w.next=G,ft.lanes|=Y,Ii|=Y;U=U.next}while(U!==null&&U!==i);if(w===null?y=d:w.next=b,!Me(d,e.memoizedState)&&(te=!0,N&&(s=is,s!==null)))throw s;e.memoizedState=d,e.baseState=y,e.baseQueue=w,l.lastRenderedState=d}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Zo(e){var i=Wt(),s=i.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,c=s.pending,d=i.memoizedState;if(c!==null){s.pending=null;var y=c=c.next;do d=e(d,y.action),y=y.next;while(y!==c);Me(d,i.memoizedState)||(te=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function Nf(e,i,s){var l=ft,c=Wt(),d=vt;if(d){if(s===void 0)throw Error(r(407));s=s()}else s=i();var y=!Me((Mt||c).memoizedState,s);y&&(c.memoizedState=s,te=!0),c=c.queue;var b=Yf.bind(null,l,c,e);if(la(2048,8,b,[e]),c.getSnapshot!==i||y||Qt!==null&&Qt.memoizedState.tag&1){if(l.flags|=2048,rs(9,Rr(),Pf.bind(null,l,c,s,i),null),zt===null)throw Error(r(349));d||(ji&124)!==0||Lf(l,i,s)}return s}function Lf(e,i,s){e.flags|=16384,e={getSnapshot:i,value:s},i=ft.updateQueue,i===null?(i=Vo(),ft.updateQueue=i,i.stores=[e]):(s=i.stores,s===null?i.stores=[e]:s.push(e))}function Pf(e,i,s,l){i.value=s,i.getSnapshot=l,Xf(i)&&jf(e)}function Yf(e,i,s){return s(function(){Xf(i)&&jf(e)})}function Xf(e){var i=e.getSnapshot;e=e.value;try{var s=i();return!Me(e,s)}catch{return!0}}function jf(e){var i=Kn(e,2);i!==null&&Oe(i,e,2)}function Qo(e){var i=_e();if(typeof e=="function"){var s=e;if(e=s(),wn){ki(!0);try{s()}finally{ki(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:e},i}function Vf(e,i,s,l){return e.baseState=s,Fo(e,Mt,typeof l=="function"?l:xi)}function v_(e,i,s,l,c){if(zr(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};z.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,qf(i,d)):(d.next=s.next,i.pending=s.next=d)}}function qf(e,i){var s=i.action,l=i.payload,c=e.state;if(i.isTransition){var d=z.T,y={};z.T=y;try{var b=s(c,l),w=z.S;w!==null&&w(y,b),Ff(e,i,b)}catch(U){Wo(e,i,U)}finally{z.T=d}}else try{d=s(c,l),Ff(e,i,d)}catch(U){Wo(e,i,U)}}function Ff(e,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Zf(e,i,l)},function(l){return Wo(e,i,l)}):Zf(e,i,s)}function Zf(e,i,s){i.status="fulfilled",i.value=s,Qf(i),e.state=s,i=e.pending,i!==null&&(s=i.next,s===i?e.pending=null:(s=s.next,i.next=s,qf(e,s)))}function Wo(e,i,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Qf(i),i=i.next;while(i!==l)}e.action=null}function Qf(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Wf(e,i){return i}function If(e,i){if(vt){var s=zt.formState;if(s!==null){t:{var l=ft;if(vt){if(Pt){e:{for(var c=Pt,d=ni;c.nodeType!==8;){if(!d){c=null;break e}if(c=Ke(c.nextSibling),c===null){c=null;break e}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Pt=Ke(c.nextSibling),l=c.data==="F!";break t}}bn(l)}l=!1}l&&(i=s[0])}}return s=_e(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wf,lastRenderedState:i},s.queue=l,s=md.bind(null,ft,l),l.dispatch=s,l=Qo(!1),d=tu.bind(null,ft,!1,l.queue),l=_e(),c={state:i,dispatch:null,action:e,pending:null},l.queue=c,s=v_.bind(null,ft,c,d,s),c.dispatch=s,l.memoizedState=e,[i,s,!1]}function Kf(e){var i=Wt();return $f(i,Mt,e)}function $f(e,i,s){if(i=Fo(e,i,Wf)[0],e=Er(xi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ra(i)}catch(y){throw y===ta?Sr:y}else l=i;i=Wt();var c=i.queue,d=c.dispatch;return s!==i.memoizedState&&(ft.flags|=2048,rs(9,Rr(),S_.bind(null,c,s),null)),[l,d,e]}function S_(e,i){e.action=i}function Jf(e){var i=Wt(),s=Mt;if(s!==null)return $f(i,s,e);Wt(),i=i.memoizedState,s=Wt();var l=s.queue.dispatch;return s.memoizedState=e,[i,l,!1]}function rs(e,i,s,l){return e={tag:e,create:s,deps:l,inst:i,next:null},i=ft.updateQueue,i===null&&(i=Vo(),ft.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,i.lastEffect=e),e}function Rr(){return{destroy:void 0,resource:void 0}}function td(){return Wt().memoizedState}function Br(e,i,s,l){var c=_e();l=l===void 0?null:l,ft.flags|=e,c.memoizedState=rs(1|i,Rr(),s,l)}function la(e,i,s,l){var c=Wt();l=l===void 0?null:l;var d=c.memoizedState.inst;Mt!==null&&l!==null&&Lo(l,Mt.memoizedState.deps)?c.memoizedState=rs(i,d,s,l):(ft.flags|=e,c.memoizedState=rs(1|i,d,s,l))}function ed(e,i){Br(8390656,8,e,i)}function id(e,i){la(2048,8,e,i)}function nd(e,i){return la(4,2,e,i)}function sd(e,i){return la(4,4,e,i)}function ad(e,i){if(typeof i=="function"){e=e();var s=i(e);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function rd(e,i,s){s=s!=null?s.concat([e]):null,la(4,4,ad.bind(null,i,e),s)}function Io(){}function ld(e,i){var s=Wt();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&Lo(i,l[1])?l[0]:(s.memoizedState=[e,i],e)}function od(e,i){var s=Wt();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&Lo(i,l[1]))return l[0];if(l=e(),wn){ki(!0);try{e()}finally{ki(!1)}}return s.memoizedState=[l,i],l}function Ko(e,i,s){return s===void 0||(ji&1073741824)!==0?e.memoizedState=i:(e.memoizedState=s,e=hp(),ft.lanes|=e,Ii|=e,s)}function ud(e,i,s,l){return Me(s,i)?s:ns.current!==null?(e=Ko(e,s,l),Me(e,i)||(te=!0),e):(ji&42)===0?(te=!0,e.memoizedState=s):(e=hp(),ft.lanes|=e,Ii|=e,i)}function cd(e,i,s,l,c){var d=P.p;P.p=d!==0&&8>d?d:8;var y=z.T,b={};z.T=b,tu(e,!1,i,s);try{var w=c(),U=z.S;if(U!==null&&U(b,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var N=__(w,l);oa(e,i,N,ze(e))}else oa(e,i,l,ze(e))}catch(Y){oa(e,i,{then:function(){},status:"rejected",reason:Y},ze())}finally{P.p=d,z.T=y}}function A_(){}function $o(e,i,s,l){if(e.tag!==5)throw Error(r(476));var c=hd(e).queue;cd(e,c,i,st,s===null?A_:function(){return fd(e),s(l)})}function hd(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:st},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:s},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function fd(e){var i=hd(e).next.queue;oa(e,i,{},ze())}function Jo(){return fe(Ma)}function dd(){return Wt().memoizedState}function pd(){return Wt().memoizedState}function w_(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var s=ze();e=Yi(s);var l=Xi(i,e,s);l!==null&&(Oe(l,i,s),ia(l,i,s)),i={cache:Ro()},e.payload=i;return}i=i.return}}function T_(e,i,s){var l=ze();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},zr(e)?gd(i,s):(s=xo(e,i,s,l),s!==null&&(Oe(s,e,l),yd(s,i,l)))}function md(e,i,s){var l=ze();oa(e,i,s,l)}function oa(e,i,s,l){var c={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(zr(e))gd(i,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var y=i.lastRenderedState,b=d(y,s);if(c.hasEagerState=!0,c.eagerState=b,Me(b,y))return pr(e,i,c,0),zt===null&&dr(),!1}catch{}finally{}if(s=xo(e,i,c,l),s!==null)return Oe(s,e,l),yd(s,i,l),!0}return!1}function tu(e,i,s,l){if(l={lane:2,revertLane:Ou(),action:l,hasEagerState:!1,eagerState:null,next:null},zr(e)){if(i)throw Error(r(479))}else i=xo(e,s,l,2),i!==null&&Oe(i,e,2)}function zr(e){var i=e.alternate;return e===ft||i!==null&&i===ft}function gd(e,i){ss=Tr=!0;var s=e.pending;s===null?i.next=i:(i.next=s.next,s.next=i),e.pending=i}function yd(e,i,s){if((s&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,s|=l,i.lanes=s,wh(e,s)}}var Or={readContext:fe,use:Cr,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt},_d={readContext:fe,use:Cr,useCallback:function(e,i){return _e().memoizedState=[e,i===void 0?null:i],e},useContext:fe,useEffect:ed,useImperativeHandle:function(e,i,s){s=s!=null?s.concat([e]):null,Br(4194308,4,ad.bind(null,i,e),s)},useLayoutEffect:function(e,i){return Br(4194308,4,e,i)},useInsertionEffect:function(e,i){Br(4,2,e,i)},useMemo:function(e,i){var s=_e();i=i===void 0?null:i;var l=e();if(wn){ki(!0);try{e()}finally{ki(!1)}}return s.memoizedState=[l,i],l},useReducer:function(e,i,s){var l=_e();if(s!==void 0){var c=s(i);if(wn){ki(!0);try{s(i)}finally{ki(!1)}}}else c=i;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=T_.bind(null,ft,e),[l.memoizedState,e]},useRef:function(e){var i=_e();return e={current:e},i.memoizedState=e},useState:function(e){e=Qo(e);var i=e.queue,s=md.bind(null,ft,i);return i.dispatch=s,[e.memoizedState,s]},useDebugValue:Io,useDeferredValue:function(e,i){var s=_e();return Ko(s,e,i)},useTransition:function(){var e=Qo(!1);return e=cd.bind(null,ft,e.queue,!0,!1),_e().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,s){var l=ft,c=_e();if(vt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=i(),zt===null)throw Error(r(349));(xt&124)!==0||Lf(l,i,s)}c.memoizedState=s;var d={value:s,getSnapshot:i};return c.queue=d,ed(Yf.bind(null,l,d,e),[e]),l.flags|=2048,rs(9,Rr(),Pf.bind(null,l,d,s,i),null),s},useId:function(){var e=_e(),i=zt.identifierPrefix;if(vt){var s=gi,l=mi;s=(l&~(1<<32-Te(l)-1)).toString(32)+s,i=""+i+"R"+s,s=Mr++,0<s&&(i+="H"+s.toString(32)),i+=""}else s=x_++,i=""+i+"r"+s.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Jo,useFormState:If,useActionState:If,useOptimistic:function(e){var i=_e();i.memoizedState=i.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=tu.bind(null,ft,!0,s),s.dispatch=i,[e,i]},useMemoCache:qo,useCacheRefresh:function(){return _e().memoizedState=w_.bind(null,ft)}},xd={readContext:fe,use:Cr,useCallback:ld,useContext:fe,useEffect:id,useImperativeHandle:rd,useInsertionEffect:nd,useLayoutEffect:sd,useMemo:od,useReducer:Er,useRef:td,useState:function(){return Er(xi)},useDebugValue:Io,useDeferredValue:function(e,i){var s=Wt();return ud(s,Mt.memoizedState,e,i)},useTransition:function(){var e=Er(xi)[0],i=Wt().memoizedState;return[typeof e=="boolean"?e:ra(e),i]},useSyncExternalStore:Nf,useId:dd,useHostTransitionStatus:Jo,useFormState:Kf,useActionState:Kf,useOptimistic:function(e,i){var s=Wt();return Vf(s,Mt,e,i)},useMemoCache:qo,useCacheRefresh:pd},M_={readContext:fe,use:Cr,useCallback:ld,useContext:fe,useEffect:id,useImperativeHandle:rd,useInsertionEffect:nd,useLayoutEffect:sd,useMemo:od,useReducer:Zo,useRef:td,useState:function(){return Zo(xi)},useDebugValue:Io,useDeferredValue:function(e,i){var s=Wt();return Mt===null?Ko(s,e,i):ud(s,Mt.memoizedState,e,i)},useTransition:function(){var e=Zo(xi)[0],i=Wt().memoizedState;return[typeof e=="boolean"?e:ra(e),i]},useSyncExternalStore:Nf,useId:dd,useHostTransitionStatus:Jo,useFormState:Jf,useActionState:Jf,useOptimistic:function(e,i){var s=Wt();return Mt!==null?Vf(s,Mt,e,i):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:qo,useCacheRefresh:pd},ls=null,ua=0;function Dr(e){var i=ua;return ua+=1,ls===null&&(ls=[]),Bf(ls,e,i)}function ca(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ur(e,i){throw i.$$typeof===_?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function bd(e){var i=e._init;return i(e._payload)}function vd(e){function i(R,C){if(e){var O=R.deletions;O===null?(R.deletions=[C],R.flags|=16):O.push(C)}}function s(R,C){if(!e)return null;for(;C!==null;)i(R,C),C=C.sibling;return null}function l(R){for(var C=new Map;R!==null;)R.key!==null?C.set(R.key,R):C.set(R.index,R),R=R.sibling;return C}function c(R,C){return R=pi(R,C),R.index=0,R.sibling=null,R}function d(R,C,O){return R.index=O,e?(O=R.alternate,O!==null?(O=O.index,O<C?(R.flags|=67108866,C):O):(R.flags|=67108866,C)):(R.flags|=1048576,C)}function y(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function b(R,C,O,L){return C===null||C.tag!==6?(C=vo(O,R.mode,L),C.return=R,C):(C=c(C,O),C.return=R,C)}function w(R,C,O,L){var I=O.type;return I===S?N(R,C,O.props.children,L,O.key):C!==null&&(C.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===it&&bd(I)===C.type)?(C=c(C,O.props),ca(C,O),C.return=R,C):(C=gr(O.type,O.key,O.props,null,R.mode,L),ca(C,O),C.return=R,C)}function U(R,C,O,L){return C===null||C.tag!==4||C.stateNode.containerInfo!==O.containerInfo||C.stateNode.implementation!==O.implementation?(C=So(O,R.mode,L),C.return=R,C):(C=c(C,O.children||[]),C.return=R,C)}function N(R,C,O,L,I){return C===null||C.tag!==7?(C=gn(O,R.mode,L,I),C.return=R,C):(C=c(C,O),C.return=R,C)}function Y(R,C,O){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=vo(""+C,R.mode,O),C.return=R,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case v:return O=gr(C.type,C.key,C.props,null,R.mode,O),ca(O,C),O.return=R,O;case x:return C=So(C,R.mode,O),C.return=R,C;case it:var L=C._init;return C=L(C._payload),Y(R,C,O)}if(Lt(C)||ht(C))return C=gn(C,R.mode,O,null),C.return=R,C;if(typeof C.then=="function")return Y(R,Dr(C),O);if(C.$$typeof===D)return Y(R,br(R,C),O);Ur(R,C)}return null}function G(R,C,O,L){var I=C!==null?C.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return I!==null?null:b(R,C,""+O,L);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case v:return O.key===I?w(R,C,O,L):null;case x:return O.key===I?U(R,C,O,L):null;case it:return I=O._init,O=I(O._payload),G(R,C,O,L)}if(Lt(O)||ht(O))return I!==null?null:N(R,C,O,L,null);if(typeof O.then=="function")return G(R,C,Dr(O),L);if(O.$$typeof===D)return G(R,C,br(R,O),L);Ur(R,O)}return null}function k(R,C,O,L,I){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return R=R.get(O)||null,b(C,R,""+L,I);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case v:return R=R.get(L.key===null?O:L.key)||null,w(C,R,L,I);case x:return R=R.get(L.key===null?O:L.key)||null,U(C,R,L,I);case it:var dt=L._init;return L=dt(L._payload),k(R,C,O,L,I)}if(Lt(L)||ht(L))return R=R.get(O)||null,N(C,R,L,I,null);if(typeof L.then=="function")return k(R,C,O,Dr(L),I);if(L.$$typeof===D)return k(R,C,O,br(C,L),I);Ur(C,L)}return null}function ot(R,C,O,L){for(var I=null,dt=null,K=C,lt=C=0,ie=null;K!==null&&lt<O.length;lt++){K.index>lt?(ie=K,K=null):ie=K.sibling;var bt=G(R,K,O[lt],L);if(bt===null){K===null&&(K=ie);break}e&&K&&bt.alternate===null&&i(R,K),C=d(bt,C,lt),dt===null?I=bt:dt.sibling=bt,dt=bt,K=ie}if(lt===O.length)return s(R,K),vt&&_n(R,lt),I;if(K===null){for(;lt<O.length;lt++)K=Y(R,O[lt],L),K!==null&&(C=d(K,C,lt),dt===null?I=K:dt.sibling=K,dt=K);return vt&&_n(R,lt),I}for(K=l(K);lt<O.length;lt++)ie=k(K,R,lt,O[lt],L),ie!==null&&(e&&ie.alternate!==null&&K.delete(ie.key===null?lt:ie.key),C=d(ie,C,lt),dt===null?I=ie:dt.sibling=ie,dt=ie);return e&&K.forEach(function(rn){return i(R,rn)}),vt&&_n(R,lt),I}function at(R,C,O,L){if(O==null)throw Error(r(151));for(var I=null,dt=null,K=C,lt=C=0,ie=null,bt=O.next();K!==null&&!bt.done;lt++,bt=O.next()){K.index>lt?(ie=K,K=null):ie=K.sibling;var rn=G(R,K,bt.value,L);if(rn===null){K===null&&(K=ie);break}e&&K&&rn.alternate===null&&i(R,K),C=d(rn,C,lt),dt===null?I=rn:dt.sibling=rn,dt=rn,K=ie}if(bt.done)return s(R,K),vt&&_n(R,lt),I;if(K===null){for(;!bt.done;lt++,bt=O.next())bt=Y(R,bt.value,L),bt!==null&&(C=d(bt,C,lt),dt===null?I=bt:dt.sibling=bt,dt=bt);return vt&&_n(R,lt),I}for(K=l(K);!bt.done;lt++,bt=O.next())bt=k(K,R,lt,bt.value,L),bt!==null&&(e&&bt.alternate!==null&&K.delete(bt.key===null?lt:bt.key),C=d(bt,C,lt),dt===null?I=bt:dt.sibling=bt,dt=bt);return e&&K.forEach(function(Cx){return i(R,Cx)}),vt&&_n(R,lt),I}function Et(R,C,O,L){if(typeof O=="object"&&O!==null&&O.type===S&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case v:t:{for(var I=O.key;C!==null;){if(C.key===I){if(I=O.type,I===S){if(C.tag===7){s(R,C.sibling),L=c(C,O.props.children),L.return=R,R=L;break t}}else if(C.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===it&&bd(I)===C.type){s(R,C.sibling),L=c(C,O.props),ca(L,O),L.return=R,R=L;break t}s(R,C);break}else i(R,C);C=C.sibling}O.type===S?(L=gn(O.props.children,R.mode,L,O.key),L.return=R,R=L):(L=gr(O.type,O.key,O.props,null,R.mode,L),ca(L,O),L.return=R,R=L)}return y(R);case x:t:{for(I=O.key;C!==null;){if(C.key===I)if(C.tag===4&&C.stateNode.containerInfo===O.containerInfo&&C.stateNode.implementation===O.implementation){s(R,C.sibling),L=c(C,O.children||[]),L.return=R,R=L;break t}else{s(R,C);break}else i(R,C);C=C.sibling}L=So(O,R.mode,L),L.return=R,R=L}return y(R);case it:return I=O._init,O=I(O._payload),Et(R,C,O,L)}if(Lt(O))return ot(R,C,O,L);if(ht(O)){if(I=ht(O),typeof I!="function")throw Error(r(150));return O=I.call(O),at(R,C,O,L)}if(typeof O.then=="function")return Et(R,C,Dr(O),L);if(O.$$typeof===D)return Et(R,C,br(R,O),L);Ur(R,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,C!==null&&C.tag===6?(s(R,C.sibling),L=c(C,O),L.return=R,R=L):(s(R,C),L=vo(O,R.mode,L),L.return=R,R=L),y(R)):s(R,C)}return function(R,C,O,L){try{ua=0;var I=Et(R,C,O,L);return ls=null,I}catch(K){if(K===ta||K===Sr)throw K;var dt=Ce(29,K,null,R.mode);return dt.lanes=L,dt.return=R,dt}finally{}}}var os=vd(!0),Sd=vd(!1),Ye=q(null),si=null;function Vi(e){var i=e.alternate;F($t,$t.current&1),F(Ye,e),si===null&&(i===null||ns.current!==null||i.memoizedState!==null)&&(si=e)}function Ad(e){if(e.tag===22){if(F($t,$t.current),F(Ye,e),si===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(si=e)}}else qi()}function qi(){F($t,$t.current),F(Ye,Ye.current)}function bi(e){Z(Ye),si===e&&(si=null),Z($t)}var $t=q(0);function Gr(e){for(var i=e;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Vu(s)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function eu(e,i,s,l){i=e.memoizedState,s=s(l,i),s=s==null?i:g({},i,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var iu={enqueueSetState:function(e,i,s){e=e._reactInternals;var l=ze(),c=Yi(l);c.payload=i,s!=null&&(c.callback=s),i=Xi(e,c,l),i!==null&&(Oe(i,e,l),ia(i,e,l))},enqueueReplaceState:function(e,i,s){e=e._reactInternals;var l=ze(),c=Yi(l);c.tag=1,c.payload=i,s!=null&&(c.callback=s),i=Xi(e,c,l),i!==null&&(Oe(i,e,l),ia(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var s=ze(),l=Yi(s);l.tag=2,i!=null&&(l.callback=i),i=Xi(e,l,s),i!==null&&(Oe(i,e,s),ia(i,e,s))}};function wd(e,i,s,l,c,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,y):i.prototype&&i.prototype.isPureReactComponent?!Fs(s,l)||!Fs(c,d):!0}function Td(e,i,s,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==e&&iu.enqueueReplaceState(i,i.state,null)}function Tn(e,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(e=e.defaultProps){s===i&&(s=g({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}var kr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Md(e){kr(e)}function Cd(e){console.error(e)}function Ed(e){kr(e)}function Hr(e,i){try{var s=e.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Rd(e,i,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function nu(e,i,s){return s=Yi(s),s.tag=3,s.payload={element:null},s.callback=function(){Hr(e,i)},s}function Bd(e){return e=Yi(e),e.tag=3,e}function zd(e,i,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;e.payload=function(){return c(d)},e.callback=function(){Rd(i,s,l)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Rd(i,s,l),typeof c!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function C_(e,i,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&Ks(i,s,c,!0),s=Ye.current,s!==null){switch(s.tag){case 13:return si===null?Cu():s.alternate===null&&Yt===0&&(Yt=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===Oo?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Ru(e,l,c)),!1;case 22:return s.flags|=65536,l===Oo?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Ru(e,l,c)),!1}throw Error(r(435,s.tag))}return Ru(e,l,c),Cu(),!1}if(vt)return i=Ye.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=c,l!==To&&(e=Error(r(422),{cause:l}),Is(He(e,s)))):(l!==To&&(i=Error(r(423),{cause:l}),Is(He(i,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=He(l,s),c=nu(e.stateNode,l,c),Go(e,c),Yt!==4&&(Yt=2)),!1;var d=Error(r(520),{cause:l});if(d=He(d,s),ya===null?ya=[d]:ya.push(d),Yt!==4&&(Yt=2),i===null)return!0;l=He(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=nu(s.stateNode,l,e),Go(s,e),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ki===null||!Ki.has(d))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Bd(c),zd(c,e,s,l),Go(s,c),!1}s=s.return}while(s!==null);return!1}var Od=Error(r(461)),te=!1;function re(e,i,s,l){i.child=e===null?Sd(i,null,s,l):os(i,e.child,s,l)}function Dd(e,i,s,l,c){s=s.render;var d=i.ref;if("ref"in l){var y={};for(var b in l)b!=="ref"&&(y[b]=l[b])}else y=l;return Sn(i),l=Po(e,i,s,y,d,c),b=Yo(),e!==null&&!te?(Xo(e,i,c),vi(e,i,c)):(vt&&b&&Ao(i),i.flags|=1,re(e,i,l,c),i.child)}function Ud(e,i,s,l,c){if(e===null){var d=s.type;return typeof d=="function"&&!bo(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,Gd(e,i,d,l,c)):(e=gr(s.type,null,l,i,i.mode,c),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!hu(e,c)){var y=d.memoizedProps;if(s=s.compare,s=s!==null?s:Fs,s(y,l)&&e.ref===i.ref)return vi(e,i,c)}return i.flags|=1,e=pi(d,l),e.ref=i.ref,e.return=i,i.child=e}function Gd(e,i,s,l,c){if(e!==null){var d=e.memoizedProps;if(Fs(d,l)&&e.ref===i.ref)if(te=!1,i.pendingProps=l=d,hu(e,c))(e.flags&131072)!==0&&(te=!0);else return i.lanes=e.lanes,vi(e,i,c)}return su(e,i,s,l,c)}function kd(e,i,s){var l=i.pendingProps,c=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,e!==null){for(c=i.child=e.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Hd(e,i,l,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&vr(i,d!==null?d.cachePool:null),d!==null?Gf(i,d):Ho(),Ad(i);else return i.lanes=i.childLanes=536870912,Hd(e,i,d!==null?d.baseLanes|s:s,s)}else d!==null?(vr(i,d.cachePool),Gf(i,d),qi(),i.memoizedState=null):(e!==null&&vr(i,null),Ho(),qi());return re(e,i,c,s),i.child}function Hd(e,i,s,l){var c=zo();return c=c===null?null:{parent:Kt._currentValue,pool:c},i.memoizedState={baseLanes:s,cachePool:c},e!==null&&vr(i,null),Ho(),Ad(i),e!==null&&Ks(e,i,l,!0),null}function Nr(e,i){var s=i.ref;if(s===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(i.flags|=4194816)}}function su(e,i,s,l,c){return Sn(i),s=Po(e,i,s,l,void 0,c),l=Yo(),e!==null&&!te?(Xo(e,i,c),vi(e,i,c)):(vt&&l&&Ao(i),i.flags|=1,re(e,i,s,c),i.child)}function Nd(e,i,s,l,c,d){return Sn(i),i.updateQueue=null,s=Hf(i,l,s,c),kf(e),l=Yo(),e!==null&&!te?(Xo(e,i,d),vi(e,i,d)):(vt&&l&&Ao(i),i.flags|=1,re(e,i,s,d),i.child)}function Ld(e,i,s,l,c){if(Sn(i),i.stateNode===null){var d=$n,y=s.contextType;typeof y=="object"&&y!==null&&(d=fe(y)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=iu,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Do(i),y=s.contextType,d.context=typeof y=="object"&&y!==null?fe(y):$n,d.state=i.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(eu(i,s,y,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&iu.enqueueReplaceState(d,d.state,null),sa(i,l,d,c),na(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var b=i.memoizedProps,w=Tn(s,b);d.props=w;var U=d.context,N=s.contextType;y=$n,typeof N=="object"&&N!==null&&(y=fe(N));var Y=s.getDerivedStateFromProps;N=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,N||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||U!==y)&&Td(i,d,l,y),Pi=!1;var G=i.memoizedState;d.state=G,sa(i,l,d,c),na(),U=i.memoizedState,b||G!==U||Pi?(typeof Y=="function"&&(eu(i,s,Y,l),U=i.memoizedState),(w=Pi||wd(i,s,w,l,G,U,y))?(N||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=U),d.props=l,d.state=U,d.context=y,l=w):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Uo(e,i),y=i.memoizedProps,N=Tn(s,y),d.props=N,Y=i.pendingProps,G=d.context,U=s.contextType,w=$n,typeof U=="object"&&U!==null&&(w=fe(U)),b=s.getDerivedStateFromProps,(U=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==Y||G!==w)&&Td(i,d,l,w),Pi=!1,G=i.memoizedState,d.state=G,sa(i,l,d,c),na();var k=i.memoizedState;y!==Y||G!==k||Pi||e!==null&&e.dependencies!==null&&xr(e.dependencies)?(typeof b=="function"&&(eu(i,s,b,l),k=i.memoizedState),(N=Pi||wd(i,s,N,l,G,k,w)||e!==null&&e.dependencies!==null&&xr(e.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,k,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,k,w)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=k),d.props=l,d.state=k,d.context=w,l=N):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Nr(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=os(i,e.child,null,c),i.child=os(i,null,s,c)):re(e,i,s,c),i.memoizedState=d.state,e=i.child):e=vi(e,i,c),e}function Pd(e,i,s,l){return Ws(),i.flags|=256,re(e,i,s,l),i.child}var au={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ru(e){return{baseLanes:e,cachePool:Cf()}}function lu(e,i,s){return e=e!==null?e.childLanes&~s:0,i&&(e|=Xe),e}function Yd(e,i,s){var l=i.pendingProps,c=!1,d=(i.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:($t.current&2)!==0),y&&(c=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,e===null){if(vt){if(c?Vi(i):qi(),vt){var b=Pt,w;if(w=b){t:{for(w=b,b=ni;w.nodeType!==8;){if(!b){b=null;break t}if(w=Ke(w.nextSibling),w===null){b=null;break t}}b=w}b!==null?(i.memoizedState={dehydrated:b,treeContext:yn!==null?{id:mi,overflow:gi}:null,retryLane:536870912,hydrationErrors:null},w=Ce(18,null,null,0),w.stateNode=b,w.return=i,i.child=w,pe=i,Pt=null,w=!0):w=!1}w||bn(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Vu(b)?i.lanes=32:i.lanes=536870912,null;bi(i)}return b=l.children,l=l.fallback,c?(qi(),c=i.mode,b=Lr({mode:"hidden",children:b},c),l=gn(l,c,s,null),b.return=i,l.return=i,b.sibling=l,i.child=b,c=i.child,c.memoizedState=ru(s),c.childLanes=lu(e,y,s),i.memoizedState=au,l):(Vi(i),ou(i,b))}if(w=e.memoizedState,w!==null&&(b=w.dehydrated,b!==null)){if(d)i.flags&256?(Vi(i),i.flags&=-257,i=uu(e,i,s)):i.memoizedState!==null?(qi(),i.child=e.child,i.flags|=128,i=null):(qi(),c=l.fallback,b=i.mode,l=Lr({mode:"visible",children:l.children},b),c=gn(c,b,s,null),c.flags|=2,l.return=i,c.return=i,l.sibling=c,i.child=l,os(i,e.child,null,s),l=i.child,l.memoizedState=ru(s),l.childLanes=lu(e,y,s),i.memoizedState=au,i=c);else if(Vi(i),Vu(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var U=y.dgst;y=U,l=Error(r(419)),l.stack="",l.digest=y,Is({value:l,source:null,stack:null}),i=uu(e,i,s)}else if(te||Ks(e,i,s,!1),y=(s&e.childLanes)!==0,te||y){if(y=zt,y!==null&&(l=s&-s,l=(l&42)!==0?1:Vl(l),l=(l&(y.suspendedLanes|s))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,Kn(e,l),Oe(y,e,l),Od;b.data==="$?"||Cu(),i=uu(e,i,s)}else b.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=w.treeContext,Pt=Ke(b.nextSibling),pe=i,vt=!0,xn=null,ni=!1,e!==null&&(Le[Pe++]=mi,Le[Pe++]=gi,Le[Pe++]=yn,mi=e.id,gi=e.overflow,yn=i),i=ou(i,l.children),i.flags|=4096);return i}return c?(qi(),c=l.fallback,b=i.mode,w=e.child,U=w.sibling,l=pi(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,U!==null?c=pi(U,c):(c=gn(c,b,s,null),c.flags|=2),c.return=i,l.return=i,l.sibling=c,i.child=l,l=c,c=i.child,b=e.child.memoizedState,b===null?b=ru(s):(w=b.cachePool,w!==null?(U=Kt._currentValue,w=w.parent!==U?{parent:U,pool:U}:w):w=Cf(),b={baseLanes:b.baseLanes|s,cachePool:w}),c.memoizedState=b,c.childLanes=lu(e,y,s),i.memoizedState=au,l):(Vi(i),s=e.child,e=s.sibling,s=pi(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,e!==null&&(y=i.deletions,y===null?(i.deletions=[e],i.flags|=16):y.push(e)),i.child=s,i.memoizedState=null,s)}function ou(e,i){return i=Lr({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Lr(e,i){return e=Ce(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function uu(e,i,s){return os(i,e.child,null,s),e=ou(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Xd(e,i,s){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Co(e.return,i,s)}function cu(e,i,s,l,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=c)}function jd(e,i,s){var l=i.pendingProps,c=l.revealOrder,d=l.tail;if(re(e,i,l.children,s),l=$t.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xd(e,s,i);else if(e.tag===19)Xd(e,s,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(F($t,l),c){case"forwards":for(s=i.child,c=null;s!==null;)e=s.alternate,e!==null&&Gr(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=i.child,i.child=null):(c=s.sibling,s.sibling=null),cu(i,!1,c,s,d);break;case"backwards":for(s=null,c=i.child,i.child=null;c!==null;){if(e=c.alternate,e!==null&&Gr(e)===null){i.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}cu(i,!0,s,null,d);break;case"together":cu(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function vi(e,i,s){if(e!==null&&(i.dependencies=e.dependencies),Ii|=i.lanes,(s&i.childLanes)===0)if(e!==null){if(Ks(e,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,s=pi(e,e.pendingProps),i.child=s,s.return=i;e.sibling!==null;)e=e.sibling,s=s.sibling=pi(e,e.pendingProps),s.return=i;s.sibling=null}return i.child}function hu(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&xr(e)))}function E_(e,i,s){switch(i.tag){case 3:Rt(i,i.stateNode.containerInfo),Li(i,Kt,e.memoizedState.cache),Ws();break;case 27:case 5:Ui(i);break;case 4:Rt(i,i.stateNode.containerInfo);break;case 10:Li(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Vi(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Yd(e,i,s):(Vi(i),e=vi(e,i,s),e!==null?e.sibling:null);Vi(i);break;case 19:var c=(e.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(Ks(e,i,s,!1),l=(s&i.childLanes)!==0),c){if(l)return jd(e,i,s);i.flags|=128}if(c=i.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),F($t,$t.current),l)break;return null;case 22:case 23:return i.lanes=0,kd(e,i,s);case 24:Li(i,Kt,e.memoizedState.cache)}return vi(e,i,s)}function Vd(e,i,s){if(e!==null)if(e.memoizedProps!==i.pendingProps)te=!0;else{if(!hu(e,s)&&(i.flags&128)===0)return te=!1,E_(e,i,s);te=(e.flags&131072)!==0}else te=!1,vt&&(i.flags&1048576)!==0&&bf(i,_r,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,c=l._init;if(l=c(l._payload),i.type=l,typeof l=="function")bo(l)?(e=Tn(l,e),i.tag=1,i=Ld(null,i,l,e,s)):(i.tag=0,i=su(null,i,l,e,s));else{if(l!=null){if(c=l.$$typeof,c===H){i.tag=11,i=Dd(null,i,l,e,s);break t}else if(c===V){i.tag=14,i=Ud(null,i,l,e,s);break t}}throw i=Nt(l)||l,Error(r(306,i,""))}}return i;case 0:return su(e,i,i.type,i.pendingProps,s);case 1:return l=i.type,c=Tn(l,i.pendingProps),Ld(e,i,l,c,s);case 3:t:{if(Rt(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;c=d.element,Uo(e,i),sa(i,l,null,s);var y=i.memoizedState;if(l=y.cache,Li(i,Kt,l),l!==d.cache&&Eo(i,[Kt],s,!0),na(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Pd(e,i,l,s);break t}else if(l!==c){c=He(Error(r(424)),i),Is(c),i=Pd(e,i,l,s);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Pt=Ke(e.firstChild),pe=i,vt=!0,xn=null,ni=!0,s=Sd(i,null,l,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Ws(),l===c){i=vi(e,i,s);break t}re(e,i,l,s)}i=i.child}return i;case 26:return Nr(e,i),e===null?(s=Qp(i.type,null,i.pendingProps,null))?i.memoizedState=s:vt||(s=i.type,e=i.pendingProps,l=Jr(rt.current).createElement(s),l[he]=i,l[ge]=e,oe(l,s,e),Jt(l),i.stateNode=l):i.memoizedState=Qp(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Ui(i),e===null&&vt&&(l=i.stateNode=qp(i.type,i.pendingProps,rt.current),pe=i,ni=!0,c=Pt,tn(i.type)?(qu=c,Pt=Ke(l.firstChild)):Pt=c),re(e,i,i.pendingProps.children,s),Nr(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&vt&&((c=l=Pt)&&(l=ix(l,i.type,i.pendingProps,ni),l!==null?(i.stateNode=l,pe=i,Pt=Ke(l.firstChild),ni=!1,c=!0):c=!1),c||bn(i)),Ui(i),c=i.type,d=i.pendingProps,y=e!==null?e.memoizedProps:null,l=d.children,Yu(c,d)?l=null:y!==null&&Yu(c,y)&&(i.flags|=32),i.memoizedState!==null&&(c=Po(e,i,b_,null,null,s),Ma._currentValue=c),Nr(e,i),re(e,i,l,s),i.child;case 6:return e===null&&vt&&((e=s=Pt)&&(s=nx(s,i.pendingProps,ni),s!==null?(i.stateNode=s,pe=i,Pt=null,e=!0):e=!1),e||bn(i)),null;case 13:return Yd(e,i,s);case 4:return Rt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=os(i,null,l,s):re(e,i,l,s),i.child;case 11:return Dd(e,i,i.type,i.pendingProps,s);case 7:return re(e,i,i.pendingProps,s),i.child;case 8:return re(e,i,i.pendingProps.children,s),i.child;case 12:return re(e,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Li(i,i.type,l.value),re(e,i,l.children,s),i.child;case 9:return c=i.type._context,l=i.pendingProps.children,Sn(i),c=fe(c),l=l(c),i.flags|=1,re(e,i,l,s),i.child;case 14:return Ud(e,i,i.type,i.pendingProps,s);case 15:return Gd(e,i,i.type,i.pendingProps,s);case 19:return jd(e,i,s);case 31:return l=i.pendingProps,s=i.mode,l={mode:l.mode,children:l.children},e===null?(s=Lr(l,s),s.ref=i.ref,i.child=s,s.return=i,i=s):(s=pi(e.child,l),s.ref=i.ref,i.child=s,s.return=i,i=s),i;case 22:return kd(e,i,s);case 24:return Sn(i),l=fe(Kt),e===null?(c=zo(),c===null&&(c=zt,d=Ro(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=s),c=d),i.memoizedState={parent:l,cache:c},Do(i),Li(i,Kt,c)):((e.lanes&s)!==0&&(Uo(e,i),sa(i,null,null,s),na()),c=e.memoizedState,d=i.memoizedState,c.parent!==l?(c={parent:l,cache:l},i.memoizedState=c,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=c),Li(i,Kt,l)):(l=d.cache,Li(i,Kt,l),l!==c.cache&&Eo(i,[Kt],s,!0))),re(e,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function Si(e){e.flags|=4}function qd(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jp(i)){if(i=Ye.current,i!==null&&((xt&4194048)===xt?si!==null:(xt&62914560)!==xt&&(xt&536870912)===0||i!==si))throw ea=Oo,Ef;e.flags|=8192}}function Pr(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Sh():536870912,e.lanes|=i,fs|=i)}function ha(e,i){if(!vt)switch(e.tailMode){case"hidden":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ut(e){var i=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(i)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=s,i}function R_(e,i,s){var l=i.pendingProps;switch(wo(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(i),null;case 1:return Ut(i),null;case 3:return s=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),_i(Kt),Se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Qs(i)?Si(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Af())),Ut(i),null;case 26:return s=i.memoizedState,e===null?(Si(i),s!==null?(Ut(i),qd(i,s)):(Ut(i),i.flags&=-16777217)):s?s!==e.memoizedState?(Si(i),Ut(i),qd(i,s)):(Ut(i),i.flags&=-16777217):(e.memoizedProps!==l&&Si(i),Ut(i),i.flags&=-16777217),null;case 27:Gi(i),s=rt.current;var c=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Si(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return Ut(i),null}e=et.current,Qs(i)?vf(i):(e=qp(c,l,s),i.stateNode=e,Si(i))}return Ut(i),null;case 5:if(Gi(i),s=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Si(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return Ut(i),null}if(e=et.current,Qs(i))vf(i);else{switch(c=Jr(rt.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?c.createElement(s,{is:l.is}):c.createElement(s)}}e[he]=i,e[ge]=l;t:for(c=i.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break t;for(;c.sibling===null;){if(c.return===null||c.return===i)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}i.stateNode=e;t:switch(oe(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Si(i)}}return Ut(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Si(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=rt.current,Qs(i)){if(e=i.stateNode,s=i.memoizedProps,l=null,c=pe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[he]=i,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Np(e.nodeValue,s)),e||bn(i)}else e=Jr(e).createTextNode(l),e[he]=i,i.stateNode=e}return Ut(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Qs(i),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=i.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[he]=i}else Ws(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ut(i),c=!1}else c=Af(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return i.flags&256?(bi(i),i):(bi(i),null)}if(bi(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=i.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)}return s!==e&&s&&(i.child.flags|=8192),Pr(i,i.updateQueue),Ut(i),null;case 4:return Se(),e===null&&ku(i.stateNode.containerInfo),Ut(i),null;case 10:return _i(i.type),Ut(i),null;case 19:if(Z($t),c=i.memoizedState,c===null)return Ut(i),null;if(l=(i.flags&128)!==0,d=c.rendering,d===null)if(l)ha(c,!1);else{if(Yt!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Gr(e),d!==null){for(i.flags|=128,ha(c,!1),e=d.updateQueue,i.updateQueue=e,Pr(i,e),i.subtreeFlags=0,e=s,s=i.child;s!==null;)xf(s,e),s=s.sibling;return F($t,$t.current&1|2),i.child}e=e.sibling}c.tail!==null&&Ae()>jr&&(i.flags|=128,l=!0,ha(c,!1),i.lanes=4194304)}else{if(!l)if(e=Gr(d),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Pr(i,e),ha(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!vt)return Ut(i),null}else 2*Ae()-c.renderingStartTime>jr&&s!==536870912&&(i.flags|=128,l=!0,ha(c,!1),i.lanes=4194304);c.isBackwards?(d.sibling=i.child,i.child=d):(e=c.last,e!==null?e.sibling=d:i.child=d,c.last=d)}return c.tail!==null?(i=c.tail,c.rendering=i,c.tail=i.sibling,c.renderingStartTime=Ae(),i.sibling=null,e=$t.current,F($t,l?e&1|2:e&1),i):(Ut(i),null);case 22:case 23:return bi(i),No(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(s&536870912)!==0&&(i.flags&128)===0&&(Ut(i),i.subtreeFlags&6&&(i.flags|=8192)):Ut(i),s=i.updateQueue,s!==null&&Pr(i,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),e!==null&&Z(An),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),_i(Kt),Ut(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function B_(e,i){switch(wo(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return _i(Kt),Se(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Gi(i),null;case 13:if(bi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ws()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Z($t),null;case 4:return Se(),null;case 10:return _i(i.type),null;case 22:case 23:return bi(i),No(),e!==null&&Z(An),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return _i(Kt),null;case 25:return null;default:return null}}function Fd(e,i){switch(wo(i),i.tag){case 3:_i(Kt),Se();break;case 26:case 27:case 5:Gi(i);break;case 4:Se();break;case 13:bi(i);break;case 19:Z($t);break;case 10:_i(i.type);break;case 22:case 23:bi(i),No(),e!==null&&Z(An);break;case 24:_i(Kt)}}function fa(e,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&e)===e){l=void 0;var d=s.create,y=s.inst;l=d(),y.destroy=l}s=s.next}while(s!==c)}}catch(b){Bt(i,i.return,b)}}function Fi(e,i,s){try{var l=i.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&e)===e){var y=l.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,c=i;var w=s,U=b;try{U()}catch(N){Bt(c,w,N)}}}l=l.next}while(l!==d)}}catch(N){Bt(i,i.return,N)}}function Zd(e){var i=e.updateQueue;if(i!==null){var s=e.stateNode;try{Uf(i,s)}catch(l){Bt(e,e.return,l)}}}function Qd(e,i,s){s.props=Tn(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Bt(e,i,l)}}function da(e,i){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(c){Bt(e,i,c)}}function ai(e,i){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Bt(e,i,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Bt(e,i,c)}else s.current=null}function Wd(e){var i=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Bt(e,e.return,c)}}function fu(e,i,s){try{var l=e.stateNode;K_(l,e.type,s,i),l[ge]=i}catch(c){Bt(e,e.return,c)}}function Id(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&tn(e.type)||e.tag===4}function du(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Id(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&tn(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pu(e,i,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(e),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=$r));else if(l!==4&&(l===27&&tn(e.type)&&(s=e.stateNode,i=null),e=e.child,e!==null))for(pu(e,i,s),e=e.sibling;e!==null;)pu(e,i,s),e=e.sibling}function Yr(e,i,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?s.insertBefore(e,i):s.appendChild(e);else if(l!==4&&(l===27&&tn(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Yr(e,i,s),e=e.sibling;e!==null;)Yr(e,i,s),e=e.sibling}function Kd(e){var i=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,c=i.attributes;c.length;)i.removeAttributeNode(c[0]);oe(i,l,s),i[he]=e,i[ge]=s}catch(d){Bt(e,e.return,d)}}var Ai=!1,Vt=!1,mu=!1,$d=typeof WeakSet=="function"?WeakSet:Set,ee=null;function z_(e,i){if(e=e.containerInfo,Lu=al,e=uf(e),fo(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var y=0,b=-1,w=-1,U=0,N=0,Y=e,G=null;e:for(;;){for(var k;Y!==s||c!==0&&Y.nodeType!==3||(b=y+c),Y!==d||l!==0&&Y.nodeType!==3||(w=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(k=Y.firstChild)!==null;)G=Y,Y=k;for(;;){if(Y===e)break e;if(G===s&&++U===c&&(b=y),G===d&&++N===l&&(w=y),(k=Y.nextSibling)!==null)break;Y=G,G=Y.parentNode}Y=k}s=b===-1||w===-1?null:{start:b,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(Pu={focusedElem:e,selectionRange:s},al=!1,ee=i;ee!==null;)if(i=ee,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,ee=e;else for(;ee!==null;){switch(i=ee,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=i,c=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var ot=Tn(s.type,c,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(ot,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(at){Bt(s,s.return,at)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,s=e.nodeType,s===9)ju(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ju(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,ee=e;break}ee=i.return}}function Jd(e,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Zi(e,s),l&4&&fa(5,s);break;case 1:if(Zi(e,s),l&4)if(e=s.stateNode,i===null)try{e.componentDidMount()}catch(y){Bt(s,s.return,y)}else{var c=Tn(s.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(c,i,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Bt(s,s.return,y)}}l&64&&Zd(s),l&512&&da(s,s.return);break;case 3:if(Zi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{Uf(e,i)}catch(y){Bt(s,s.return,y)}}break;case 27:i===null&&l&4&&Kd(s);case 26:case 5:Zi(e,s),i===null&&l&4&&Wd(s),l&512&&da(s,s.return);break;case 12:Zi(e,s);break;case 13:Zi(e,s),l&4&&ip(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=P_.bind(null,s),sx(e,s))));break;case 22:if(l=s.memoizedState!==null||Ai,!l){i=i!==null&&i.memoizedState!==null||Vt,c=Ai;var d=Vt;Ai=l,(Vt=i)&&!d?Qi(e,s,(s.subtreeFlags&8772)!==0):Zi(e,s),Ai=c,Vt=d}break;case 30:break;default:Zi(e,s)}}function tp(e){var i=e.alternate;i!==null&&(e.alternate=null,tp(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Zl(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ot=null,xe=!1;function wi(e,i,s){for(s=s.child;s!==null;)ep(e,i,s),s=s.sibling}function ep(e,i,s){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(Us,s)}catch{}switch(s.tag){case 26:Vt||ai(s,i),wi(e,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Vt||ai(s,i);var l=Ot,c=xe;tn(s.type)&&(Ot=s.stateNode,xe=!1),wi(e,i,s),Sa(s.stateNode),Ot=l,xe=c;break;case 5:Vt||ai(s,i);case 6:if(l=Ot,c=xe,Ot=null,wi(e,i,s),Ot=l,xe=c,Ot!==null)if(xe)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(s.stateNode)}catch(d){Bt(s,i,d)}else try{Ot.removeChild(s.stateNode)}catch(d){Bt(s,i,d)}break;case 18:Ot!==null&&(xe?(e=Ot,jp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ba(e)):jp(Ot,s.stateNode));break;case 4:l=Ot,c=xe,Ot=s.stateNode.containerInfo,xe=!0,wi(e,i,s),Ot=l,xe=c;break;case 0:case 11:case 14:case 15:Vt||Fi(2,s,i),Vt||Fi(4,s,i),wi(e,i,s);break;case 1:Vt||(ai(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Qd(s,i,l)),wi(e,i,s);break;case 21:wi(e,i,s);break;case 22:Vt=(l=Vt)||s.memoizedState!==null,wi(e,i,s),Vt=l;break;default:wi(e,i,s)}}function ip(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(s){Bt(i,i.return,s)}}function O_(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new $d),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new $d),i;default:throw Error(r(435,e.tag))}}function gu(e,i){var s=O_(e);i.forEach(function(l){var c=Y_.bind(null,e,l);s.has(l)||(s.add(l),l.then(c,c))})}function Ee(e,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],d=e,y=i,b=y;t:for(;b!==null;){switch(b.tag){case 27:if(tn(b.type)){Ot=b.stateNode,xe=!1;break t}break;case 5:Ot=b.stateNode,xe=!1;break t;case 3:case 4:Ot=b.stateNode.containerInfo,xe=!0;break t}b=b.return}if(Ot===null)throw Error(r(160));ep(d,y,c),Ot=null,xe=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)np(i,e),i=i.sibling}var Ie=null;function np(e,i){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ee(i,e),Re(e),l&4&&(Fi(3,e,e.return),fa(3,e),Fi(5,e,e.return));break;case 1:Ee(i,e),Re(e),l&512&&(Vt||s===null||ai(s,s.return)),l&64&&Ai&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Ie;if(Ee(i,e),Re(e),l&512&&(Vt||s===null||ai(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Hs]||d[he]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),oe(d,l,s),d[he]=e,Jt(d),l=d;break t;case"link":var y=Kp("link","href",c).get(l+(s.href||""));if(y){for(var b=0;b<y.length;b++)if(d=y[b],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(b,1);break e}}d=c.createElement(l),oe(d,l,s),c.head.appendChild(d);break;case"meta":if(y=Kp("meta","content",c).get(l+(s.content||""))){for(b=0;b<y.length;b++)if(d=y[b],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(b,1);break e}}d=c.createElement(l),oe(d,l,s),c.head.appendChild(d);break;default:throw Error(r(468,l))}d[he]=e,Jt(d),l=d}e.stateNode=l}else $p(c,e.type,e.stateNode);else e.stateNode=Ip(c,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?$p(c,e.type,e.stateNode):Ip(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&fu(e,e.memoizedProps,s.memoizedProps)}break;case 27:Ee(i,e),Re(e),l&512&&(Vt||s===null||ai(s,s.return)),s!==null&&l&4&&fu(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Ee(i,e),Re(e),l&512&&(Vt||s===null||ai(s,s.return)),e.flags&32){c=e.stateNode;try{Vn(c,"")}catch(k){Bt(e,e.return,k)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,fu(e,c,s!==null?s.memoizedProps:c)),l&1024&&(mu=!0);break;case 6:if(Ee(i,e),Re(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(k){Bt(e,e.return,k)}}break;case 3:if(il=null,c=Ie,Ie=tl(i.containerInfo),Ee(i,e),Ie=c,Re(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Ba(i.containerInfo)}catch(k){Bt(e,e.return,k)}mu&&(mu=!1,sp(e));break;case 4:l=Ie,Ie=tl(e.stateNode.containerInfo),Ee(i,e),Re(e),Ie=l;break;case 12:Ee(i,e),Re(e);break;case 13:Ee(i,e),Re(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Su=Ae()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,gu(e,l)));break;case 22:c=e.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,U=Ai,N=Vt;if(Ai=U||c,Vt=N||w,Ee(i,e),Vt=N,Ai=U,Re(e),l&8192)t:for(i=e.stateNode,i._visibility=c?i._visibility&-2:i._visibility|1,c&&(s===null||w||Ai||Vt||Mn(e)),s=null,i=e;;){if(i.tag===5||i.tag===26){if(s===null){w=s=i;try{if(d=w.stateNode,c)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=w.stateNode;var Y=w.memoizedProps.style,G=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(k){Bt(w,w.return,k)}}}else if(i.tag===6){if(s===null){w=i;try{w.stateNode.nodeValue=c?"":w.memoizedProps}catch(k){Bt(w,w.return,k)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,gu(e,s))));break;case 19:Ee(i,e),Re(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,gu(e,l)));break;case 30:break;case 21:break;default:Ee(i,e),Re(e)}}function Re(e){var i=e.flags;if(i&2){try{for(var s,l=e.return;l!==null;){if(Id(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,d=du(e);Yr(e,d,c);break;case 5:var y=s.stateNode;s.flags&32&&(Vn(y,""),s.flags&=-33);var b=du(e);Yr(e,b,y);break;case 3:case 4:var w=s.stateNode.containerInfo,U=du(e);pu(e,U,w);break;default:throw Error(r(161))}}catch(N){Bt(e,e.return,N)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function sp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;sp(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Zi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Jd(e,i.alternate,i),i=i.sibling}function Mn(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Fi(4,i,i.return),Mn(i);break;case 1:ai(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Qd(i,i.return,s),Mn(i);break;case 27:Sa(i.stateNode);case 26:case 5:ai(i,i.return),Mn(i);break;case 22:i.memoizedState===null&&Mn(i);break;case 30:Mn(i);break;default:Mn(i)}e=e.sibling}}function Qi(e,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,c=e,d=i,y=d.flags;switch(d.tag){case 0:case 11:case 15:Qi(c,d,s),fa(4,d);break;case 1:if(Qi(c,d,s),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(U){Bt(l,l.return,U)}if(l=d,c=l.updateQueue,c!==null){var b=l.stateNode;try{var w=c.shared.hiddenCallbacks;if(w!==null)for(c.shared.hiddenCallbacks=null,c=0;c<w.length;c++)Df(w[c],b)}catch(U){Bt(l,l.return,U)}}s&&y&64&&Zd(d),da(d,d.return);break;case 27:Kd(d);case 26:case 5:Qi(c,d,s),s&&l===null&&y&4&&Wd(d),da(d,d.return);break;case 12:Qi(c,d,s);break;case 13:Qi(c,d,s),s&&y&4&&ip(c,d);break;case 22:d.memoizedState===null&&Qi(c,d,s),da(d,d.return);break;case 30:break;default:Qi(c,d,s)}i=i.sibling}}function yu(e,i){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&$s(s))}function _u(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&$s(e))}function ri(e,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ap(e,i,s,l),i=i.sibling}function ap(e,i,s,l){var c=i.flags;switch(i.tag){case 0:case 11:case 15:ri(e,i,s,l),c&2048&&fa(9,i);break;case 1:ri(e,i,s,l);break;case 3:ri(e,i,s,l),c&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&$s(e)));break;case 12:if(c&2048){ri(e,i,s,l),e=i.stateNode;try{var d=i.memoizedProps,y=d.id,b=d.onPostCommit;typeof b=="function"&&b(y,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Bt(i,i.return,w)}}else ri(e,i,s,l);break;case 13:ri(e,i,s,l);break;case 23:break;case 22:d=i.stateNode,y=i.alternate,i.memoizedState!==null?d._visibility&2?ri(e,i,s,l):pa(e,i):d._visibility&2?ri(e,i,s,l):(d._visibility|=2,us(e,i,s,l,(i.subtreeFlags&10256)!==0)),c&2048&&yu(y,i);break;case 24:ri(e,i,s,l),c&2048&&_u(i.alternate,i);break;default:ri(e,i,s,l)}}function us(e,i,s,l,c){for(c=c&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,y=i,b=s,w=l,U=y.flags;switch(y.tag){case 0:case 11:case 15:us(d,y,b,w,c),fa(8,y);break;case 23:break;case 22:var N=y.stateNode;y.memoizedState!==null?N._visibility&2?us(d,y,b,w,c):pa(d,y):(N._visibility|=2,us(d,y,b,w,c)),c&&U&2048&&yu(y.alternate,y);break;case 24:us(d,y,b,w,c),c&&U&2048&&_u(y.alternate,y);break;default:us(d,y,b,w,c)}i=i.sibling}}function pa(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=e,l=i,c=l.flags;switch(l.tag){case 22:pa(s,l),c&2048&&yu(l.alternate,l);break;case 24:pa(s,l),c&2048&&_u(l.alternate,l);break;default:pa(s,l)}i=i.sibling}}var ma=8192;function cs(e){if(e.subtreeFlags&ma)for(e=e.child;e!==null;)rp(e),e=e.sibling}function rp(e){switch(e.tag){case 26:cs(e),e.flags&ma&&e.memoizedState!==null&&yx(Ie,e.memoizedState,e.memoizedProps);break;case 5:cs(e);break;case 3:case 4:var i=Ie;Ie=tl(e.stateNode.containerInfo),cs(e),Ie=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ma,ma=16777216,cs(e),ma=i):cs(e));break;default:cs(e)}}function lp(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ga(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];ee=l,up(l,e)}lp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)op(e),e=e.sibling}function op(e){switch(e.tag){case 0:case 11:case 15:ga(e),e.flags&2048&&Fi(9,e,e.return);break;case 3:ga(e);break;case 12:ga(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Xr(e)):ga(e);break;default:ga(e)}}function Xr(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];ee=l,up(l,e)}lp(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Fi(8,i,i.return),Xr(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Xr(i));break;default:Xr(i)}e=e.sibling}}function up(e,i){for(;ee!==null;){var s=ee;switch(s.tag){case 0:case 11:case 15:Fi(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$s(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,ee=l;else t:for(s=e;ee!==null;){l=ee;var c=l.sibling,d=l.return;if(tp(l),l===s){ee=null;break t}if(c!==null){c.return=d,ee=c;break t}ee=d}}}var D_={getCacheForType:function(e){var i=fe(Kt),s=i.data.get(e);return s===void 0&&(s=e(),i.data.set(e,s)),s}},U_=typeof WeakMap=="function"?WeakMap:Map,At=0,zt=null,mt=null,xt=0,wt=0,Be=null,Wi=!1,hs=!1,xu=!1,Ti=0,Yt=0,Ii=0,Cn=0,bu=0,Xe=0,fs=0,ya=null,be=null,vu=!1,Su=0,jr=1/0,Vr=null,Ki=null,le=0,$i=null,ds=null,ps=0,Au=0,wu=null,cp=null,_a=0,Tu=null;function ze(){if((At&2)!==0&&xt!==0)return xt&-xt;if(z.T!==null){var e=es;return e!==0?e:Ou()}return Th()}function hp(){Xe===0&&(Xe=(xt&536870912)===0||vt?vh():536870912);var e=Ye.current;return e!==null&&(e.flags|=32),Xe}function Oe(e,i,s){(e===zt&&(wt===2||wt===9)||e.cancelPendingCommit!==null)&&(ms(e,0),Ji(e,xt,Xe,!1)),ks(e,s),((At&2)===0||e!==zt)&&(e===zt&&((At&2)===0&&(Cn|=s),Yt===4&&Ji(e,xt,Xe,!1)),li(e))}function fp(e,i,s){if((At&6)!==0)throw Error(r(327));var l=!s&&(i&124)===0&&(i&e.expiredLanes)===0||Gs(e,i),c=l?H_(e,i):Eu(e,i,!0),d=l;do{if(c===0){hs&&!l&&Ji(e,i,0,!1);break}else{if(s=e.current.alternate,d&&!G_(s)){c=Eu(e,i,!1),d=!1;continue}if(c===2){if(d=i,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;t:{var b=e;c=ya;var w=b.current.memoizedState.isDehydrated;if(w&&(ms(b,y).flags|=256),y=Eu(b,y,!1),y!==2){if(xu&&!w){b.errorRecoveryDisabledLanes|=d,Cn|=d,c=4;break t}d=be,be=c,d!==null&&(be===null?be=d:be.push.apply(be,d))}c=y}if(d=!1,c!==2)continue}}if(c===1){ms(e,0),Ji(e,i,0,!0);break}t:{switch(l=e,d=c,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ji(l,i,Xe,!Wi);break t;case 2:be=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(c=Su+300-Ae(),10<c)){if(Ji(l,i,Xe,!Wi),er(l,0,!0)!==0)break t;l.timeoutHandle=Yp(dp.bind(null,l,s,be,Vr,vu,i,Xe,Cn,fs,Wi,d,2,-0,0),c);break t}dp(l,s,be,Vr,vu,i,Xe,Cn,fs,Wi,d,0,-0,0)}}break}while(!0);li(e)}function dp(e,i,s,l,c,d,y,b,w,U,N,Y,G,k){if(e.timeoutHandle=-1,Y=i.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Ta={stylesheets:null,count:0,unsuspend:gx},rp(i),Y=_x(),Y!==null)){e.cancelPendingCommit=Y(bp.bind(null,e,i,d,s,l,c,y,b,w,N,1,G,k)),Ji(e,d,y,!U);return}bp(e,i,d,s,l,c,y,b,w)}function G_(e){for(var i=e;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],d=c.getSnapshot;c=c.value;try{if(!Me(d(),c))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ji(e,i,s,l){i&=~bu,i&=~Cn,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var c=i;0<c;){var d=31-Te(c),y=1<<d;l[d]=-1,c&=~y}s!==0&&Ah(e,s,i)}function qr(){return(At&6)===0?(xa(0),!1):!0}function Mu(){if(mt!==null){if(wt===0)var e=mt.return;else e=mt,yi=vn=null,jo(e),ls=null,ua=0,e=mt;for(;e!==null;)Fd(e.alternate,e),e=e.return;mt=null}}function ms(e,i){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,J_(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Mu(),zt=e,mt=s=pi(e.current,null),xt=i,wt=0,Be=null,Wi=!1,hs=Gs(e,i),xu=!1,fs=Xe=bu=Cn=Ii=Yt=0,be=ya=null,vu=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var c=31-Te(l),d=1<<c;i|=e[c],l&=~d}return Ti=i,dr(),s}function pp(e,i){ft=null,z.H=Or,i===ta||i===Sr?(i=zf(),wt=3):i===Ef?(i=zf(),wt=4):wt=i===Od?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Be=i,mt===null&&(Yt=1,Hr(e,He(i,e.current)))}function mp(){var e=z.H;return z.H=Or,e===null?Or:e}function gp(){var e=z.A;return z.A=D_,e}function Cu(){Yt=4,Wi||(xt&4194048)!==xt&&Ye.current!==null||(hs=!0),(Ii&134217727)===0&&(Cn&134217727)===0||zt===null||Ji(zt,xt,Xe,!1)}function Eu(e,i,s){var l=At;At|=2;var c=mp(),d=gp();(zt!==e||xt!==i)&&(Vr=null,ms(e,i)),i=!1;var y=Yt;t:do try{if(wt!==0&&mt!==null){var b=mt,w=Be;switch(wt){case 8:Mu(),y=6;break t;case 3:case 2:case 9:case 6:Ye.current===null&&(i=!0);var U=wt;if(wt=0,Be=null,gs(e,b,w,U),s&&hs){y=0;break t}break;default:U=wt,wt=0,Be=null,gs(e,b,w,U)}}k_(),y=Yt;break}catch(N){pp(e,N)}while(!0);return i&&e.shellSuspendCounter++,yi=vn=null,At=l,z.H=c,z.A=d,mt===null&&(zt=null,xt=0,dr()),y}function k_(){for(;mt!==null;)yp(mt)}function H_(e,i){var s=At;At|=2;var l=mp(),c=gp();zt!==e||xt!==i?(Vr=null,jr=Ae()+500,ms(e,i)):hs=Gs(e,i);t:do try{if(wt!==0&&mt!==null){i=mt;var d=Be;e:switch(wt){case 1:wt=0,Be=null,gs(e,i,d,1);break;case 2:case 9:if(Rf(d)){wt=0,Be=null,_p(i);break}i=function(){wt!==2&&wt!==9||zt!==e||(wt=7),li(e)},d.then(i,i);break t;case 3:wt=7;break t;case 4:wt=5;break t;case 7:Rf(d)?(wt=0,Be=null,_p(i)):(wt=0,Be=null,gs(e,i,d,7));break;case 5:var y=null;switch(mt.tag){case 26:y=mt.memoizedState;case 5:case 27:var b=mt;if(!y||Jp(y)){wt=0,Be=null;var w=b.sibling;if(w!==null)mt=w;else{var U=b.return;U!==null?(mt=U,Fr(U)):mt=null}break e}}wt=0,Be=null,gs(e,i,d,5);break;case 6:wt=0,Be=null,gs(e,i,d,6);break;case 8:Mu(),Yt=6;break t;default:throw Error(r(462))}}N_();break}catch(N){pp(e,N)}while(!0);return yi=vn=null,z.H=l,z.A=c,At=s,mt!==null?0:(zt=null,xt=0,dr(),Yt)}function N_(){for(;mt!==null&&!hi();)yp(mt)}function yp(e){var i=Vd(e.alternate,e,Ti);e.memoizedProps=e.pendingProps,i===null?Fr(e):mt=i}function _p(e){var i=e,s=i.alternate;switch(i.tag){case 15:case 0:i=Nd(s,i,i.pendingProps,i.type,void 0,xt);break;case 11:i=Nd(s,i,i.pendingProps,i.type.render,i.ref,xt);break;case 5:jo(i);default:Fd(s,i),i=mt=xf(i,Ti),i=Vd(s,i,Ti)}e.memoizedProps=e.pendingProps,i===null?Fr(e):mt=i}function gs(e,i,s,l){yi=vn=null,jo(i),ls=null,ua=0;var c=i.return;try{if(C_(e,c,i,s,xt)){Yt=1,Hr(e,He(s,e.current)),mt=null;return}}catch(d){if(c!==null)throw mt=c,d;Yt=1,Hr(e,He(s,e.current)),mt=null;return}i.flags&32768?(vt||l===1?e=!0:hs||(xt&536870912)!==0?e=!1:(Wi=e=!0,(l===2||l===9||l===3||l===6)&&(l=Ye.current,l!==null&&l.tag===13&&(l.flags|=16384))),xp(i,e)):Fr(i)}function Fr(e){var i=e;do{if((i.flags&32768)!==0){xp(i,Wi);return}e=i.return;var s=R_(i.alternate,i,Ti);if(s!==null){mt=s;return}if(i=i.sibling,i!==null){mt=i;return}mt=i=e}while(i!==null);Yt===0&&(Yt=5)}function xp(e,i){do{var s=B_(e.alternate,e);if(s!==null){s.flags&=32767,mt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(e=e.sibling,e!==null)){mt=e;return}mt=e=s}while(e!==null);Yt=6,mt=null}function bp(e,i,s,l,c,d,y,b,w){e.cancelPendingCommit=null;do Zr();while(le!==0);if((At&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=_o,g0(e,s,d,y,b,w),e===zt&&(mt=zt=null,xt=0),ds=i,$i=e,ps=s,Au=d,wu=c,cp=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,X_($a,function(){return Tp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,c=P.p,P.p=2,y=At,At|=4;try{z_(e,i,s)}finally{At=y,P.p=c,z.T=l}}le=1,vp(),Sp(),Ap()}}function vp(){if(le===1){le=0;var e=$i,i=ds,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=z.T,z.T=null;var l=P.p;P.p=2;var c=At;At|=4;try{np(i,e);var d=Pu,y=uf(e.containerInfo),b=d.focusedElem,w=d.selectionRange;if(y!==b&&b&&b.ownerDocument&&of(b.ownerDocument.documentElement,b)){if(w!==null&&fo(b)){var U=w.start,N=w.end;if(N===void 0&&(N=U),"selectionStart"in b)b.selectionStart=U,b.selectionEnd=Math.min(N,b.value.length);else{var Y=b.ownerDocument||document,G=Y&&Y.defaultView||window;if(G.getSelection){var k=G.getSelection(),ot=b.textContent.length,at=Math.min(w.start,ot),Et=w.end===void 0?at:Math.min(w.end,ot);!k.extend&&at>Et&&(y=Et,Et=at,at=y);var R=lf(b,at),C=lf(b,Et);if(R&&C&&(k.rangeCount!==1||k.anchorNode!==R.node||k.anchorOffset!==R.offset||k.focusNode!==C.node||k.focusOffset!==C.offset)){var O=Y.createRange();O.setStart(R.node,R.offset),k.removeAllRanges(),at>Et?(k.addRange(O),k.extend(C.node,C.offset)):(O.setEnd(C.node,C.offset),k.addRange(O))}}}}for(Y=[],k=b;k=k.parentNode;)k.nodeType===1&&Y.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Y.length;b++){var L=Y[b];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}al=!!Lu,Pu=Lu=null}finally{At=c,P.p=l,z.T=s}}e.current=i,le=2}}function Sp(){if(le===2){le=0;var e=$i,i=ds,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=z.T,z.T=null;var l=P.p;P.p=2;var c=At;At|=4;try{Jd(e,i.alternate,i)}finally{At=c,P.p=l,z.T=s}}le=3}}function Ap(){if(le===4||le===3){le=0,Pl();var e=$i,i=ds,s=ps,l=cp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?le=5:(le=0,ds=$i=null,wp(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ki=null),ql(s),i=i.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(Us,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=z.T,c=P.p,P.p=2,z.T=null;try{for(var d=e.onRecoverableError,y=0;y<l.length;y++){var b=l[y];d(b.value,{componentStack:b.stack})}}finally{z.T=i,P.p=c}}(ps&3)!==0&&Zr(),li(e),c=e.pendingLanes,(s&4194090)!==0&&(c&42)!==0?e===Tu?_a++:(_a=0,Tu=e):_a=0,xa(0)}}function wp(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,$s(i)))}function Zr(e){return vp(),Sp(),Ap(),Tp()}function Tp(){if(le!==5)return!1;var e=$i,i=Au;Au=0;var s=ql(ps),l=z.T,c=P.p;try{P.p=32>s?32:s,z.T=null,s=wu,wu=null;var d=$i,y=ps;if(le=0,ds=$i=null,ps=0,(At&6)!==0)throw Error(r(331));var b=At;if(At|=4,op(d.current),ap(d,d.current,y,s),At=b,xa(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(Us,d)}catch{}return!0}finally{P.p=c,z.T=l,wp(e,i)}}function Mp(e,i,s){i=He(s,i),i=nu(e.stateNode,i,2),e=Xi(e,i,2),e!==null&&(ks(e,2),li(e))}function Bt(e,i,s){if(e.tag===3)Mp(e,e,s);else for(;i!==null;){if(i.tag===3){Mp(i,e,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ki===null||!Ki.has(l))){e=He(s,e),s=Bd(2),l=Xi(i,s,2),l!==null&&(zd(s,l,i,e),ks(l,2),li(l));break}}i=i.return}}function Ru(e,i,s){var l=e.pingCache;if(l===null){l=e.pingCache=new U_;var c=new Set;l.set(i,c)}else c=l.get(i),c===void 0&&(c=new Set,l.set(i,c));c.has(s)||(xu=!0,c.add(s),e=L_.bind(null,e,i,s),i.then(e,e))}function L_(e,i,s){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,zt===e&&(xt&s)===s&&(Yt===4||Yt===3&&(xt&62914560)===xt&&300>Ae()-Su?(At&2)===0&&ms(e,0):bu|=s,fs===xt&&(fs=0)),li(e)}function Cp(e,i){i===0&&(i=Sh()),e=Kn(e,i),e!==null&&(ks(e,i),li(e))}function P_(e){var i=e.memoizedState,s=0;i!==null&&(s=i.retryLane),Cp(e,s)}function Y_(e,i){var s=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Cp(e,s)}function X_(e,i){return Ze(e,i)}var Qr=null,ys=null,Bu=!1,Wr=!1,zu=!1,En=0;function li(e){e!==ys&&e.next===null&&(ys===null?Qr=ys=e:ys=ys.next=e),Wr=!0,Bu||(Bu=!0,V_())}function xa(e,i){if(!zu&&Wr){zu=!0;do for(var s=!1,l=Qr;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var y=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Te(42|e)+1)-1,d&=c&~(y&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,zp(l,d))}else d=xt,d=er(l,l===zt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Gs(l,d)||(s=!0,zp(l,d));l=l.next}while(s);zu=!1}}function j_(){Ep()}function Ep(){Wr=Bu=!1;var e=0;En!==0&&($_()&&(e=En),En=0);for(var i=Ae(),s=null,l=Qr;l!==null;){var c=l.next,d=Rp(l,i);d===0?(l.next=null,s===null?Qr=c:s.next=c,c===null&&(ys=s)):(s=l,(e!==0||(d&3)!==0)&&(Wr=!0)),l=c}xa(e)}function Rp(e,i){for(var s=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-Te(d),b=1<<y,w=c[y];w===-1?((b&s)===0||(b&l)!==0)&&(c[y]=m0(b,i)):w<=i&&(e.expiredLanes|=b),d&=~b}if(i=zt,s=xt,s=er(e,e===i?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===i&&(wt===2||wt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Qe(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Gs(e,s)){if(i=s&-s,i===e.callbackPriority)return i;switch(l!==null&&Qe(l),ql(s)){case 2:case 8:s=xh;break;case 32:s=$a;break;case 268435456:s=bh;break;default:s=$a}return l=Bp.bind(null,e),s=Ze(s,l),e.callbackPriority=i,e.callbackNode=s,i}return l!==null&&l!==null&&Qe(l),e.callbackPriority=2,e.callbackNode=null,2}function Bp(e,i){if(le!==0&&le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Zr()&&e.callbackNode!==s)return null;var l=xt;return l=er(e,e===zt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(fp(e,l,i),Rp(e,Ae()),e.callbackNode!=null&&e.callbackNode===s?Bp.bind(null,e):null)}function zp(e,i){if(Zr())return null;fp(e,i,!0)}function V_(){tx(function(){(At&6)!==0?Ze(Xl,j_):Ep()})}function Ou(){return En===0&&(En=vh()),En}function Op(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:rr(""+e)}function Dp(e,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,e.id&&s.setAttribute("form",e.id),i.parentNode.insertBefore(s,i),e=new FormData(e),s.parentNode.removeChild(s),e}function q_(e,i,s,l,c){if(i==="submit"&&s&&s.stateNode===c){var d=Op((c[ge]||null).action),y=l.submitter;y&&(i=(i=y[ge]||null)?Op(i.formAction):y.getAttribute("formAction"),i!==null&&(d=i,y=null));var b=new cr("action","action",null,l,c);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(En!==0){var w=y?Dp(c,y):new FormData(c);$o(s,{pending:!0,data:w,method:c.method,action:d},null,w)}}else typeof d=="function"&&(b.preventDefault(),w=y?Dp(c,y):new FormData(c),$o(s,{pending:!0,data:w,method:c.method,action:d},d,w))},currentTarget:c}]})}}for(var Du=0;Du<yo.length;Du++){var Uu=yo[Du],F_=Uu.toLowerCase(),Z_=Uu[0].toUpperCase()+Uu.slice(1);We(F_,"on"+Z_)}We(ff,"onAnimationEnd"),We(df,"onAnimationIteration"),We(pf,"onAnimationStart"),We("dblclick","onDoubleClick"),We("focusin","onFocus"),We("focusout","onBlur"),We(c_,"onTransitionRun"),We(h_,"onTransitionStart"),We(f_,"onTransitionCancel"),We(mf,"onTransitionEnd"),Yn("onMouseEnter",["mouseout","mouseover"]),Yn("onMouseLeave",["mouseout","mouseover"]),Yn("onPointerEnter",["pointerout","pointerover"]),Yn("onPointerLeave",["pointerout","pointerover"]),fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ba));function Up(e,i){i=(i&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],c=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var y=l.length-1;0<=y;y--){var b=l[y],w=b.instance,U=b.currentTarget;if(b=b.listener,w!==d&&c.isPropagationStopped())break t;d=b,c.currentTarget=U;try{d(c)}catch(N){kr(N)}c.currentTarget=null,d=w}else for(y=0;y<l.length;y++){if(b=l[y],w=b.instance,U=b.currentTarget,b=b.listener,w!==d&&c.isPropagationStopped())break t;d=b,c.currentTarget=U;try{d(c)}catch(N){kr(N)}c.currentTarget=null,d=w}}}}function gt(e,i){var s=i[Fl];s===void 0&&(s=i[Fl]=new Set);var l=e+"__bubble";s.has(l)||(Gp(i,e,2,!1),s.add(l))}function Gu(e,i,s){var l=0;i&&(l|=4),Gp(s,e,l,i)}var Ir="_reactListening"+Math.random().toString(36).slice(2);function ku(e){if(!e[Ir]){e[Ir]=!0,Ch.forEach(function(s){s!=="selectionchange"&&(Q_.has(s)||Gu(s,!1,e),Gu(s,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ir]||(i[Ir]=!0,Gu("selectionchange",!1,i))}}function Gp(e,i,s,l){switch(am(i)){case 2:var c=vx;break;case 8:c=Sx;break;default:c=Iu}s=c.bind(null,i,s,e),c=void 0,!no||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(i,s,{capture:!0,passive:c}):e.addEventListener(i,s,!0):c!==void 0?e.addEventListener(i,s,{passive:c}):e.addEventListener(i,s,!1)}function Hu(e,i,s,l,c){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var b=l.stateNode.containerInfo;if(b===c)break;if(y===4)for(y=l.return;y!==null;){var w=y.tag;if((w===3||w===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;b!==null;){if(y=Nn(b),y===null)return;if(w=y.tag,w===5||w===6||w===26||w===27){l=d=y;continue t}b=b.parentNode}}l=l.return}Yh(function(){var U=d,N=eo(s),Y=[];t:{var G=gf.get(e);if(G!==void 0){var k=cr,ot=e;switch(e){case"keypress":if(or(s)===0)break t;case"keydown":case"keyup":k=X0;break;case"focusin":ot="focus",k=lo;break;case"focusout":ot="blur",k=lo;break;case"beforeblur":case"afterblur":k=lo;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Vh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=B0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=q0;break;case ff:case df:case pf:k=D0;break;case mf:k=Z0;break;case"scroll":case"scrollend":k=E0;break;case"wheel":k=W0;break;case"copy":case"cut":case"paste":k=G0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Fh;break;case"toggle":case"beforetoggle":k=K0}var at=(i&4)!==0,Et=!at&&(e==="scroll"||e==="scrollend"),R=at?G!==null?G+"Capture":null:G;at=[];for(var C=U,O;C!==null;){var L=C;if(O=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||O===null||R===null||(L=Ls(C,R),L!=null&&at.push(va(C,L,O))),Et)break;C=C.return}0<at.length&&(G=new k(G,ot,null,s,N),Y.push({event:G,listeners:at}))}}if((i&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",G&&s!==to&&(ot=s.relatedTarget||s.fromElement)&&(Nn(ot)||ot[Hn]))break t;if((k||G)&&(G=N.window===N?N:(G=N.ownerDocument)?G.defaultView||G.parentWindow:window,k?(ot=s.relatedTarget||s.toElement,k=U,ot=ot?Nn(ot):null,ot!==null&&(Et=u(ot),at=ot.tag,ot!==Et||at!==5&&at!==27&&at!==6)&&(ot=null)):(k=null,ot=U),k!==ot)){if(at=Vh,L="onMouseLeave",R="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(at=Fh,L="onPointerLeave",R="onPointerEnter",C="pointer"),Et=k==null?G:Ns(k),O=ot==null?G:Ns(ot),G=new at(L,C+"leave",k,s,N),G.target=Et,G.relatedTarget=O,L=null,Nn(N)===U&&(at=new at(R,C+"enter",ot,s,N),at.target=O,at.relatedTarget=Et,L=at),Et=L,k&&ot)e:{for(at=k,R=ot,C=0,O=at;O;O=_s(O))C++;for(O=0,L=R;L;L=_s(L))O++;for(;0<C-O;)at=_s(at),C--;for(;0<O-C;)R=_s(R),O--;for(;C--;){if(at===R||R!==null&&at===R.alternate)break e;at=_s(at),R=_s(R)}at=null}else at=null;k!==null&&kp(Y,G,k,at,!1),ot!==null&&Et!==null&&kp(Y,Et,ot,at,!0)}}t:{if(G=U?Ns(U):window,k=G.nodeName&&G.nodeName.toLowerCase(),k==="select"||k==="input"&&G.type==="file")var I=tf;else if($h(G))if(ef)I=l_;else{I=a_;var dt=s_}else k=G.nodeName,!k||k.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?U&&Jl(U.elementType)&&(I=tf):I=r_;if(I&&(I=I(e,U))){Jh(Y,I,s,N);break t}dt&&dt(e,G,U),e==="focusout"&&U&&G.type==="number"&&U.memoizedProps.value!=null&&$l(G,"number",G.value)}switch(dt=U?Ns(U):window,e){case"focusin":($h(dt)||dt.contentEditable==="true")&&(Qn=dt,po=U,Zs=null);break;case"focusout":Zs=po=Qn=null;break;case"mousedown":mo=!0;break;case"contextmenu":case"mouseup":case"dragend":mo=!1,cf(Y,s,N);break;case"selectionchange":if(u_)break;case"keydown":case"keyup":cf(Y,s,N)}var K;if(uo)t:{switch(e){case"compositionstart":var lt="onCompositionStart";break t;case"compositionend":lt="onCompositionEnd";break t;case"compositionupdate":lt="onCompositionUpdate";break t}lt=void 0}else Zn?Ih(e,s)&&(lt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(lt="onCompositionStart");lt&&(Zh&&s.locale!=="ko"&&(Zn||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&Zn&&(K=Xh()):(Ni=N,so="value"in Ni?Ni.value:Ni.textContent,Zn=!0)),dt=Kr(U,lt),0<dt.length&&(lt=new qh(lt,e,null,s,N),Y.push({event:lt,listeners:dt}),K?lt.data=K:(K=Kh(s),K!==null&&(lt.data=K)))),(K=J0?t_(e,s):e_(e,s))&&(lt=Kr(U,"onBeforeInput"),0<lt.length&&(dt=new qh("onBeforeInput","beforeinput",null,s,N),Y.push({event:dt,listeners:lt}),dt.data=K)),q_(Y,e,U,s,N)}Up(Y,i)})}function va(e,i,s){return{instance:e,listener:i,currentTarget:s}}function Kr(e,i){for(var s=i+"Capture",l=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Ls(e,s),c!=null&&l.unshift(va(e,c,d)),c=Ls(e,i),c!=null&&l.push(va(e,c,d))),e.tag===3)return l;e=e.return}return[]}function _s(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function kp(e,i,s,l,c){for(var d=i._reactName,y=[];s!==null&&s!==l;){var b=s,w=b.alternate,U=b.stateNode;if(b=b.tag,w!==null&&w===l)break;b!==5&&b!==26&&b!==27||U===null||(w=U,c?(U=Ls(s,d),U!=null&&y.unshift(va(s,U,w))):c||(U=Ls(s,d),U!=null&&y.push(va(s,U,w)))),s=s.return}y.length!==0&&e.push({event:i,listeners:y})}var W_=/\r\n?/g,I_=/\u0000|\uFFFD/g;function Hp(e){return(typeof e=="string"?e:""+e).replace(W_,`
`).replace(I_,"")}function Np(e,i){return i=Hp(i),Hp(e)===i}function $r(){}function Ct(e,i,s,l,c,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Vn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Vn(e,""+l);break;case"className":nr(e,"class",l);break;case"tabIndex":nr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":nr(e,s,l);break;case"style":Lh(e,l,d);break;case"data":if(i!=="object"){nr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=rr(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&Ct(e,i,"name",c.name,c,null),Ct(e,i,"formEncType",c.formEncType,c,null),Ct(e,i,"formMethod",c.formMethod,c,null),Ct(e,i,"formTarget",c.formTarget,c,null)):(Ct(e,i,"encType",c.encType,c,null),Ct(e,i,"method",c.method,c,null),Ct(e,i,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=rr(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=$r);break;case"onScroll":l!=null&&gt("scroll",e);break;case"onScrollEnd":l!=null&&gt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=rr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":gt("beforetoggle",e),gt("toggle",e),ir(e,"popover",l);break;case"xlinkActuate":fi(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":fi(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":fi(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":fi(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":fi(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":fi(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":fi(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":fi(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":fi(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ir(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=M0.get(s)||s,ir(e,s,l))}}function Nu(e,i,s,l,c,d){switch(s){case"style":Lh(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof l=="string"?Vn(e,l):(typeof l=="number"||typeof l=="bigint")&&Vn(e,""+l);break;case"onScroll":l!=null&&gt("scroll",e);break;case"onScrollEnd":l!=null&&gt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=$r);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eh.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),i=s.slice(2,c?s.length-7:void 0),d=e[ge]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(i,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(i,l,c);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):ir(e,s,l)}}}function oe(e,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",e),gt("load",e);var l=!1,c=!1,d;for(d in s)if(s.hasOwnProperty(d)){var y=s[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ct(e,i,d,y,s,null)}}c&&Ct(e,i,"srcSet",s.srcSet,s,null),l&&Ct(e,i,"src",s.src,s,null);return;case"input":gt("invalid",e);var b=d=y=c=null,w=null,U=null;for(l in s)if(s.hasOwnProperty(l)){var N=s[l];if(N!=null)switch(l){case"name":c=N;break;case"type":y=N;break;case"checked":w=N;break;case"defaultChecked":U=N;break;case"value":d=N;break;case"defaultValue":b=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(137,i));break;default:Ct(e,i,l,N,s,null)}}Gh(e,d,b,w,U,y,c,!1),sr(e);return;case"select":gt("invalid",e),l=y=d=null;for(c in s)if(s.hasOwnProperty(c)&&(b=s[c],b!=null))switch(c){case"value":d=b;break;case"defaultValue":y=b;break;case"multiple":l=b;default:Ct(e,i,c,b,s,null)}i=d,s=y,e.multiple=!!l,i!=null?jn(e,!!l,i,!1):s!=null&&jn(e,!!l,s,!0);return;case"textarea":gt("invalid",e),d=c=l=null;for(y in s)if(s.hasOwnProperty(y)&&(b=s[y],b!=null))switch(y){case"value":l=b;break;case"defaultValue":c=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:Ct(e,i,y,b,s,null)}Hh(e,l,c,d),sr(e);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(l=s[w],l!=null))switch(w){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ct(e,i,w,l,s,null)}return;case"dialog":gt("beforetoggle",e),gt("toggle",e),gt("cancel",e),gt("close",e);break;case"iframe":case"object":gt("load",e);break;case"video":case"audio":for(l=0;l<ba.length;l++)gt(ba[l],e);break;case"image":gt("error",e),gt("load",e);break;case"details":gt("toggle",e);break;case"embed":case"source":case"link":gt("error",e),gt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in s)if(s.hasOwnProperty(U)&&(l=s[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Ct(e,i,U,l,s,null)}return;default:if(Jl(i)){for(N in s)s.hasOwnProperty(N)&&(l=s[N],l!==void 0&&Nu(e,i,N,l,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(l=s[b],l!=null&&Ct(e,i,b,l,s,null))}function K_(e,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,y=null,b=null,w=null,U=null,N=null;for(k in s){var Y=s[k];if(s.hasOwnProperty(k)&&Y!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":w=Y;default:l.hasOwnProperty(k)||Ct(e,i,k,null,l,Y)}}for(var G in l){var k=l[G];if(Y=s[G],l.hasOwnProperty(G)&&(k!=null||Y!=null))switch(G){case"type":d=k;break;case"name":c=k;break;case"checked":U=k;break;case"defaultChecked":N=k;break;case"value":y=k;break;case"defaultValue":b=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,i));break;default:k!==Y&&Ct(e,i,G,k,l,Y)}}Kl(e,y,b,w,U,N,d,c);return;case"select":k=y=b=G=null;for(d in s)if(w=s[d],s.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":k=w;default:l.hasOwnProperty(d)||Ct(e,i,d,null,l,w)}for(c in l)if(d=l[c],w=s[c],l.hasOwnProperty(c)&&(d!=null||w!=null))switch(c){case"value":G=d;break;case"defaultValue":b=d;break;case"multiple":y=d;default:d!==w&&Ct(e,i,c,d,l,w)}i=b,s=y,l=k,G!=null?jn(e,!!s,G,!1):!!l!=!!s&&(i!=null?jn(e,!!s,i,!0):jn(e,!!s,s?[]:"",!1));return;case"textarea":k=G=null;for(b in s)if(c=s[b],s.hasOwnProperty(b)&&c!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ct(e,i,b,null,l,c)}for(y in l)if(c=l[y],d=s[y],l.hasOwnProperty(y)&&(c!=null||d!=null))switch(y){case"value":G=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==d&&Ct(e,i,y,c,l,d)}kh(e,G,k);return;case"option":for(var ot in s)if(G=s[ot],s.hasOwnProperty(ot)&&G!=null&&!l.hasOwnProperty(ot))switch(ot){case"selected":e.selected=!1;break;default:Ct(e,i,ot,null,l,G)}for(w in l)if(G=l[w],k=s[w],l.hasOwnProperty(w)&&G!==k&&(G!=null||k!=null))switch(w){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ct(e,i,w,G,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var at in s)G=s[at],s.hasOwnProperty(at)&&G!=null&&!l.hasOwnProperty(at)&&Ct(e,i,at,null,l,G);for(U in l)if(G=l[U],k=s[U],l.hasOwnProperty(U)&&G!==k&&(G!=null||k!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,i));break;default:Ct(e,i,U,G,l,k)}return;default:if(Jl(i)){for(var Et in s)G=s[Et],s.hasOwnProperty(Et)&&G!==void 0&&!l.hasOwnProperty(Et)&&Nu(e,i,Et,void 0,l,G);for(N in l)G=l[N],k=s[N],!l.hasOwnProperty(N)||G===k||G===void 0&&k===void 0||Nu(e,i,N,G,l,k);return}}for(var R in s)G=s[R],s.hasOwnProperty(R)&&G!=null&&!l.hasOwnProperty(R)&&Ct(e,i,R,null,l,G);for(Y in l)G=l[Y],k=s[Y],!l.hasOwnProperty(Y)||G===k||G==null&&k==null||Ct(e,i,Y,G,l,k)}var Lu=null,Pu=null;function Jr(e){return e.nodeType===9?e:e.ownerDocument}function Lp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pp(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Yu(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Xu=null;function $_(){var e=window.event;return e&&e.type==="popstate"?e===Xu?!1:(Xu=e,!0):(Xu=null,!1)}var Yp=typeof setTimeout=="function"?setTimeout:void 0,J_=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,tx=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(e){return Xp.resolve(null).then(e).catch(ex)}:Yp;function ex(e){setTimeout(function(){throw e})}function tn(e){return e==="head"}function jp(e,i){var s=i,l=0,c=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var y=e.ownerDocument;if(s&1&&Sa(y.documentElement),s&2&&Sa(y.body),s&4)for(s=y.head,Sa(s),y=s.firstChild;y;){var b=y.nextSibling,w=y.nodeName;y[Hs]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&y.rel.toLowerCase()==="stylesheet"||s.removeChild(y),y=b}}if(c===0){e.removeChild(d),Ba(i);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);Ba(i)}function ju(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ju(s),Zl(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function ix(e,i,s,l){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Hs])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Ke(e.nextSibling),e===null)break}return null}function nx(e,i,s){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Ke(e.nextSibling),e===null))return null;return e}function Vu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function sx(e,i){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")i();else{var l=function(){i(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Ke(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var qu=null;function Vp(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return e;i--}else s==="/$"&&i++}e=e.previousSibling}return null}function qp(e,i,s){switch(i=Jr(s),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Sa(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Zl(e)}var je=new Map,Fp=new Set;function tl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Mi=P.d;P.d={f:ax,r:rx,D:lx,C:ox,L:ux,m:cx,X:fx,S:hx,M:dx};function ax(){var e=Mi.f(),i=qr();return e||i}function rx(e){var i=Ln(e);i!==null&&i.tag===5&&i.type==="form"?fd(i):Mi.r(e)}var xs=typeof document>"u"?null:document;function Zp(e,i,s){var l=xs;if(l&&typeof i=="string"&&i){var c=ke(i);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Fp.has(c)||(Fp.add(c),e={rel:e,crossOrigin:s,href:i},l.querySelector(c)===null&&(i=l.createElement("link"),oe(i,"link",e),Jt(i),l.head.appendChild(i)))}}function lx(e){Mi.D(e),Zp("dns-prefetch",e,null)}function ox(e,i){Mi.C(e,i),Zp("preconnect",e,i)}function ux(e,i,s){Mi.L(e,i,s);var l=xs;if(l&&e&&i){var c='link[rel="preload"][as="'+ke(i)+'"]';i==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+ke(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+ke(s.imageSizes)+'"]')):c+='[href="'+ke(e)+'"]';var d=c;switch(i){case"style":d=bs(e);break;case"script":d=vs(e)}je.has(d)||(e=g({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:e,as:i},s),je.set(d,e),l.querySelector(c)!==null||i==="style"&&l.querySelector(Aa(d))||i==="script"&&l.querySelector(wa(d))||(i=l.createElement("link"),oe(i,"link",e),Jt(i),l.head.appendChild(i)))}}function cx(e,i){Mi.m(e,i);var s=xs;if(s&&e){var l=i&&typeof i.as=="string"?i.as:"script",c='link[rel="modulepreload"][as="'+ke(l)+'"][href="'+ke(e)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=vs(e)}if(!je.has(d)&&(e=g({rel:"modulepreload",href:e},i),je.set(d,e),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(wa(d)))return}l=s.createElement("link"),oe(l,"link",e),Jt(l),s.head.appendChild(l)}}}function hx(e,i,s){Mi.S(e,i,s);var l=xs;if(l&&e){var c=Pn(l).hoistableStyles,d=bs(e);i=i||"default";var y=c.get(d);if(!y){var b={loading:0,preload:null};if(y=l.querySelector(Aa(d)))b.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":i},s),(s=je.get(d))&&Fu(e,s);var w=y=l.createElement("link");Jt(w),oe(w,"link",e),w._p=new Promise(function(U,N){w.onload=U,w.onerror=N}),w.addEventListener("load",function(){b.loading|=1}),w.addEventListener("error",function(){b.loading|=2}),b.loading|=4,el(y,i,l)}y={type:"stylesheet",instance:y,count:1,state:b},c.set(d,y)}}}function fx(e,i){Mi.X(e,i);var s=xs;if(s&&e){var l=Pn(s).hoistableScripts,c=vs(e),d=l.get(c);d||(d=s.querySelector(wa(c)),d||(e=g({src:e,async:!0},i),(i=je.get(c))&&Zu(e,i),d=s.createElement("script"),Jt(d),oe(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function dx(e,i){Mi.M(e,i);var s=xs;if(s&&e){var l=Pn(s).hoistableScripts,c=vs(e),d=l.get(c);d||(d=s.querySelector(wa(c)),d||(e=g({src:e,async:!0,type:"module"},i),(i=je.get(c))&&Zu(e,i),d=s.createElement("script"),Jt(d),oe(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function Qp(e,i,s,l){var c=(c=rt.current)?tl(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=bs(s.href),s=Pn(c).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=bs(s.href);var d=Pn(c).hoistableStyles,y=d.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=c.querySelector(Aa(e)))&&!d._p&&(y.instance=d,y.state.loading=5),je.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},je.set(e,s),d||px(c,e,s,y.state))),i&&l===null)throw Error(r(528,""));return y}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=vs(s),s=Pn(c).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function bs(e){return'href="'+ke(e)+'"'}function Aa(e){return'link[rel="stylesheet"]['+e+"]"}function Wp(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function px(e,i,s,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),oe(i,"link",s),Jt(i),e.head.appendChild(i))}function vs(e){return'[src="'+ke(e)+'"]'}function wa(e){return"script[async]"+e}function Ip(e,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ke(s.href)+'"]');if(l)return i.instance=l,Jt(l),l;var c=g({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Jt(l),oe(l,"style",c),el(l,s.precedence,e),i.instance=l;case"stylesheet":c=bs(s.href);var d=e.querySelector(Aa(c));if(d)return i.state.loading|=4,i.instance=d,Jt(d),d;l=Wp(s),(c=je.get(c))&&Fu(l,c),d=(e.ownerDocument||e).createElement("link"),Jt(d);var y=d;return y._p=new Promise(function(b,w){y.onload=b,y.onerror=w}),oe(d,"link",l),i.state.loading|=4,el(d,s.precedence,e),i.instance=d;case"script":return d=vs(s.src),(c=e.querySelector(wa(d)))?(i.instance=c,Jt(c),c):(l=s,(c=je.get(d))&&(l=g({},s),Zu(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),Jt(c),oe(c,"link",l),e.head.appendChild(c),i.instance=c);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,el(l,s.precedence,e));return i.instance}function el(e,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,y=0;y<l.length;y++){var b=l[y];if(b.dataset.precedence===i)d=b;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(e,i.firstChild))}function Fu(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Zu(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var il=null;function Kp(e,i,s){if(il===null){var l=new Map,c=il=new Map;c.set(s,l)}else c=il,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var d=s[c];if(!(d[Hs]||d[he]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(i)||"";y=e+y;var b=l.get(y);b?b.push(d):l.set(y,[d])}}return l}function $p(e,i,s){e=e.ownerDocument||e,e.head.insertBefore(s,i==="title"?e.querySelector("head > title"):null)}function mx(e,i,s){if(s===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Jp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ta=null;function gx(){}function yx(e,i,s){if(Ta===null)throw Error(r(475));var l=Ta;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var c=bs(s.href),d=e.querySelector(Aa(c));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=nl.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=d,Jt(d);return}d=e.ownerDocument||e,s=Wp(s),(c=je.get(c))&&Fu(s,c),d=d.createElement("link"),Jt(d);var y=d;y._p=new Promise(function(b,w){y.onload=b,y.onerror=w}),oe(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=nl.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function _x(){if(Ta===null)throw Error(r(475));var e=Ta;return e.stylesheets&&e.count===0&&Qu(e,e.stylesheets),0<e.count?function(i){var s=setTimeout(function(){if(e.stylesheets&&Qu(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s)}}:null}function nl(){if(this.count--,this.count===0){if(this.stylesheets)Qu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sl=null;function Qu(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sl=new Map,i.forEach(xx,e),sl=null,nl.call(e))}function xx(e,i){if(!(i.state.loading&4)){var s=sl.get(e);if(s)var l=s.get(null);else{s=new Map,sl.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var y=c[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),l=y)}l&&s.set(null,l)}c=i.instance,y=c.getAttribute("data-precedence"),d=s.get(y)||l,d===l&&s.set(null,c),s.set(y,c),this.count++,l=nl.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),i.state.loading|=4}}var Ma={$$typeof:D,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function bx(e,i,s,l,c,d,y,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jl(0),this.hiddenUpdates=jl(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function tm(e,i,s,l,c,d,y,b,w,U,N,Y){return e=new bx(e,i,s,y,b,w,U,Y),i=1,d===!0&&(i|=24),d=Ce(3,null,null,i),e.current=d,d.stateNode=e,i=Ro(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},Do(d),e}function em(e){return e?(e=$n,e):$n}function im(e,i,s,l,c,d){c=em(c),l.context===null?l.context=c:l.pendingContext=c,l=Yi(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Xi(e,l,i),s!==null&&(Oe(s,e,i),ia(s,e,i))}function nm(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<i?s:i}}function Wu(e,i){nm(e,i),(e=e.alternate)&&nm(e,i)}function sm(e){if(e.tag===13){var i=Kn(e,67108864);i!==null&&Oe(i,e,67108864),Wu(e,67108864)}}var al=!0;function vx(e,i,s,l){var c=z.T;z.T=null;var d=P.p;try{P.p=2,Iu(e,i,s,l)}finally{P.p=d,z.T=c}}function Sx(e,i,s,l){var c=z.T;z.T=null;var d=P.p;try{P.p=8,Iu(e,i,s,l)}finally{P.p=d,z.T=c}}function Iu(e,i,s,l){if(al){var c=Ku(l);if(c===null)Hu(e,i,l,rl,s),rm(e,l);else if(wx(c,e,i,s,l))l.stopPropagation();else if(rm(e,l),i&4&&-1<Ax.indexOf(e)){for(;c!==null;){var d=Ln(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=hn(d.pendingLanes);if(y!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var w=1<<31-Te(y);b.entanglements[1]|=w,y&=~w}li(d),(At&6)===0&&(jr=Ae()+500,xa(0))}}break;case 13:b=Kn(d,2),b!==null&&Oe(b,d,2),qr(),Wu(d,2)}if(d=Ku(l),d===null&&Hu(e,i,l,rl,s),d===c)break;c=d}c!==null&&l.stopPropagation()}else Hu(e,i,l,null,s)}}function Ku(e){return e=eo(e),$u(e)}var rl=null;function $u(e){if(rl=null,e=Nn(e),e!==null){var i=u(e);if(i===null)e=null;else{var s=i.tag;if(s===13){if(e=h(i),e!==null)return e;e=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return rl=e,null}function am(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yl()){case Xl:return 2;case xh:return 8;case $a:case u0:return 32;case bh:return 268435456;default:return 32}default:return 32}}var Ju=!1,en=null,nn=null,sn=null,Ca=new Map,Ea=new Map,an=[],Ax="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rm(e,i){switch(e){case"focusin":case"focusout":en=null;break;case"dragenter":case"dragleave":nn=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":Ca.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ea.delete(i.pointerId)}}function Ra(e,i,s,l,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},i!==null&&(i=Ln(i),i!==null&&sm(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,c!==null&&i.indexOf(c)===-1&&i.push(c),e)}function wx(e,i,s,l,c){switch(i){case"focusin":return en=Ra(en,e,i,s,l,c),!0;case"dragenter":return nn=Ra(nn,e,i,s,l,c),!0;case"mouseover":return sn=Ra(sn,e,i,s,l,c),!0;case"pointerover":var d=c.pointerId;return Ca.set(d,Ra(Ca.get(d)||null,e,i,s,l,c)),!0;case"gotpointercapture":return d=c.pointerId,Ea.set(d,Ra(Ea.get(d)||null,e,i,s,l,c)),!0}return!1}function lm(e){var i=Nn(e.target);if(i!==null){var s=u(i);if(s!==null){if(i=s.tag,i===13){if(i=h(s),i!==null){e.blockedOn=i,y0(e.priority,function(){if(s.tag===13){var l=ze();l=Vl(l);var c=Kn(s,l);c!==null&&Oe(c,s,l),Wu(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ll(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var s=Ku(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);to=l,s.target.dispatchEvent(l),to=null}else return i=Ln(s),i!==null&&sm(i),e.blockedOn=s,!1;i.shift()}return!0}function om(e,i,s){ll(e)&&s.delete(i)}function Tx(){Ju=!1,en!==null&&ll(en)&&(en=null),nn!==null&&ll(nn)&&(nn=null),sn!==null&&ll(sn)&&(sn=null),Ca.forEach(om),Ea.forEach(om)}function ol(e,i){e.blockedOn===i&&(e.blockedOn=null,Ju||(Ju=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Tx)))}var ul=null;function um(e){ul!==e&&(ul=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ul===e&&(ul=null);for(var i=0;i<e.length;i+=3){var s=e[i],l=e[i+1],c=e[i+2];if(typeof l!="function"){if($u(l||s)===null)continue;break}var d=Ln(s);d!==null&&(e.splice(i,3),i-=3,$o(d,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Ba(e){function i(w){return ol(w,e)}en!==null&&ol(en,e),nn!==null&&ol(nn,e),sn!==null&&ol(sn,e),Ca.forEach(i),Ea.forEach(i);for(var s=0;s<an.length;s++){var l=an[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<an.length&&(s=an[0],s.blockedOn===null);)lm(s),s.blockedOn===null&&an.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],d=s[l+1],y=c[ge]||null;if(typeof d=="function")y||um(s);else if(y){var b=null;if(d&&d.hasAttribute("formAction")){if(c=d,y=d[ge]||null)b=y.formAction;else if($u(c)!==null)continue}else b=y.action;typeof b=="function"?s[l+1]=b:(s.splice(l,3),l-=3),um(s)}}}function tc(e){this._internalRoot=e}cl.prototype.render=tc.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var s=i.current,l=ze();im(s,l,e,i,null,null)},cl.prototype.unmount=tc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;im(e.current,2,null,e,null,null),qr(),i[Hn]=null}};function cl(e){this._internalRoot=e}cl.prototype.unstable_scheduleHydration=function(e){if(e){var i=Th();e={blockedOn:null,target:e,priority:i};for(var s=0;s<an.length&&i!==0&&i<an[s].priority;s++);an.splice(s,0,e),s===0&&lm(e)}};var cm=t.version;if(cm!=="19.1.0")throw Error(r(527,cm,"19.1.0"));P.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(i),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var Mx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hl.isDisabled&&hl.supportsFiber)try{Us=hl.inject(Mx),we=hl}catch{}}return Oa.createRoot=function(e,i){if(!o(e))throw Error(r(299));var s=!1,l="",c=Md,d=Cd,y=Ed,b=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=tm(e,1,!1,null,null,s,l,c,d,y,b,null),e[Hn]=i.current,ku(e),new tc(i)},Oa.hydrateRoot=function(e,i,s){if(!o(e))throw Error(r(299));var l=!1,c="",d=Md,y=Cd,b=Ed,w=null,U=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks),s.formState!==void 0&&(U=s.formState)),i=tm(e,1,!0,i,s??null,l,c,d,y,b,w,U),i.context=em(null),s=i.current,l=ze(),l=Vl(l),c=Yi(l),c.callback=null,Xi(s,c,l),s=l,i.current.lanes=s,ks(i,s),li(i),e[Hn]=i.current,ku(e),new cl(i)},Oa.version="19.1.0",Oa}var bm;function kx(){if(bm)return nc.exports;bm=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),nc.exports=Gx(),nc.exports}var Hx=kx();const Nx="modulepreload",Lx=function(a){return"/"+a},vm={},Bl=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){let p=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),f=h?.nonce||h?.getAttribute("nonce");o=p(n.map(m=>{if(m=Lx(m),m in vm)return;vm[m]=!0;const g=m.endsWith(".css"),_=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${_}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":Nx,g||(v.as="script"),v.crossOrigin="",v.href=m,f&&v.setAttribute("nonce",f),document.head.appendChild(v),g)return new Promise((x,S)=>{v.addEventListener("load",x),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(h){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=h,window.dispatchEvent(f),!f.defaultPrevented)throw h}return o.then(h=>{for(const f of h||[])f.status==="rejected"&&u(f.reason);return t().catch(u)})};var tt=(a=>(a.Application="application",a.WebGLPipes="webgl-pipes",a.WebGLPipesAdaptor="webgl-pipes-adaptor",a.WebGLSystem="webgl-system",a.WebGPUPipes="webgpu-pipes",a.WebGPUPipesAdaptor="webgpu-pipes-adaptor",a.WebGPUSystem="webgpu-system",a.CanvasSystem="canvas-system",a.CanvasPipesAdaptor="canvas-pipes-adaptor",a.CanvasPipes="canvas-pipes",a.Asset="asset",a.LoadParser="load-parser",a.ResolveParser="resolve-parser",a.CacheParser="cache-parser",a.DetectionParser="detection-parser",a.MaskEffect="mask-effect",a.BlendMode="blend-mode",a.TextureSource="texture-source",a.Environment="environment",a.ShapeBuilder="shape-builder",a.Batcher="batcher",a))(tt||{});const Gc=a=>{if(typeof a=="function"||typeof a=="object"&&a.extension){if(!a.extension)throw new Error("Extension class must have an extension object");a={...typeof a.extension!="object"?{type:a.extension}:a.extension,ref:a}}if(typeof a=="object")a={...a};else throw new Error("Invalid extension type");return typeof a.type=="string"&&(a.type=[a.type]),a},fl=(a,t)=>Gc(a).priority??t,ue={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...a){return a.map(Gc).forEach(t=>{t.type.forEach(n=>this._removeHandlers[n]?.(t))}),this},add(...a){return a.map(Gc).forEach(t=>{t.type.forEach(n=>{const r=this._addHandlers,o=this._queue;r[n]?r[n]?.(t):(o[n]=o[n]||[],o[n]?.push(t))})}),this},handle(a,t,n){const r=this._addHandlers,o=this._removeHandlers;if(r[a]||o[a])throw new Error(`Extension type ${a} already has a handler`);r[a]=t,o[a]=n;const u=this._queue;return u[a]&&(u[a]?.forEach(h=>t(h)),delete u[a]),this},handleByMap(a,t){return this.handle(a,n=>{n.name&&(t[n.name]=n.ref)},n=>{n.name&&delete t[n.name]})},handleByNamedList(a,t,n=-1){return this.handle(a,r=>{t.findIndex(u=>u.name===r.name)>=0||(t.push({name:r.name,value:r.ref}),t.sort((u,h)=>fl(h.value,n)-fl(u.value,n)))},r=>{const o=t.findIndex(u=>u.name===r.name);o!==-1&&t.splice(o,1)})},handleByList(a,t,n=-1){return this.handle(a,r=>{t.includes(r.ref)||(t.push(r.ref),t.sort((o,u)=>fl(u,n)-fl(o,n)))},r=>{const o=t.indexOf(r.ref);o!==-1&&t.splice(o,1)})},mixin(a,...t){for(const n of t)Object.defineProperties(a.prototype,Object.getOwnPropertyDescriptors(n))}},Px={extension:{type:tt.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Bl(()=>import("./browserAll-CiEBIJhE.js"),__vite__mapDeps([0,1,2]))}},Yx={extension:{type:tt.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Bl(()=>import("./webworkerAll-5_Hn3kRL.js"),__vite__mapDeps([1,2]))}};class se{constructor(t,n,r){this._x=n||0,this._y=r||0,this._observer=t}clone(t){return new se(t??this._observer,this._x,this._y)}set(t=0,n=t){return(this._x!==t||this._y!==n)&&(this._x=t,this._y=n,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}var lc={exports:{}},Sm;function Xx(){return Sm||(Sm=1,function(a){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function o(p,m,g){this.fn=p,this.context=m,this.once=g||!1}function u(p,m,g,_,v){if(typeof g!="function")throw new TypeError("The listener must be a function");var x=new o(g,_||p,v),S=n?n+m:m;return p._events[S]?p._events[S].fn?p._events[S]=[p._events[S],x]:p._events[S].push(x):(p._events[S]=x,p._eventsCount++),p}function h(p,m){--p._eventsCount===0?p._events=new r:delete p._events[m]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var m=[],g,_;if(this._eventsCount===0)return m;for(_ in g=this._events)t.call(g,_)&&m.push(n?_.slice(1):_);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},f.prototype.listeners=function(m){var g=n?n+m:m,_=this._events[g];if(!_)return[];if(_.fn)return[_.fn];for(var v=0,x=_.length,S=new Array(x);v<x;v++)S[v]=_[v].fn;return S},f.prototype.listenerCount=function(m){var g=n?n+m:m,_=this._events[g];return _?_.fn?1:_.length:0},f.prototype.emit=function(m,g,_,v,x,S){var T=n?n+m:m;if(!this._events[T])return!1;var A=this._events[T],E=arguments.length,B,D;if(A.fn){switch(A.once&&this.removeListener(m,A.fn,void 0,!0),E){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,g),!0;case 3:return A.fn.call(A.context,g,_),!0;case 4:return A.fn.call(A.context,g,_,v),!0;case 5:return A.fn.call(A.context,g,_,v,x),!0;case 6:return A.fn.call(A.context,g,_,v,x,S),!0}for(D=1,B=new Array(E-1);D<E;D++)B[D-1]=arguments[D];A.fn.apply(A.context,B)}else{var H=A.length,X;for(D=0;D<H;D++)switch(A[D].once&&this.removeListener(m,A[D].fn,void 0,!0),E){case 1:A[D].fn.call(A[D].context);break;case 2:A[D].fn.call(A[D].context,g);break;case 3:A[D].fn.call(A[D].context,g,_);break;case 4:A[D].fn.call(A[D].context,g,_,v);break;default:if(!B)for(X=1,B=new Array(E-1);X<E;X++)B[X-1]=arguments[X];A[D].fn.apply(A[D].context,B)}}return!0},f.prototype.on=function(m,g,_){return u(this,m,g,_,!1)},f.prototype.once=function(m,g,_){return u(this,m,g,_,!0)},f.prototype.removeListener=function(m,g,_,v){var x=n?n+m:m;if(!this._events[x])return this;if(!g)return h(this,x),this;var S=this._events[x];if(S.fn)S.fn===g&&(!v||S.once)&&(!_||S.context===_)&&h(this,x);else{for(var T=0,A=[],E=S.length;T<E;T++)(S[T].fn!==g||v&&!S[T].once||_&&S[T].context!==_)&&A.push(S[T]);A.length?this._events[x]=A.length===1?A[0]:A:h(this,x)}return this},f.prototype.removeAllListeners=function(m){var g;return m?(g=n?n+m:m,this._events[g]&&h(this,g)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=n,f.EventEmitter=f,a.exports=f}(lc)),lc.exports}var jx=Xx();const ei=kg(jx),Vx=Math.PI*2,qx=180/Math.PI,Fx=Math.PI/180;class ae{constructor(t=0,n=0){this.x=0,this.y=0,this.x=t,this.y=n}clone(){return new ae(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,n=t){return this.x=t,this.y=n,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return oc.x=0,oc.y=0,oc}}const oc=new ae;class yt{constructor(t=1,n=0,r=0,o=1,u=0,h=0){this.array=null,this.a=t,this.b=n,this.c=r,this.d=o,this.tx=u,this.ty=h}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,n,r,o,u,h){return this.a=t,this.b=n,this.c=r,this.d=o,this.tx=u,this.ty=h,this}toArray(t,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(t,n){n=n||new ae;const r=t.x,o=t.y;return n.x=this.a*r+this.c*o+this.tx,n.y=this.b*r+this.d*o+this.ty,n}applyInverse(t,n){n=n||new ae;const r=this.a,o=this.b,u=this.c,h=this.d,f=this.tx,p=this.ty,m=1/(r*h+u*-o),g=t.x,_=t.y;return n.x=h*m*g+-u*m*_+(p*u-f*h)*m,n.y=r*m*_+-o*m*g+(-p*r+f*o)*m,n}translate(t,n){return this.tx+=t,this.ty+=n,this}scale(t,n){return this.a*=t,this.d*=n,this.c*=t,this.b*=n,this.tx*=t,this.ty*=n,this}rotate(t){const n=Math.cos(t),r=Math.sin(t),o=this.a,u=this.c,h=this.tx;return this.a=o*n-this.b*r,this.b=o*r+this.b*n,this.c=u*n-this.d*r,this.d=u*r+this.d*n,this.tx=h*n-this.ty*r,this.ty=h*r+this.ty*n,this}append(t){const n=this.a,r=this.b,o=this.c,u=this.d;return this.a=t.a*n+t.b*o,this.b=t.a*r+t.b*u,this.c=t.c*n+t.d*o,this.d=t.c*r+t.d*u,this.tx=t.tx*n+t.ty*o+this.tx,this.ty=t.tx*r+t.ty*u+this.ty,this}appendFrom(t,n){const r=t.a,o=t.b,u=t.c,h=t.d,f=t.tx,p=t.ty,m=n.a,g=n.b,_=n.c,v=n.d;return this.a=r*m+o*_,this.b=r*g+o*v,this.c=u*m+h*_,this.d=u*g+h*v,this.tx=f*m+p*_+n.tx,this.ty=f*g+p*v+n.ty,this}setTransform(t,n,r,o,u,h,f,p,m){return this.a=Math.cos(f+m)*u,this.b=Math.sin(f+m)*u,this.c=-Math.sin(f-p)*h,this.d=Math.cos(f-p)*h,this.tx=t-(r*this.a+o*this.c),this.ty=n-(r*this.b+o*this.d),this}prepend(t){const n=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const r=this.a,o=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=o*t.a+this.d*t.c,this.d=o*t.b+this.d*t.d}return this.tx=n*t.a+this.ty*t.c+t.tx,this.ty=n*t.b+this.ty*t.d+t.ty,this}decompose(t){const n=this.a,r=this.b,o=this.c,u=this.d,h=t.pivot,f=-Math.atan2(-o,u),p=Math.atan2(r,n),m=Math.abs(f+p);return m<1e-5||Math.abs(Vx-m)<1e-5?(t.rotation=p,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=f,t.skew.y=p),t.scale.x=Math.sqrt(n*n+r*r),t.scale.y=Math.sqrt(o*o+u*u),t.position.x=this.tx+(h.x*n+h.y*o),t.position.y=this.ty+(h.x*r+h.y*u),t}invert(){const t=this.a,n=this.b,r=this.c,o=this.d,u=this.tx,h=t*o-n*r;return this.a=o/h,this.b=-n/h,this.c=-r/h,this.d=t/h,this.tx=(r*this.ty-o*u)/h,this.ty=-(t*this.ty-n*u)/h,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new yt;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return Qx.identity()}static get shared(){return Zx.identity()}}const Zx=new yt,Qx=new yt,Bn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],zn=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],On=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Dn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],kc=[],Hg=[],dl=Math.sign;function Wx(){for(let a=0;a<16;a++){const t=[];kc.push(t);for(let n=0;n<16;n++){const r=dl(Bn[a]*Bn[n]+On[a]*zn[n]),o=dl(zn[a]*Bn[n]+Dn[a]*zn[n]),u=dl(Bn[a]*On[n]+On[a]*Dn[n]),h=dl(zn[a]*On[n]+Dn[a]*Dn[n]);for(let f=0;f<16;f++)if(Bn[f]===r&&zn[f]===o&&On[f]===u&&Dn[f]===h){t.push(f);break}}}for(let a=0;a<16;a++){const t=new yt;t.set(Bn[a],zn[a],On[a],Dn[a],0,0),Hg.push(t)}}Wx();const Gt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:a=>Bn[a],uY:a=>zn[a],vX:a=>On[a],vY:a=>Dn[a],inv:a=>a&8?a&15:-a&7,add:(a,t)=>kc[a][t],sub:(a,t)=>kc[a][Gt.inv(t)],rotate180:a=>a^4,isVertical:a=>(a&3)===2,byDirection:(a,t)=>Math.abs(a)*2<=Math.abs(t)?t>=0?Gt.S:Gt.N:Math.abs(t)*2<=Math.abs(a)?a>0?Gt.E:Gt.W:t>0?a>0?Gt.SE:Gt.SW:a>0?Gt.NE:Gt.NW,matrixAppendRotationInv:(a,t,n=0,r=0)=>{const o=Hg[Gt.inv(t)];o.tx=n,o.ty=r,a.append(o)}},pl=[new ae,new ae,new ae,new ae];class qt{constructor(t=0,n=0,r=0,o=0){this.type="rectangle",this.x=Number(t),this.y=Number(n),this.width=Number(r),this.height=Number(o)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new qt(0,0,0,0)}clone(){return new qt(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,n){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&n>=this.y&&n<this.y+this.height}strokeContains(t,n,r,o=.5){const{width:u,height:h}=this;if(u<=0||h<=0)return!1;const f=this.x,p=this.y,m=r*(1-o),g=r-m,_=f-m,v=f+u+m,x=p-m,S=p+h+m,T=f+g,A=f+u-g,E=p+g,B=p+h-g;return t>=_&&t<=v&&n>=x&&n<=S&&!(t>T&&t<A&&n>E&&n<B)}intersects(t,n){if(!n){const it=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=it)return!1;const Q=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>Q}const r=this.left,o=this.right,u=this.top,h=this.bottom;if(o<=r||h<=u)return!1;const f=pl[0].set(t.left,t.top),p=pl[1].set(t.left,t.bottom),m=pl[2].set(t.right,t.top),g=pl[3].set(t.right,t.bottom);if(m.x<=f.x||p.y<=f.y)return!1;const _=Math.sign(n.a*n.d-n.b*n.c);if(_===0||(n.apply(f,f),n.apply(p,p),n.apply(m,m),n.apply(g,g),Math.max(f.x,p.x,m.x,g.x)<=r||Math.min(f.x,p.x,m.x,g.x)>=o||Math.max(f.y,p.y,m.y,g.y)<=u||Math.min(f.y,p.y,m.y,g.y)>=h))return!1;const v=_*(p.y-f.y),x=_*(f.x-p.x),S=v*r+x*u,T=v*o+x*u,A=v*r+x*h,E=v*o+x*h;if(Math.max(S,T,A,E)<=v*f.x+x*f.y||Math.min(S,T,A,E)>=v*g.x+x*g.y)return!1;const B=_*(f.y-m.y),D=_*(m.x-f.x),H=B*r+D*u,X=B*o+D*u,j=B*r+D*h,V=B*o+D*h;return!(Math.max(H,X,j,V)<=B*f.x+D*f.y||Math.min(H,X,j,V)>=B*g.x+D*g.y)}pad(t=0,n=t){return this.x-=t,this.y-=n,this.width+=t*2,this.height+=n*2,this}fit(t){const n=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),o=Math.max(this.y,t.y),u=Math.min(this.y+this.height,t.y+t.height);return this.x=n,this.width=Math.max(r-n,0),this.y=o,this.height=Math.max(u-o,0),this}ceil(t=1,n=.001){const r=Math.ceil((this.x+this.width-n)*t)/t,o=Math.ceil((this.y+this.height-n)*t)/t;return this.x=Math.floor((this.x+n)*t)/t,this.y=Math.floor((this.y+n)*t)/t,this.width=r-this.x,this.height=o-this.y,this}enlarge(t){const n=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),o=Math.min(this.y,t.y),u=Math.max(this.y+this.height,t.y+t.height);return this.x=n,this.width=r-n,this.y=o,this.height=u-o,this}getBounds(t){return t||(t=new qt),t.copyFrom(this),t}containsRect(t){if(this.width<=0||this.height<=0)return!1;const n=t.x,r=t.y,o=t.x+t.width,u=t.y+t.height;return n>=this.x&&n<this.x+this.width&&r>=this.y&&r<this.y+this.height&&o>=this.x&&o<this.x+this.width&&u>=this.y&&u<this.y+this.height}set(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const uc={default:-1};function Ft(a="default"){return uc[a]===void 0&&(uc[a]=-1),++uc[a]}const Am={},Tt="8.0.0",Ix="8.3.4";function _t(a,t,n=3){if(Am[t])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${a}`):(r=r.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${a}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${a}`),console.warn(r))),Am[t]=!0}const Ng=()=>{};function zl(a){return a+=a===0?1:0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1}function wm(a){return!(a&a-1)&&!!a}function Lg(a){const t={};for(const n in a)a[n]!==void 0&&(t[n]=a[n]);return t}const Tm=Object.create(null);function Kx(a){const t=Tm[a];return t===void 0&&(Tm[a]=Ft("resource")),t}const Pg=class Yg extends ei{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={...Yg.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){_t(Tt,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=Kx(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};Pg.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let Ol=Pg;const Xg=class jg extends ei{constructor(t={}){super(),this.options=t,this.uid=Ft("textureSource"),this._resourceType="textureSource",this._resourceId=Ft("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...jg.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new Ol(Lg(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){this.style!==t&&(this._style?.off("change",this._onStyleChange,this),this._style=t,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Ft("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,n,r){r||(r=this._resolution),t||(t=this.width),n||(n=this.height);const o=Math.round(t*r),u=Math.round(n*r);return this.width=o/r,this.height=u/r,this._resolution=r,this.pixelWidth===o&&this.pixelHeight===u?!1:(this._refreshPOT(),this.pixelWidth=o,this.pixelHeight=u,this.emit("resize",this),this._resourceId=Ft("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=wm(this.pixelWidth)&&wm(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};Xg.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let ii=Xg;class ih extends ii{constructor(t){const n=t.resource||new Float32Array(t.width*t.height*4);let r=t.format;r||(n instanceof Float32Array?r="rgba32float":n instanceof Int32Array||n instanceof Uint32Array?r="rgba32uint":n instanceof Int16Array||n instanceof Uint16Array?r="rgba16uint":(n instanceof Int8Array,r="bgra8unorm")),super({...t,resource:n,format:r}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}ih.extension=tt.TextureSource;const Mm=new yt;class $x{constructor(t,n){this.mapCoord=new yt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof n>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=n,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){this.texture!==t&&(this._texture?.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,n){n===void 0&&(n=t);const r=this.mapCoord;for(let o=0;o<t.length;o+=2){const u=t[o],h=t[o+1];n[o]=u*r.a+h*r.c+r.tx,n[o+1]=u*r.b+h*r.d+r.ty}return n}update(){const t=this._texture;this._updateID++;const n=t.uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const r=t.orig,o=t.trim;o&&(Mm.set(r.width/o.width,0,0,r.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(Mm));const u=t.source,h=this.uClampFrame,f=this.clampMargin/u._resolution,p=this.clampOffset/u._resolution;return h[0]=(t.frame.x+f+p)/u.width,h[1]=(t.frame.y+f+p)/u.height,h[2]=(t.frame.x+t.frame.width-f+p)/u.width,h[3]=(t.frame.y+t.frame.height-f+p)/u.height,this.uClampOffset[0]=this.clampOffset/u.pixelWidth,this.uClampOffset[1]=this.clampOffset/u.pixelHeight,this.isSimple=t.frame.width===u.width&&t.frame.height===u.height&&t.rotate===0,!0}}class ct extends ei{constructor({source:t,label:n,frame:r,orig:o,trim:u,defaultAnchor:h,defaultBorders:f,rotate:p,dynamic:m}={}){if(super(),this.uid=Ft("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new qt,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=n,this.source=t?.source??new ii,this.noFrame=!r,r)this.frame.copyFrom(r);else{const{width:g,height:_}=this._source;this.frame.width=g,this.frame.height=_}this.orig=o||this.frame,this.trim=u,this.rotate=p??0,this.defaultAnchor=h,this.defaultBorders=f,this.destroyed=!1,this.dynamic=m||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new $x(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:n}=this,{width:r,height:o}=this._source,u=n.x/r,h=n.y/o,f=n.width/r,p=n.height/o;let m=this.rotate;if(m){const g=f/2,_=p/2,v=u+g,x=h+_;m=Gt.add(m,Gt.NW),t.x0=v+g*Gt.uX(m),t.y0=x+_*Gt.uY(m),m=Gt.add(m,2),t.x1=v+g*Gt.uX(m),t.y1=x+_*Gt.uY(m),m=Gt.add(m,2),t.x2=v+g*Gt.uX(m),t.y2=x+_*Gt.uY(m),m=Gt.add(m,2),t.x3=v+g*Gt.uX(m),t.y3=x+_*Gt.uY(m)}else t.x0=u,t.y0=h,t.x1=u+f,t.y1=h,t.x2=u+f,t.y2=h+p,t.x3=u,t.y3=h+p}destroy(t=!1){this._source&&t&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return _t(Tt,"Texture.baseTexture is now Texture.source"),this._source}}ct.EMPTY=new ct({label:"EMPTY",source:new ii({label:"EMPTY"})});ct.EMPTY.destroy=Ng;ct.WHITE=new ct({source:new ih({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});ct.WHITE.destroy=Ng;function Jx(a,t,n){const{width:r,height:o}=n.orig,u=n.trim;if(u){const h=u.width,f=u.height;a.minX=u.x-t._x*r,a.maxX=a.minX+h,a.minY=u.y-t._y*o,a.maxY=a.minY+f}else a.minX=-t._x*r,a.maxX=a.minX+r,a.minY=-t._y*o,a.maxY=a.minY+o}const Cm=new yt;class ti{constructor(t=1/0,n=1/0,r=-1/0,o=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Cm,this.minX=t,this.minY=n,this.maxX=r,this.maxY=o}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new qt);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=Cm,this}set(t,n,r,o){this.minX=t,this.minY=n,this.maxX=r,this.maxY=o}addFrame(t,n,r,o,u){u||(u=this.matrix);const h=u.a,f=u.b,p=u.c,m=u.d,g=u.tx,_=u.ty;let v=this.minX,x=this.minY,S=this.maxX,T=this.maxY,A=h*t+p*n+g,E=f*t+m*n+_;A<v&&(v=A),E<x&&(x=E),A>S&&(S=A),E>T&&(T=E),A=h*r+p*n+g,E=f*r+m*n+_,A<v&&(v=A),E<x&&(x=E),A>S&&(S=A),E>T&&(T=E),A=h*t+p*o+g,E=f*t+m*o+_,A<v&&(v=A),E<x&&(x=E),A>S&&(S=A),E>T&&(T=E),A=h*r+p*o+g,E=f*r+m*o+_,A<v&&(v=A),E<x&&(x=E),A>S&&(S=A),E>T&&(T=E),this.minX=v,this.minY=x,this.maxX=S,this.maxY=T}addRect(t,n){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,n)}addBounds(t,n){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,n)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const n=this.minX,r=this.minY,o=this.maxX,u=this.maxY,{a:h,b:f,c:p,d:m,tx:g,ty:_}=t;let v=h*n+p*r+g,x=f*n+m*r+_;this.minX=v,this.minY=x,this.maxX=v,this.maxY=x,v=h*o+p*r+g,x=f*o+m*r+_,this.minX=v<this.minX?v:this.minX,this.minY=x<this.minY?x:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=x>this.maxY?x:this.maxY,v=h*n+p*u+g,x=f*n+m*u+_,this.minX=v<this.minX?v:this.minX,this.minY=x<this.minY?x:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=x>this.maxY?x:this.maxY,v=h*o+p*u+g,x=f*o+m*u+_,this.minX=v<this.minX?v:this.minX,this.minY=x<this.minY?x:this.minY,this.maxX=v>this.maxX?v:this.maxX,this.maxY=x>this.maxY?x:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,n,r,o){return this.minX<t&&(this.minX=t),this.maxX>n&&(this.maxX=n),this.minY<r&&(this.minY=r),this.maxY>o&&(this.maxY=o),this}pad(t,n=t){return this.minX-=t,this.maxX+=t,this.minY-=n,this.maxY+=n,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new ti(this.minX,this.minY,this.maxX,this.maxY)}scale(t,n=t){return this.minX*=t,this.minY*=n,this.maxX*=t,this.maxY*=n,this}get x(){return this.minX}set x(t){const n=this.maxX-this.minX;this.minX=t,this.maxX=t+n}get y(){return this.minY}set y(t){const n=this.maxY-this.minY;this.minY=t,this.maxY=t+n}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,n,r,o){let u=this.minX,h=this.minY,f=this.maxX,p=this.maxY;o||(o=this.matrix);const m=o.a,g=o.b,_=o.c,v=o.d,x=o.tx,S=o.ty;for(let T=n;T<r;T+=2){const A=t[T],E=t[T+1],B=m*A+_*E+x,D=g*A+v*E+S;u=B<u?B:u,h=D<h?D:h,f=B>f?B:f,p=D>p?D:p}this.minX=u,this.minY=h,this.maxX=f,this.maxY=p}containsPoint(t,n){return this.minX<=t&&this.minY<=n&&this.maxX>=t&&this.maxY>=n}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(t){return this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,this}}var tb={grad:.9,turn:360,rad:360/(2*Math.PI)},Ci=function(a){return typeof a=="string"?a.length>0:typeof a=="number"},ne=function(a,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*a)/n+0},qe=function(a,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),a>n?n:a>t?a:t},Vg=function(a){return(a=isFinite(a)?a%360:0)>0?a:a+360},Em=function(a){return{r:qe(a.r,0,255),g:qe(a.g,0,255),b:qe(a.b,0,255),a:qe(a.a)}},cc=function(a){return{r:ne(a.r),g:ne(a.g),b:ne(a.b),a:ne(a.a,3)}},eb=/^#([0-9a-f]{3,8})$/i,ml=function(a){var t=a.toString(16);return t.length<2?"0"+t:t},qg=function(a){var t=a.r,n=a.g,r=a.b,o=a.a,u=Math.max(t,n,r),h=u-Math.min(t,n,r),f=h?u===t?(n-r)/h:u===n?2+(r-t)/h:4+(t-n)/h:0;return{h:60*(f<0?f+6:f),s:u?h/u*100:0,v:u/255*100,a:o}},Fg=function(a){var t=a.h,n=a.s,r=a.v,o=a.a;t=t/360*6,n/=100,r/=100;var u=Math.floor(t),h=r*(1-n),f=r*(1-(t-u)*n),p=r*(1-(1-t+u)*n),m=u%6;return{r:255*[r,f,h,h,p,r][m],g:255*[p,r,r,f,h,h][m],b:255*[h,h,p,r,r,f][m],a:o}},Rm=function(a){return{h:Vg(a.h),s:qe(a.s,0,100),l:qe(a.l,0,100),a:qe(a.a)}},Bm=function(a){return{h:ne(a.h),s:ne(a.s),l:ne(a.l),a:ne(a.a,3)}},zm=function(a){return Fg((n=(t=a).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},Ya=function(a){return{h:(t=qg(a)).h,s:(o=(200-(n=t.s))*(r=t.v)/100)>0&&o<200?n*r/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,n,r,o},ib=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,nb=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,sb=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ab=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Hc={string:[[function(a){var t=eb.exec(a);return t?(a=t[1]).length<=4?{r:parseInt(a[0]+a[0],16),g:parseInt(a[1]+a[1],16),b:parseInt(a[2]+a[2],16),a:a.length===4?ne(parseInt(a[3]+a[3],16)/255,2):1}:a.length===6||a.length===8?{r:parseInt(a.substr(0,2),16),g:parseInt(a.substr(2,2),16),b:parseInt(a.substr(4,2),16),a:a.length===8?ne(parseInt(a.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(a){var t=sb.exec(a)||ab.exec(a);return t?t[2]!==t[4]||t[4]!==t[6]?null:Em({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(a){var t=ib.exec(a)||nb.exec(a);if(!t)return null;var n,r,o=Rm({h:(n=t[1],r=t[2],r===void 0&&(r="deg"),Number(n)*(tb[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return zm(o)},"hsl"]],object:[[function(a){var t=a.r,n=a.g,r=a.b,o=a.a,u=o===void 0?1:o;return Ci(t)&&Ci(n)&&Ci(r)?Em({r:Number(t),g:Number(n),b:Number(r),a:Number(u)}):null},"rgb"],[function(a){var t=a.h,n=a.s,r=a.l,o=a.a,u=o===void 0?1:o;if(!Ci(t)||!Ci(n)||!Ci(r))return null;var h=Rm({h:Number(t),s:Number(n),l:Number(r),a:Number(u)});return zm(h)},"hsl"],[function(a){var t=a.h,n=a.s,r=a.v,o=a.a,u=o===void 0?1:o;if(!Ci(t)||!Ci(n)||!Ci(r))return null;var h=function(f){return{h:Vg(f.h),s:qe(f.s,0,100),v:qe(f.v,0,100),a:qe(f.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(u)});return Fg(h)},"hsv"]]},Om=function(a,t){for(var n=0;n<t.length;n++){var r=t[n][0](a);if(r)return[r,t[n][1]]}return[null,void 0]},rb=function(a){return typeof a=="string"?Om(a.trim(),Hc.string):typeof a=="object"&&a!==null?Om(a,Hc.object):[null,void 0]},hc=function(a,t){var n=Ya(a);return{h:n.h,s:qe(n.s+100*t,0,100),l:n.l,a:n.a}},fc=function(a){return(299*a.r+587*a.g+114*a.b)/1e3/255},Dm=function(a,t){var n=Ya(a);return{h:n.h,s:n.s,l:qe(n.l+100*t,0,100),a:n.a}},Nc=function(){function a(t){this.parsed=rb(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return a.prototype.isValid=function(){return this.parsed!==null},a.prototype.brightness=function(){return ne(fc(this.rgba),2)},a.prototype.isDark=function(){return fc(this.rgba)<.5},a.prototype.isLight=function(){return fc(this.rgba)>=.5},a.prototype.toHex=function(){return t=cc(this.rgba),n=t.r,r=t.g,o=t.b,h=(u=t.a)<1?ml(ne(255*u)):"","#"+ml(n)+ml(r)+ml(o)+h;var t,n,r,o,u,h},a.prototype.toRgb=function(){return cc(this.rgba)},a.prototype.toRgbString=function(){return t=cc(this.rgba),n=t.r,r=t.g,o=t.b,(u=t.a)<1?"rgba("+n+", "+r+", "+o+", "+u+")":"rgb("+n+", "+r+", "+o+")";var t,n,r,o,u},a.prototype.toHsl=function(){return Bm(Ya(this.rgba))},a.prototype.toHslString=function(){return t=Bm(Ya(this.rgba)),n=t.h,r=t.s,o=t.l,(u=t.a)<1?"hsla("+n+", "+r+"%, "+o+"%, "+u+")":"hsl("+n+", "+r+"%, "+o+"%)";var t,n,r,o,u},a.prototype.toHsv=function(){return t=qg(this.rgba),{h:ne(t.h),s:ne(t.s),v:ne(t.v),a:ne(t.a,3)};var t},a.prototype.invert=function(){return oi({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},a.prototype.saturate=function(t){return t===void 0&&(t=.1),oi(hc(this.rgba,t))},a.prototype.desaturate=function(t){return t===void 0&&(t=.1),oi(hc(this.rgba,-t))},a.prototype.grayscale=function(){return oi(hc(this.rgba,-1))},a.prototype.lighten=function(t){return t===void 0&&(t=.1),oi(Dm(this.rgba,t))},a.prototype.darken=function(t){return t===void 0&&(t=.1),oi(Dm(this.rgba,-t))},a.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},a.prototype.alpha=function(t){return typeof t=="number"?oi({r:(n=this.rgba).r,g:n.g,b:n.b,a:t}):ne(this.rgba.a,3);var n},a.prototype.hue=function(t){var n=Ya(this.rgba);return typeof t=="number"?oi({h:t,s:n.s,l:n.l,a:n.a}):ne(n.h)},a.prototype.isEqual=function(t){return this.toHex()===oi(t).toHex()},a}(),oi=function(a){return a instanceof Nc?a:new Nc(a)},Um=[],lb=function(a){a.forEach(function(t){Um.indexOf(t)<0&&(t(Nc,Hc),Um.push(t))})};function ob(a,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var o in n)r[n[o]]=o;var u={};a.prototype.toName=function(h){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var f,p,m=r[this.toHex()];if(m)return m;if(h?.closest){var g=this.toRgb(),_=1/0,v="black";if(!u.length)for(var x in n)u[x]=new a(n[x]).toRgb();for(var S in n){var T=(f=g,p=u[S],Math.pow(f.r-p.r,2)+Math.pow(f.g-p.g,2)+Math.pow(f.b-p.b,2));T<_&&(_=T,v=S)}return v}},t.string.push([function(h){var f=h.toLowerCase(),p=f==="transparent"?"#0000":n[f];return p?new a(p).toRgb():null},"name"])}lb([ob]);const Es=class Ha{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof Ha)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._value=this._cloneSource(t),this._normalize(this._value))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,n){const r=typeof t;if(r!==typeof n)return!1;if(r==="number"||r==="string"||t instanceof Number)return t===n;if(Array.isArray(t)&&Array.isArray(n)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(n))return t.length!==n.length?!1:t.every((u,h)=>u===n[h]);if(t!==null&&n!==null){const u=Object.keys(t),h=Object.keys(n);return u.length!==h.length?!1:u.every(f=>t[f]===n[f])}return t===n}toRgba(){const[t,n,r,o]=this._components;return{r:t,g:n,b:r,a:o}}toRgb(){const[t,n,r]=this._components;return{r:t,g:n,b:r}}toRgbaString(){const[t,n,r]=this.toUint8RgbArray();return`rgba(${t},${n},${r},${this.alpha})`}toUint8RgbArray(t){const[n,r,o]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb),t[0]=Math.round(n*255),t[1]=Math.round(r*255),t[2]=Math.round(o*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t||(t=this._arrayRgba);const[n,r,o,u]=this._components;return t[0]=n,t[1]=r,t[2]=o,t[3]=u,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb);const[n,r,o]=this._components;return t[0]=n,t[1]=r,t[2]=o,t}toNumber(){return this._int}toBgrNumber(){const[t,n,r]=this.toUint8RgbArray();return(r<<16)+(n<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[n,r,o,u]=Ha._temp.setValue(t)._components;return this._components[0]*=n,this._components[1]*=r,this._components[2]*=o,this._components[3]*=u,this._refreshInt(),this._value=null,this}premultiply(t,n=!0){return n&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,n=!0){if(t===1)return(255<<24)+this._int;if(t===0)return n?0:this._int;let r=this._int>>16&255,o=this._int>>8&255,u=this._int&255;return n&&(r=r*t+.5|0,o=o*t+.5|0,u=u*t+.5|0),(t*255<<24)+(r<<16)+(o<<8)+u}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const n=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-n.length)+n}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let n,r,o,u;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const h=t;n=(h>>16&255)/255,r=(h>>8&255)/255,o=(h&255)/255,u=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[n,r,o,u=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[n,r,o,u=255]=t,n/=255,r/=255,o/=255,u/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const f=Ha.HEX_PATTERN.exec(t);f&&(t=`#${f[2]}`)}const h=oi(t);h.isValid()&&({r:n,g:r,b:o,a:u}=h.rgba,n/=255,r/=255,o/=255)}if(n!==void 0)this._components[0]=n,this._components[1]=r,this._components[2]=o,this._components[3]=u,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,n,r]=this._components;this._int=(t*255<<16)+(n*255<<8)+(r*255|0)}_clamp(t,n=0,r=1){return typeof t=="number"?Math.min(Math.max(t,n),r):(t.forEach((o,u)=>{t[u]=Math.min(Math.max(o,n),r)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof Ha||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};Es.shared=new Es;Es._temp=new Es;Es.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let It=Es;const ub={cullArea:null,cullable:!1,cullableChildren:!0};class nh{constructor(t,n){this._pool=[],this._count=0,this._index=0,this._classType=t,n&&this.prepopulate(n)}prepopulate(t){for(let n=0;n<t;n++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){let n;return this._index>0?n=this._pool[--this._index]:n=new this._classType,n.init?.(t),n}return(t){t.reset?.(),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class cb{constructor(){this._poolsByClass=new Map}prepopulate(t,n){this.getPool(t).prepopulate(n)}get(t,n){return this.getPool(t).get(n)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new nh(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(n=>{const r=t[n._classType.name]?n._classType.name+n._classType.ID:n._classType.name;t[r]={free:n.totalFree,used:n.totalUsed,size:n.totalSize}}),t}}const Bi=new cb,hb={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(a){typeof a=="boolean"&&a===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(a===!0?{}:a))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(a){_t("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(a)}};function fb(a,t,n){const r=a.length;let o;if(t>=r||n===0)return;n=t+n>r?r-t:n;const u=r-n;for(o=t;o<u;++o)a[o]=a[o+n];a.length=u}const db={allowChildren:!0,removeChildren(a=0,t){const n=t??this.children.length,r=n-a,o=[];if(r>0&&r<=n){for(let h=n-1;h>=a;h--){const f=this.children[h];f&&(o.push(f),f.parent=null)}fb(this.children,a,n);const u=this.renderGroup||this.parentRenderGroup;u&&u.removeChildren(o);for(let h=0;h<o.length;++h){const f=o[h];f.parentRenderLayer?.detach(f),this.emit("childRemoved",f,this,h),o[h].emit("removed",this)}return o.length>0&&this._didViewChangeTick++,o}else if(r===0&&this.children.length===0)return o;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(a){const t=this.getChildAt(a);return this.removeChild(t)},getChildAt(a){if(a<0||a>=this.children.length)throw new Error(`getChildAt: Index (${a}) does not exist.`);return this.children[a]},setChildIndex(a,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(a),this.addChildAt(a,t)},getChildIndex(a){const t=this.children.indexOf(a);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(a,t){this.allowChildren||_t(Tt,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:n}=this;if(t<0||t>n.length)throw new Error(`${a}addChildAt: The index ${t} supplied is out of bounds ${n.length}`);if(a.parent){const o=a.parent.children.indexOf(a);if(a.parent===this&&o===t)return a;o!==-1&&a.parent.children.splice(o,1)}t===n.length?n.push(a):n.splice(t,0,a),a.parent=this,a.didChange=!0,a._updateFlags=15;const r=this.renderGroup||this.parentRenderGroup;return r&&r.addChild(a),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",a,this,t),a.emit("added",this),a},swapChildren(a,t){if(a===t)return;const n=this.getChildIndex(a),r=this.getChildIndex(t);this.children[n]=t,this.children[r]=a;const o=this.renderGroup||this.parentRenderGroup;o&&(o.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...a){return a.length===1?this.reparentChildAt(a[0],this.children.length):(a.forEach(t=>this.reparentChildAt(t,this.children.length)),a[0])},reparentChildAt(a,t){if(a.parent===this)return this.setChildIndex(a,t),a;const n=a.worldTransform.clone();a.removeFromParent(),this.addChildAt(a,t);const r=this.worldTransform.clone();return r.invert(),n.prepend(r),a.setFromMatrix(n),a}},pb={collectRenderables(a,t,n){this.parentRenderLayer&&this.parentRenderLayer!==n||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(a,t,n):this.renderGroup?t.renderPipes.renderGroup.addRenderGroup(this.renderGroup,a):this.collectRenderablesWithEffects(a,t,n))},collectRenderablesSimple(a,t,n){const r=this.children,o=r.length;for(let u=0;u<o;u++)r[u].collectRenderables(a,t,n)},collectRenderablesWithEffects(a,t,n){const{renderPipes:r}=t;for(let o=0;o<this.effects.length;o++){const u=this.effects[o];r[u.pipe].push(u,this,a)}this.collectRenderablesSimple(a,t,n);for(let o=this.effects.length-1;o>=0;o--){const u=this.effects[o];r[u.pipe].pop(u,this,a)}}};class Gm{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}class mb{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let n=0;n<this._tests.length;n++){const r=this._tests[n];if(r.test(t))return Bi.get(r.maskClass,t)}return t}returnMaskEffect(t){Bi.return(t)}}const Lc=new mb;ue.handleByList(tt.MaskEffect,Lc._effectClasses);const gb={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const a=this.renderGroup||this.parentRenderGroup;a&&(a.structureDidChange=!0)},addEffect(a){this.effects.indexOf(a)===-1&&(this.effects.push(a),this.effects.sort((n,r)=>n.priority-r.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(a){const t=this.effects.indexOf(a);t!==-1&&(this.effects.splice(t,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(a){const t=this._maskEffect;t?.mask!==a&&(t&&(this.removeEffect(t),Lc.returnMaskEffect(t),this._maskEffect=null),a!=null&&(this._maskEffect=Lc.getMaskEffect(a),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},setMask(a){this._maskOptions={...this._maskOptions,...a},a.mask&&(this.mask=a.mask),this._markStructureAsChanged()},set filters(a){!Array.isArray(a)&&a&&(a=[a]);const t=this._filterEffect||(this._filterEffect=new Gm);a=a;const n=a?.length>0,r=t.filters?.length>0,o=n!==r;a=Array.isArray(a)?a.slice(0):a,t.filters=Object.freeze(a),o&&(n?this.addEffect(t):(this.removeEffect(t),t.filters=a??null))},get filters(){return this._filterEffect?.filters},set filterArea(a){this._filterEffect||(this._filterEffect=new Gm),this._filterEffect.filterArea=a},get filterArea(){return this._filterEffect?.filterArea}},yb={label:null,get name(){return _t(Tt,"Container.name property has been removed, use Container.label instead"),this.label},set name(a){_t(Tt,"Container.name property has been removed, use Container.label instead"),this.label=a},getChildByName(a,t=!1){return this.getChildByLabel(a,t)},getChildByLabel(a,t=!1){const n=this.children;for(let r=0;r<n.length;r++){const o=n[r];if(o.label===a||a instanceof RegExp&&a.test(o.label))return o}if(t)for(let r=0;r<n.length;r++){const u=n[r].getChildByLabel(a,!0);if(u)return u}return null},getChildrenByLabel(a,t=!1,n=[]){const r=this.children;for(let o=0;o<r.length;o++){const u=r[o];(u.label===a||a instanceof RegExp&&a.test(u.label))&&n.push(u)}if(t)for(let o=0;o<r.length;o++)r[o].getChildrenByLabel(a,!0,n);return n}},me=new nh(yt),zi=new nh(ti),_b=new yt,xb={getFastGlobalBounds(a,t){t||(t=new ti),t.clear(),this._getGlobalBoundsRecursive(!!a,t,this.parentRenderLayer),t.isValid||t.set(0,0,0,0);const n=this.renderGroup||this.parentRenderGroup;return t.applyMatrix(n.worldTransform),t},_getGlobalBoundsRecursive(a,t,n){let r=t;if(a&&this.parentRenderLayer&&this.parentRenderLayer!==n||this.localDisplayStatus!==7||!this.measurable)return;const o=!!this.effects.length;if((this.renderGroup||o)&&(r=zi.get().clear()),this.boundsArea)t.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const h=this.bounds;r.addFrame(h.minX,h.minY,h.maxX,h.maxY,this.groupTransform)}const u=this.children;for(let h=0;h<u.length;h++)u[h]._getGlobalBoundsRecursive(a,r,n)}if(o){let u=!1;const h=this.renderGroup||this.parentRenderGroup;for(let f=0;f<this.effects.length;f++)this.effects[f].addBounds&&(u||(u=!0,r.applyMatrix(h.worldTransform)),this.effects[f].addBounds(r,!0));u&&(r.applyMatrix(h.worldTransform.copyTo(_b).invert()),t.addBounds(r,this.relativeGroupTransform)),t.addBounds(r),zi.return(r)}else this.renderGroup&&(t.addBounds(r,this.relativeGroupTransform),zi.return(r))}};function Zg(a,t,n){n.clear();let r,o;return a.parent?t?r=a.parent.worldTransform:(o=me.get().identity(),r=sh(a,o)):r=yt.IDENTITY,Qg(a,n,r,t),o&&me.return(o),n.isValid||n.set(0,0,0,0),n}function Qg(a,t,n,r){if(!a.visible||!a.measurable)return;let o;r?o=a.worldTransform:(a.updateLocalTransform(),o=me.get(),o.appendFrom(a.localTransform,n));const u=t,h=!!a.effects.length;if(h&&(t=zi.get().clear()),a.boundsArea)t.addRect(a.boundsArea,o);else{a.bounds&&(t.matrix=o,t.addBounds(a.bounds));for(let f=0;f<a.children.length;f++)Qg(a.children[f],t,o,r)}if(h){for(let f=0;f<a.effects.length;f++)a.effects[f].addBounds?.(t);u.addBounds(t,yt.IDENTITY),zi.return(t)}r||me.return(o)}function sh(a,t){const n=a.parent;return n&&(sh(n,t),n.updateLocalTransform(),t.append(n.localTransform)),t}function Wg(a,t){if(a===16777215||!t)return t;if(t===16777215||!a)return a;const n=a>>16&255,r=a>>8&255,o=a&255,u=t>>16&255,h=t>>8&255,f=t&255,p=n*u/255|0,m=r*h/255|0,g=o*f/255|0;return(p<<16)+(m<<8)+g}const km=16777215;function Hm(a,t){return a===km?t:t===km?a:Wg(a,t)}function Tl(a){return((a&255)<<16)+(a&65280)+(a>>16&255)}const bb={getGlobalAlpha(a){if(a)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let t=this.alpha,n=this.parent;for(;n;)t*=n.alpha,n=n.parent;return t},getGlobalTransform(a,t){if(t)return a.copyFrom(this.worldTransform);this.updateLocalTransform();const n=sh(this,me.get().identity());return a.appendFrom(this.localTransform,n),me.return(n),a},getGlobalTint(a){if(a)return this.renderGroup?Tl(this.renderGroup.worldColor):this.parentRenderGroup?Tl(Hm(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let t=this.localColor,n=this.parent;for(;n;)t=Hm(t,n.localColor),n=n.parent;return Tl(t)}};function Ig(a,t,n){return t.clear(),n||(n=yt.IDENTITY),Kg(a,t,n,a,!0),t.isValid||t.set(0,0,0,0),t}function Kg(a,t,n,r,o){let u;if(o)u=me.get(),u=n.copyTo(u);else{if(!a.visible||!a.measurable)return;a.updateLocalTransform();const p=a.localTransform;u=me.get(),u.appendFrom(p,n)}const h=t,f=!!a.effects.length;if(f&&(t=zi.get().clear()),a.boundsArea)t.addRect(a.boundsArea,u);else{a.renderPipeId&&(t.matrix=u,t.addBounds(a.bounds));const p=a.children;for(let m=0;m<p.length;m++)Kg(p[m],t,u,r,!1)}if(f){for(let p=0;p<a.effects.length;p++)a.effects[p].addLocalBounds?.(t,r);h.addBounds(t,yt.IDENTITY),zi.return(t)}me.return(u)}function $g(a,t){const n=a.children;for(let r=0;r<n.length;r++){const o=n[r],u=o.uid,h=(o._didViewChangeTick&65535)<<16|o._didContainerChangeTick&65535,f=t.index;(t.data[f]!==u||t.data[f+1]!==h)&&(t.data[t.index]=u,t.data[t.index+1]=h,t.didChange=!0),t.index=f+2,o.children.length&&$g(o,t)}return t.didChange}const vb=new yt,Sb={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(a,t){const n=Math.sign(this.scale.x)||1;t!==0?this.scale.x=a/t*n:this.scale.x=n},_setHeight(a,t){const n=Math.sign(this.scale.y)||1;t!==0?this.scale.y=a/t*n:this.scale.y=n},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new ti});const a=this._localBoundsCacheData;return a.index=1,a.didChange=!1,a.data[0]!==this._didViewChangeTick&&(a.didChange=!0,a.data[0]=this._didViewChangeTick),$g(this,a),a.didChange&&Ig(this,a.localBounds,vb),a.localBounds},getBounds(a,t){return Zg(this,a,t||new ti)}},Ab={_onRender:null,set onRender(a){const t=this.renderGroup||this.parentRenderGroup;if(!a){this._onRender&&t?.removeOnRender(this),this._onRender=null;return}this._onRender||t?.addOnRender(this),this._onRender=a},get onRender(){return this._onRender}},wb={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(a){this._zIndex!==a&&(this._zIndex=a,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(Tb))}};function Tb(a,t){return a._zIndex-t._zIndex}const Mb={getGlobalPosition(a=new ae,t=!1){return this.parent?this.parent.toGlobal(this._position,a,t):(a.x=this._position.x,a.y=this._position.y),a},toGlobal(a,t,n=!1){const r=this.getGlobalTransform(me.get(),n);return t=r.apply(a,t),me.return(r),t},toLocal(a,t,n,r){t&&(a=t.toGlobal(a,n,r));const o=this.getGlobalTransform(me.get(),r);return n=o.applyInverse(a,n),me.return(o),n}};class Jg{constructor(){this.uid=Ft("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let Cb=0;class Eb{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this.textureStyle=new Ol(this.textureOptions)}createTexture(t,n,r){const o=new ii({...this.textureOptions,width:t,height:n,resolution:1,antialias:r,autoGarbageCollect:!1});return new ct({source:o,label:`texturePool_${Cb++}`})}getOptimalTexture(t,n,r=1,o){let u=Math.ceil(t*r-1e-6),h=Math.ceil(n*r-1e-6);u=zl(u),h=zl(h);const f=(u<<17)+(h<<1)+(o?1:0);this._texturePool[f]||(this._texturePool[f]=[]);let p=this._texturePool[f].pop();return p||(p=this.createTexture(u,h,o)),p.source._resolution=r,p.source.width=u/r,p.source.height=h/r,p.source.pixelWidth=u,p.source.pixelHeight=h,p.frame.x=0,p.frame.y=0,p.frame.width=t,p.frame.height=n,p.updateUvs(),this._poolKeyHash[p.uid]=f,p}getSameSizeTexture(t,n=!1){const r=t.source;return this.getOptimalTexture(t.width,t.height,r._resolution,n)}returnTexture(t,n=!1){const r=this._poolKeyHash[t.uid];n&&(t.source.style=this.textureStyle),this._texturePool[r].push(t)}clear(t){if(t=t!==!1,t)for(const n in this._texturePool){const r=this._texturePool[n];if(r)for(let o=0;o<r.length;o++)r[o].destroy(!0)}this._texturePool={}}}const Rb=new Eb;class Bb{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new yt,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new Jg,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(t){this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const n=t.children;for(let r=0;r<n.length;r++){const o=n[r];o._updateFlags=15,this.addChild(o)}}enableCacheAsTexture(t={}){this.textureOptions=t,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(Rb.returnTexture(this.texture),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const t in this.childrenToUpdate){const n=this.childrenToUpdate[t];n.list.fill(null),n.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const n=this.renderGroupChildren.indexOf(t);n>-1&&this.renderGroupChildren.splice(n,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup){this.addRenderGroupChild(t.renderGroup);return}t._onRender&&this.addOnRender(t);const n=t.children;for(let r=0;r<n.length;r++)this.addChild(n[r])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup){this._removeRenderGroupChild(t.renderGroup);return}const n=t.children;for(let r=0;r<n.length;r++)this.removeChild(n[r])}removeChildren(t){for(let n=0;n<t.length;n++)this.removeChild(t[n])}onChildUpdate(t){let n=this.childrenToUpdate[t.relativeRenderGroupDepth];n||(n=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),n.list[n.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t),t.didViewUpdate=!1)}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(t){for(let n=0;n<this._onRenderContainers.length;n++)this._onRenderContainers[n]._onRender(t)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(t=[]){const n=this.root.children;for(let r=0;r<n.length;r++)this._getChildren(n[r],t);return t}_getChildren(t,n=[]){if(n.push(t),t.renderGroup)return n;const r=t.children;for(let o=0;o<r.length;o++)this._getChildren(r[o],n);return n}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new yt),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new yt),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const t=this._parentCacheAsTextureRenderGroup;return t?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new yt),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(t.inverseWorldTransform).translate(-t._textureBounds.x,-t._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function zb(a,t,n={}){for(const r in t)!n[r]&&t[r]!==void 0&&(a[r]=t[r])}const dc=new se(null),pc=new se(null),mc=new se(null,1,1),Nm=1,Ob=2,gc=4;class Di extends ei{constructor(t={}){super(),this.uid=Ft("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new yt,this.relativeGroupTransform=new yt,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new se(this,0,0),this._scale=mc,this._pivot=pc,this._skew=dc,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],zb(this,t,{children:!0,parent:!0,effects:!0}),t.children?.forEach(n=>this.addChild(n)),t.parent?.addChild(this)}static mixin(t){_t("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),ue.mixin(Di,t)}set _didChangeId(t){this._didViewChangeTick=t>>12&4095,this._didContainerChangeTick=t&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...t){if(this.allowChildren||_t(Tt,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let o=0;o<t.length;o++)this.addChild(t[o]);return t[0]}const n=t[0],r=this.renderGroup||this.parentRenderGroup;return n.parent===this?(this.children.splice(this.children.indexOf(n),1),this.children.push(n),r&&(r.structureDidChange=!0),n):(n.parent&&n.parent.removeChild(n),this.children.push(n),this.sortableChildren&&(this.sortDirty=!0),n.parent=this,n.didChange=!0,n._updateFlags=15,r&&r.addChild(n),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this),this._didViewChangeTick++,n._zIndex!==0&&n.depthOfChildModified(),n)}removeChild(...t){if(t.length>1){for(let o=0;o<t.length;o++)this.removeChild(t[o]);return t[0]}const n=t[0],r=this.children.indexOf(n);return r>-1&&(this._didViewChangeTick++,this.children.splice(r,1),this.renderGroup?this.renderGroup.removeChild(n):this.parentRenderGroup&&this.parentRenderGroup.removeChild(n),n.parentRenderLayer&&n.parentRenderLayer.detach(n),n.parent=null,this.emit("childRemoved",n,this,r),n.emit("removed",this)),n}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){!!this.renderGroup!==t&&(t?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),this.renderGroup=Bi.get(Bb,this),this.groupTransform=yt.IDENTITY,t?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const t=this.parentRenderGroup;t?.removeChild(this),Bi.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,t?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new yt),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*qx}set angle(t){this.rotation=t*Fx}get pivot(){return this._pivot===pc&&(this._pivot=new se(this,0,0)),this._pivot}set pivot(t){this._pivot===pc&&(this._pivot=new se(this,0,0)),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===dc&&(this._skew=new se(this,0,0)),this._skew}set skew(t){this._skew===dc&&(this._skew=new se(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===mc&&(this._scale=new se(this,1,1)),this._scale}set scale(t){this._scale===mc&&(this._scale=new se(this,0,0)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const n=this.getLocalBounds().width;this._setWidth(t,n)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const n=this.getLocalBounds().height;this._setHeight(t,n)}getSize(t){t||(t={});const n=this.getLocalBounds();return t.width=Math.abs(this.scale.x*n.width),t.height=Math.abs(this.scale.y*n.height),t}setSize(t,n){const r=this.getLocalBounds();typeof t=="object"?(n=t.height??t.width,t=t.width):n??(n=t),t!==void 0&&this._setWidth(t,r.width),n!==void 0&&this._setHeight(n,r.height)}_updateSkew(){const t=this._rotation,n=this._skew;this._cx=Math.cos(t+n._y),this._sx=Math.sin(t+n._y),this._cy=-Math.sin(t-n._x),this._sy=Math.cos(t-n._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const n=this.localTransform,r=this._scale,o=this._pivot,u=this._position,h=r._x,f=r._y,p=o._x,m=o._y;n.a=this._cx*h,n.b=this._sx*h,n.c=this._cy*f,n.d=this._sy*f,n.tx=u._x-(p*n.a+m*n.c),n.ty=u._y-(p*n.b+m*n.d)}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=Nm,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const r=It.shared.setValue(t??16777215).toBgrNumber();r!==this.localColor&&(this.localColor=r,this._updateFlags|=Nm,this._onUpdate())}get tint(){return Tl(this.localColor)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Ob,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const n=t?2:0;(this.localDisplayStatus&2)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=gc,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const n=t?0:4;(this.localDisplayStatus&4)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=gc,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const n=t?1:0;(this.localDisplayStatus&1)!==n&&(this._updateFlags|=gc,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){if(this.destroyed)return;this.destroyed=!0;let n;if(this.children.length&&(n=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof t=="boolean"?t:t?.children)&&n)for(let o=0;o<n.length;++o)n[o].destroy(t);this.renderGroup?.destroy(),this.renderGroup=null}}ue.mixin(Di,db,xb,Mb,Ab,Sb,gb,yb,wb,ub,hb,bb,pb);class ah extends Di{constructor(t){super(t),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new ti(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const n=this.bounds,{x:r,y:o}=t;return r>=n.minX&&r<=n.maxX&&o>=n.minY&&o<=n.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}destroy(t){super.destroy(t),this._bounds=null;for(const n in this._gpuData)this._gpuData[n].destroy?.();this._gpuData=null}collectRenderablesSimple(t,n,r){const{renderPipes:o}=n;o.blendMode.setBlendMode(this,this.groupBlendMode,t),o[this.renderPipeId].addRenderable(this,t),this.didViewUpdate=!1;const h=this.children,f=h.length;for(let p=0;p<f;p++)h[p].collectRenderables(t,n,r)}}class un extends ah{constructor(t=ct.EMPTY){t instanceof ct&&(t={texture:t});const{texture:n=ct.EMPTY,anchor:r,roundPixels:o,width:u,height:h,...f}=t;super({label:"Sprite",...f}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new se({_onUpdate:()=>{this.onViewUpdate()}}),r?this.anchor=r:n.defaultAnchor&&(this.anchor=n.defaultAnchor),this.texture=n,this.allowChildren=!1,this.roundPixels=o??!1,u!==void 0&&(this.width=u),h!==void 0&&(this.height=h)}static from(t,n=!1){return t instanceof ct?new un(t):new un(ct.from(t,n))}set texture(t){t||(t=ct.EMPTY);const n=this._texture;n!==t&&(n&&n.dynamic&&n.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return Jx(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return _t("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const t=this._anchor,n=this._texture,r=this._bounds,{width:o,height:u}=n.orig;r.minX=-t._x*o,r.maxX=r.minX+o,r.minY=-t._y*u,r.maxY=r.minY+u}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t?.texture){const r=typeof t=="boolean"?t:t?.textureSource;this._texture.destroy(r)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,n){typeof t=="object"?(n=t.height??t.width,t=t.width):n??(n=t),t!==void 0&&this._setWidth(t,this._texture.orig.width),n!==void 0&&this._setHeight(n,this._texture.orig.height)}}const Db=new ti;function ty(a,t,n){const r=Db;a.measurable=!0,Zg(a,n,r),t.addBoundsMask(r),a.measurable=!1}let yc=0;const Lm=500;function Dt(...a){yc!==Lm&&(yc++,yc===Lm?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...a))}function ey(a,t,n){const r=zi.get();a.measurable=!0;const o=me.get().identity(),u=iy(a,n,o);Ig(a,r,u),a.measurable=!1,t.addBoundsMask(r),me.return(o),zi.return(r)}function iy(a,t,n){return a?(a!==t&&(iy(a.parent,t,n),a.updateLocalTransform(),n.append(a.localTransform)),n):(Dt("Mask bounds, renderable is not inside the root container"),n)}class ny{constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof un),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(t,n){this.inverse||ty(this.mask,t,n)}addLocalBounds(t,n){ey(this.mask,t,n)}containsPoint(t,n){const r=this.mask;return n(r,t)}destroy(){this.reset()}static test(t){return t instanceof un}}ny.extension=tt.MaskEffect;class sy{constructor(t){this.priority=0,this.pipe="colorMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}sy.extension=tt.MaskEffect;class ay{constructor(t){this.priority=0,this.pipe="stencilMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(t,n){ty(this.mask,t,n)}addLocalBounds(t,n){ey(this.mask,t,n)}containsPoint(t,n){const r=this.mask;return n(r,t)}destroy(){this.reset()}static test(t){return t instanceof Di}}ay.extension=tt.MaskEffect;const Ub={createCanvas:(a,t)=>{const n=document.createElement("canvas");return n.width=a,n.height=t,n},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(a,t)=>fetch(a,t),parseXML:a=>new DOMParser().parseFromString(a,"text/xml")};let Pm=Ub;const Zt={get(){return Pm},set(a){Pm=a}};class ry extends ii{constructor(t){t.resource||(t.resource=Zt.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity,this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,n=this.height,r=this._resolution){const o=super.resize(t,n,r);return o&&this.resizeCanvas(),o}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}ry.extension=tt.TextureSource;class Gn extends ii{constructor(t){super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}}Gn.extension=tt.TextureSource;var Dl=(a=>(a[a.INTERACTION=50]="INTERACTION",a[a.HIGH=25]="HIGH",a[a.NORMAL=0]="NORMAL",a[a.LOW=-25]="LOW",a[a.UTILITY=-50]="UTILITY",a))(Dl||{});class _c{constructor(t,n=null,r=0,o=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=n,this.priority=r,this._once=o}match(t,n=null){return this._fn===t&&this._context===n}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const n=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=t?null:n,this.previous=null,n}}const ly=class De{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new _c(null,null,1/0),this.deltaMS=1/De.targetFPMS,this.elapsedMS=1/De.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,n,r=Dl.NORMAL){return this._addListener(new _c(t,n,r))}addOnce(t,n,r=Dl.NORMAL){return this._addListener(new _c(t,n,r,!0))}_addListener(t){let n=this._head.next,r=this._head;if(!n)t.connect(r);else{for(;n;){if(t.priority>n.priority){t.connect(r);break}r=n,n=n.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,n){let r=this._head.next;for(;r;)r.match(t,n)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,n=this._head;for(;n=n.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let n;if(t>this.lastTime){if(n=this.elapsedMS=t-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){const u=t-this._lastFrame|0;if(u<this._minElapsedMS)return;this._lastFrame=t-u%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*De.targetFPMS;const r=this._head;let o=r.next;for(;o;)o=o.emit(this);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const n=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,n)/1e3,De.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const n=Math.max(this.minFPS,t);this._minElapsedMS=1/(n/1e3)}}static get shared(){if(!De._shared){const t=De._shared=new De;t.autoStart=!0,t._protected=!0}return De._shared}static get system(){if(!De._system){const t=De._system=new De;t.autoStart=!0,t._protected=!0}return De._system}};ly.targetFPMS=.06;let ln=ly,xc;async function oy(){return xc??(xc=(async()=>{const t=document.createElement("canvas").getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const n=await new Promise(h=>{const f=document.createElement("video");f.onloadeddata=()=>h(f),f.onerror=()=>h(null),f.autoplay=!1,f.crossOrigin="anonymous",f.preload="auto",f.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",f.load()});if(!n)return"premultiply-alpha-on-upload";const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const o=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,o),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n);const u=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,u),t.deleteFramebuffer(o),t.deleteTexture(r),t.getExtension("WEBGL_lose_context")?.loseContext(),u[0]<=u[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),xc}const kl=class uy extends ii{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...uy.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=ln.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,n=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(n.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await oy(),this._load=new Promise((r,o)=>{this.isValid?r(this):(this._resolve=r,this._reject=o,n.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${n.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(ln.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(ln.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(ln.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}};kl.extension=tt.TextureSource;kl.defaultOptions={...ii.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};kl.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let Ml=kl;const Je=(a,t,n=!1)=>(Array.isArray(a)||(a=[a]),t?a.map(r=>typeof r=="string"||n?t(r):r):a);class Gb{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const n=this._cache.get(t);return n||Dt(`[Assets] Asset id ${t} was not found in the Cache`),n}set(t,n){const r=Je(t);let o;for(let p=0;p<this.parsers.length;p++){const m=this.parsers[p];if(m.test(n)){o=m.getCacheableAssets(r,n);break}}const u=new Map(Object.entries(o||{}));o||r.forEach(p=>{u.set(p,n)});const h=[...u.keys()],f={cacheKeys:h,keys:r};r.forEach(p=>{this._cacheMap.set(p,f)}),h.forEach(p=>{const m=o?o[p]:n;this._cache.has(p)&&this._cache.get(p)!==m&&Dt("[Cache] already has key:",p),this._cache.set(p,u.get(p))})}remove(t){if(!this._cacheMap.has(t)){Dt(`[Assets] Asset id ${t} was not found in the Cache`);return}const n=this._cacheMap.get(t);n.cacheKeys.forEach(o=>{this._cache.delete(o)}),n.keys.forEach(o=>{this._cacheMap.delete(o)})}get parsers(){return this._parsers}}const kt=new Gb,Pc=[];ue.handleByList(tt.TextureSource,Pc);function cy(a={}){const t=a&&a.resource,n=t?a.resource:a,r=t?a:{resource:a};for(let o=0;o<Pc.length;o++){const u=Pc[o];if(u.test(n))return new u(r)}throw new Error(`Could not find a source type for resource: ${r.resource}`)}function kb(a={},t=!1){const n=a&&a.resource,r=n?a.resource:a,o=n?a:{resource:a};if(!t&&kt.has(r))return kt.get(r);const u=new ct({source:cy(o)});return u.on("destroy",()=>{kt.has(r)&&kt.remove(r)}),t||kt.set(r,u),u}function Hb(a,t=!1){return typeof a=="string"?kt.get(a):a instanceof ii?new ct({source:a}):kb(a,t)}ct.from=Hb;ii.from=cy;ue.add(ny,sy,ay,Ml,Gn,ry,ih);var cn=(a=>(a[a.Low=0]="Low",a[a.Normal=1]="Normal",a[a.High=2]="High",a))(cn||{});function $e(a){if(typeof a!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(a)}`)}function Da(a){return a.split("?")[0].split("#")[0]}function Nb(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Lb(a,t,n){return a.replace(new RegExp(Nb(t),"g"),n)}function Pb(a,t){let n="",r=0,o=-1,u=0,h=-1;for(let f=0;f<=a.length;++f){if(f<a.length)h=a.charCodeAt(f);else{if(h===47)break;h=47}if(h===47){if(!(o===f-1||u===1))if(o!==f-1&&u===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const p=n.lastIndexOf("/");if(p!==n.length-1){p===-1?(n="",r=0):(n=n.slice(0,p),r=n.length-1-n.lastIndexOf("/")),o=f,u=0;continue}}else if(n.length===2||n.length===1){n="",r=0,o=f,u=0;continue}}}else n.length>0?n+=`/${a.slice(o+1,f)}`:n=a.slice(o+1,f),r=f-o-1;o=f,u=0}else h===46&&u!==-1?++u:u=-1}return n}const Ue={toPosix(a){return Lb(a,"\\","/")},isUrl(a){return/^https?:/.test(this.toPosix(a))},isDataUrl(a){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(a)},isBlobUrl(a){return a.startsWith("blob:")},hasProtocol(a){return/^[^/:]+:/.test(this.toPosix(a))},getProtocol(a){$e(a),a=this.toPosix(a);const t=/^file:\/\/\//.exec(a);if(t)return t[0];const n=/^[^/:]+:\/{0,2}/.exec(a);return n?n[0]:""},toAbsolute(a,t,n){if($e(a),this.isDataUrl(a)||this.isBlobUrl(a))return a;const r=Da(this.toPosix(t??Zt.get().getBaseUrl())),o=Da(this.toPosix(n??this.rootname(r)));return a=this.toPosix(a),a.startsWith("/")?Ue.join(o,a.slice(1)):this.isAbsolute(a)?a:this.join(r,a)},normalize(a){if($e(a),a.length===0)return".";if(this.isDataUrl(a)||this.isBlobUrl(a))return a;a=this.toPosix(a);let t="";const n=a.startsWith("/");this.hasProtocol(a)&&(t=this.rootname(a),a=a.slice(t.length));const r=a.endsWith("/");return a=Pb(a),a.length>0&&r&&(a+="/"),n?`/${a}`:t+a},isAbsolute(a){return $e(a),a=this.toPosix(a),this.hasProtocol(a)?!0:a.startsWith("/")},join(...a){if(a.length===0)return".";let t;for(let n=0;n<a.length;++n){const r=a[n];if($e(r),r.length>0)if(t===void 0)t=r;else{const o=a[n-1]??"";this.joinExtensions.includes(this.extname(o).toLowerCase())?t+=`/../${r}`:t+=`/${r}`}}return t===void 0?".":this.normalize(t)},dirname(a){if($e(a),a.length===0)return".";a=this.toPosix(a);let t=a.charCodeAt(0);const n=t===47;let r=-1,o=!0;const u=this.getProtocol(a),h=a;a=a.slice(u.length);for(let f=a.length-1;f>=1;--f)if(t=a.charCodeAt(f),t===47){if(!o){r=f;break}}else o=!1;return r===-1?n?"/":this.isUrl(h)?u+a:u:n&&r===1?"//":u+a.slice(0,r)},rootname(a){$e(a),a=this.toPosix(a);let t="";if(a.startsWith("/")?t="/":t=this.getProtocol(a),this.isUrl(a)){const n=a.indexOf("/",t.length);n!==-1?t=a.slice(0,n):t=a,t.endsWith("/")||(t+="/")}return t},basename(a,t){$e(a),t&&$e(t),a=Da(this.toPosix(a));let n=0,r=-1,o=!0,u;if(t!==void 0&&t.length>0&&t.length<=a.length){if(t.length===a.length&&t===a)return"";let h=t.length-1,f=-1;for(u=a.length-1;u>=0;--u){const p=a.charCodeAt(u);if(p===47){if(!o){n=u+1;break}}else f===-1&&(o=!1,f=u+1),h>=0&&(p===t.charCodeAt(h)?--h===-1&&(r=u):(h=-1,r=f))}return n===r?r=f:r===-1&&(r=a.length),a.slice(n,r)}for(u=a.length-1;u>=0;--u)if(a.charCodeAt(u)===47){if(!o){n=u+1;break}}else r===-1&&(o=!1,r=u+1);return r===-1?"":a.slice(n,r)},extname(a){$e(a),a=Da(this.toPosix(a));let t=-1,n=0,r=-1,o=!0,u=0;for(let h=a.length-1;h>=0;--h){const f=a.charCodeAt(h);if(f===47){if(!o){n=h+1;break}continue}r===-1&&(o=!1,r=h+1),f===46?t===-1?t=h:u!==1&&(u=1):t!==-1&&(u=-1)}return t===-1||r===-1||u===0||u===1&&t===r-1&&t===n+1?"":a.slice(t,r)},parse(a){$e(a);const t={root:"",dir:"",base:"",ext:"",name:""};if(a.length===0)return t;a=Da(this.toPosix(a));let n=a.charCodeAt(0);const r=this.isAbsolute(a);let o;t.root=this.rootname(a),r||this.hasProtocol(a)?o=1:o=0;let u=-1,h=0,f=-1,p=!0,m=a.length-1,g=0;for(;m>=o;--m){if(n=a.charCodeAt(m),n===47){if(!p){h=m+1;break}continue}f===-1&&(p=!1,f=m+1),n===46?u===-1?u=m:g!==1&&(g=1):u!==-1&&(g=-1)}return u===-1||f===-1||g===0||g===1&&u===f-1&&u===h+1?f!==-1&&(h===0&&r?t.base=t.name=a.slice(1,f):t.base=t.name=a.slice(h,f)):(h===0&&r?(t.name=a.slice(1,u),t.base=a.slice(1,f)):(t.name=a.slice(h,u),t.base=a.slice(h,f)),t.ext=a.slice(u,f)),t.dir=this.dirname(a),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function hy(a,t,n,r,o){const u=t[n];for(let h=0;h<u.length;h++){const f=u[h];n<t.length-1?hy(a.replace(r[n],f),t,n+1,r,o):o.push(a.replace(r[n],f))}}function Yb(a){const t=/\{(.*?)\}/g,n=a.match(t),r=[];if(n){const o=[];n.forEach(u=>{const h=u.substring(1,u.length-1).split(",");o.push(h)}),hy(a,o,0,n,r)}else r.push(a);return r}const Ul=a=>!Array.isArray(a);class zs{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,n)=>`${t}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(t,n)=>n.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const n=t;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}getAlias(t){const{alias:n,src:r}=t;return Je(n||r,u=>typeof u=="string"?u:Array.isArray(u)?u.map(h=>h?.src??h):u?.src?u.src:u,!0)}addManifest(t){this._manifest&&Dt("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(t,n){const r=[];let o=n;Array.isArray(n)||(o=Object.entries(n).map(([u,h])=>typeof h=="string"||Array.isArray(h)?{alias:u,src:h}:{alias:u,...h})),o.forEach(u=>{const h=u.src,f=u.alias;let p;if(typeof f=="string"){const m=this._createBundleAssetId(t,f);r.push(m),p=[f,m]}else{const m=f.map(g=>this._createBundleAssetId(t,g));r.push(...m),p=[...f,...m]}this.add({...u,alias:p,src:h})}),this._bundles[t]=r}add(t){const n=[];Array.isArray(t)?n.push(...t):n.push(t);let r;r=u=>{this.hasKey(u)&&Dt(`[Resolver] already has key: ${u} overwriting`)},Je(n).forEach(u=>{const{src:h}=u;let{data:f,format:p,loadParser:m}=u;const g=Je(h).map(x=>typeof x=="string"?Yb(x):Array.isArray(x)?x:[x]),_=this.getAlias(u);Array.isArray(_)?_.forEach(r):r(_);const v=[];g.forEach(x=>{x.forEach(S=>{let T={};if(typeof S!="object"){T.src=S;for(let A=0;A<this._parsers.length;A++){const E=this._parsers[A];if(E.test(S)){T=E.parse(S);break}}}else f=S.data??f,p=S.format??p,m=S.loadParser??m,T={...T,...S};if(!_)throw new Error(`[Resolver] alias is undefined for this asset: ${T.src}`);T=this._buildResolvedAsset(T,{aliases:_,data:f,format:p,loadParser:m}),v.push(T)})}),_.forEach(x=>{this._assetMap[x]=v})})}resolveBundle(t){const n=Ul(t);t=Je(t);const r={};return t.forEach(o=>{const u=this._bundles[o];if(u){const h=this.resolve(u),f={};for(const p in h){const m=h[p];f[this._extractAssetIdFromBundle(o,p)]=m}r[o]=f}}),n?r[t[0]]:r}resolveUrl(t){const n=this.resolve(t);if(typeof t!="string"){const r={};for(const o in n)r[o]=n[o].src;return r}return n.src}resolve(t){const n=Ul(t);t=Je(t);const r={};return t.forEach(o=>{if(!this._resolverHash[o])if(this._assetMap[o]){let u=this._assetMap[o];const h=this._getPreferredOrder(u);h?.priority.forEach(f=>{h.params[f].forEach(p=>{const m=u.filter(g=>g[f]?g[f]===p:!1);m.length&&(u=m)})}),this._resolverHash[o]=u[0]}else this._resolverHash[o]=this._buildResolvedAsset({alias:[o],src:o},{});r[o]=this._resolverHash[o]}),n?r[t[0]]:r}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let n=0;n<t.length;n++){const r=t[n],o=this._preferredOrder.find(u=>u.params.format.includes(r.format));if(o)return o}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const n=/\?/.test(t)?"&":"?";return`${t}${n}${this._defaultSearchParams}`}_buildResolvedAsset(t,n){const{aliases:r,data:o,loadParser:u,format:h}=n;return(this._basePath||this._rootPath)&&(t.src=Ue.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=r??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...o||{},...t.data},t.loadParser=u??t.loadParser,t.format=h??t.format??Xb(t.src),t}}zs.RETINA_PREFIX=/@([0-9\.]+)x/;function Xb(a){return a.split(".").pop().split("?").shift().split("#").shift()}const Yc=(a,t)=>{const n=t.split("?")[1];return n&&(a+=`?${n}`),a},fy=class Na{constructor(t,n){this.linkedSheets=[];let r=t;t?.source instanceof ii&&(r={texture:t,data:n});const{texture:o,data:u,cachePrefix:h=""}=r;this.cachePrefix=h,this._texture=o instanceof ct?o:null,this.textureSource=o.source,this.textures={},this.animations={},this.data=u;const f=parseFloat(u.meta.scale);f?(this.resolution=f,o.source.resolution=this.resolution):this.resolution=o.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Na.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let n=t;const r=Na.BATCH_SIZE;for(;n-t<r&&n<this._frameKeys.length;){const o=this._frameKeys[n],u=this._frames[o],h=u.frame;if(h){let f=null,p=null;const m=u.trimmed!==!1&&u.sourceSize?u.sourceSize:u.frame,g=new qt(0,0,Math.floor(m.w)/this.resolution,Math.floor(m.h)/this.resolution);u.rotated?f=new qt(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.h)/this.resolution,Math.floor(h.w)/this.resolution):f=new qt(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution),u.trimmed!==!1&&u.spriteSourceSize&&(p=new qt(Math.floor(u.spriteSourceSize.x)/this.resolution,Math.floor(u.spriteSourceSize.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution)),this.textures[o]=new ct({source:this.textureSource,frame:f,orig:g,trim:p,rotate:u.rotated?2:0,defaultAnchor:u.anchor,defaultBorders:u.borders,label:o.toString()})}n++}}_processAnimations(){const t=this.data.animations||{};for(const n in t){this.animations[n]=[];for(let r=0;r<t[n].length;r++){const o=t[n][r];this.animations[n].push(this.textures[o])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Na.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Na.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};fy.BATCH_SIZE=1e3;let Ym=fy;const jb=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function dy(a,t,n){const r={};if(a.forEach(o=>{r[o]=t}),Object.keys(t.textures).forEach(o=>{r[`${t.cachePrefix}${o}`]=t.textures[o]}),!n){const o=Ue.dirname(a[0]);t.linkedSheets.forEach((u,h)=>{const f=dy([`${o}/${t.data.meta.related_multi_packs[h]}`],u,!0);Object.assign(r,f)})}return r}const Vb={extension:tt.Asset,cache:{test:a=>a instanceof Ym,getCacheableAssets:(a,t)=>dy(a,t,!1)},resolver:{extension:{type:tt.ResolveParser,name:"resolveSpritesheet"},test:a=>{const n=a.split("?")[0].split("."),r=n.pop(),o=n.pop();return r==="json"&&jb.includes(o)},parse:a=>{const t=a.split(".");return{resolution:parseFloat(zs.RETINA_PREFIX.exec(a)?.[1]??"1"),format:t[t.length-2],src:a}}},loader:{name:"spritesheetLoader",extension:{type:tt.LoadParser,priority:cn.Normal,name:"spritesheetLoader"},async testParse(a,t){return Ue.extname(t.src).toLowerCase()===".json"&&!!a.frames},async parse(a,t,n){const{texture:r,imageFilename:o,textureOptions:u,cachePrefix:h}=t?.data??{};let f=Ue.dirname(t.src);f&&f.lastIndexOf("/")!==f.length-1&&(f+="/");let p;if(r instanceof ct)p=r;else{const _=Yc(f+(o??a.meta.image),t.src);p=(await n.load([{src:_,data:u}]))[_]}const m=new Ym({texture:p.source,data:a,cachePrefix:h});await m.parse();const g=a?.meta?.related_multi_packs;if(Array.isArray(g)){const _=[];for(const x of g){if(typeof x!="string")continue;let S=f+x;t.data?.ignoreMultiPack||(S=Yc(S,t.src),_.push(n.load({src:S,data:{textureOptions:u,ignoreMultiPack:!0}})))}const v=await Promise.all(_);m.linkedSheets=v,v.forEach(x=>{x.linkedSheets=[m].concat(m.linkedSheets.filter(S=>S!==x))})}return m},async unload(a,t,n){await n.unload(a.textureSource._sourceOrigin),a.destroy(!1)}}};ue.add(Vb);const bc=Object.create(null),Xm=Object.create(null);function rh(a,t){let n=Xm[a];return n===void 0&&(bc[t]===void 0&&(bc[t]=1),Xm[a]=n=bc[t]++),n}let gl;function py(){return(!gl||gl?.isContextLost())&&(gl=Zt.get().createCanvas().getContext("webgl",{})),gl}let yl;function qb(){if(!yl){yl="mediump";const a=py();a&&a.getShaderPrecisionFormat&&(yl=a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision?"highp":"mediump")}return yl}function Fb(a,t,n){return t?a:n?(a=a.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${a}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${a}
        `}function Zb(a,t,n){const r=n?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if(a.substring(0,9)!=="precision"){let o=n?t.requestedFragmentPrecision:t.requestedVertexPrecision;return o==="highp"&&r!=="highp"&&(o="mediump"),`precision ${o} float;
${a}`}else if(r!=="highp"&&a.substring(0,15)==="precision highp")return a.replace("precision highp","precision mediump");return a}function Qb(a,t){return t?`#version 300 es
${a}`:a}const Wb={},Ib={};function Kb(a,{name:t="pixi-program"},n=!0){t=t.replace(/\s+/g,"-"),t+=n?"-fragment":"-vertex";const r=n?Wb:Ib;return r[t]?(r[t]++,t+=`-${r[t]}`):r[t]=1,a.indexOf("#define SHADER_NAME")!==-1?a:`${`#define SHADER_NAME ${t}`}
${a}`}function $b(a,t){return t?a.replace("#version 300 es",""):a}const vc={stripVersion:$b,ensurePrecision:Zb,addProgramDefines:Fb,setProgramName:Kb,insertVersion:Qb},Sc=Object.create(null),my=class Xc{constructor(t){t={...Xc.defaultOptions,...t};const n=t.fragment.indexOf("#version 300 es")!==-1,r={stripVersion:n,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:qb()},setProgramName:{name:t.name},addProgramDefines:n,insertVersion:n};let o=t.fragment,u=t.vertex;Object.keys(vc).forEach(h=>{const f=r[h];o=vc[h](o,f,!0),u=vc[h](u,f,!1)}),this.fragment=o,this.vertex=u,this.transformFeedbackVaryings=t.transformFeedbackVaryings,this._key=rh(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(t){const n=`${t.vertex}:${t.fragment}`;return Sc[n]||(Sc[n]=new Xc(t)),Sc[n]}};my.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let gy=my;const jm={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function Jb(a){return jm[a]??jm.float32}const t1={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function e1({source:a,entryPoint:t}){const n={},r=a.indexOf(`fn ${t}`);if(r!==-1){const o=a.indexOf("->",r);if(o!==-1){const u=a.substring(r,o),h=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let f;for(;(f=h.exec(u))!==null;){const p=t1[f[3]]??"float32";n[f[2]]={location:parseInt(f[1],10),format:p,stride:Jb(p).stride,offset:0,instance:!1,start:0}}}}return n}function Ac(a){const t=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,n=/@group\((\d+)\)/,r=/@binding\((\d+)\)/,o=/var(<[^>]+>)? (\w+)/,u=/:\s*(\w+)/,h=/struct\s+(\w+)\s*{([^}]+)}/g,f=/(\w+)\s*:\s*([\w\<\>]+)/g,p=/struct\s+(\w+)/,m=a.match(t)?.map(_=>({group:parseInt(_.match(n)[1],10),binding:parseInt(_.match(r)[1],10),name:_.match(o)[2],isUniform:_.match(o)[1]==="<uniform>",type:_.match(u)[1]}));if(!m)return{groups:[],structs:[]};const g=a.match(h)?.map(_=>{const v=_.match(p)[1],x=_.match(f).reduce((S,T)=>{const[A,E]=T.split(":");return S[A.trim()]=E.trim(),S},{});return x?{name:v,members:x}:null}).filter(({name:_})=>m.some(v=>v.type===_))??[];return{groups:m,structs:g}}var La=(a=>(a[a.VERTEX=1]="VERTEX",a[a.FRAGMENT=2]="FRAGMENT",a[a.COMPUTE=4]="COMPUTE",a))(La||{});function i1({groups:a}){const t=[];for(let n=0;n<a.length;n++){const r=a[n];t[r.group]||(t[r.group]=[]),r.isUniform?t[r.group].push({binding:r.binding,visibility:La.VERTEX|La.FRAGMENT,buffer:{type:"uniform"}}):r.type==="sampler"?t[r.group].push({binding:r.binding,visibility:La.FRAGMENT,sampler:{type:"filtering"}}):r.type==="texture_2d"&&t[r.group].push({binding:r.binding,visibility:La.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return t}function n1({groups:a}){const t=[];for(let n=0;n<a.length;n++){const r=a[n];t[r.group]||(t[r.group]={}),t[r.group][r.name]=r.binding}return t}function s1(a,t){const n=new Set,r=new Set,o=[...a.structs,...t.structs].filter(h=>n.has(h.name)?!1:(n.add(h.name),!0)),u=[...a.groups,...t.groups].filter(h=>{const f=`${h.name}-${h.binding}`;return r.has(f)?!1:(r.add(f),!0)});return{structs:o,groups:u}}const wc=Object.create(null);class Hl{constructor(t){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:n,vertex:r,layout:o,gpuLayout:u,name:h}=t;if(this.name=h,this.fragment=n,this.vertex=r,n.source===r.source){const f=Ac(n.source);this.structsAndGroups=f}else{const f=Ac(r.source),p=Ac(n.source);this.structsAndGroups=s1(f,p)}this.layout=o??n1(this.structsAndGroups),this.gpuLayout=u??i1(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:n}=this,r=t.source+n.source+t.entryPoint+n.entryPoint;this._layoutKey=rh(r,"program")}get attributeData(){return this._attributeData??(this._attributeData=e1(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(t){const n=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return wc[n]||(wc[n]=new Hl(t)),wc[n]}}const yy=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],a1=yy.reduce((a,t)=>(a[t]=!0,a),{});function r1(a,t){switch(a){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const _y=class xy{constructor(t,n){this._touched=0,this.uid=Ft("uniform"),this._resourceType="uniformGroup",this._resourceId=Ft("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,n={...xy.defaultOptions,...n},this.uniformStructures=t;const r={};for(const o in t){const u=t[o];if(u.name=o,u.size=u.size??1,!a1[u.type])throw new Error(`Uniform type ${u.type} is not supported. Supported uniform types are: ${yy.join(", ")}`);u.value??(u.value=r1(u.type,u.size)),r[o]=u.value}this.uniforms=r,this._dirtyId=1,this.ubo=n.ubo,this.isStatic=n.isStatic,this._signature=rh(Object.keys(r).map(o=>`${o}-${t[o].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};_y.defaultOptions={ubo:!1,isStatic:!1};let by=_y;class Cl{constructor(t){this.resources=Object.create(null),this._dirty=!0;let n=0;for(const r in t){const o=t[r];this.setResource(o,n++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let n=0;for(const r in this.resources)t[n++]=this.resources[r]._resourceId;this._key=t.join("|")}setResource(t,n){const r=this.resources[n];t!==r&&(r&&t.off?.("change",this.onResourceChange,this),t.on?.("change",this.onResourceChange,this),this.resources[n]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t){const n=this.resources;for(const r in n)n[r]._touched=t}destroy(){const t=this.resources;for(const n in t)t[n].off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const n=this.resources;for(const r in n)n[r]===t&&(n[r]=null)}else this._updateKey()}}var jc=(a=>(a[a.WEBGL=1]="WEBGL",a[a.WEBGPU=2]="WEBGPU",a[a.BOTH=3]="BOTH",a))(jc||{});class lh extends ei{constructor(t){super(),this.uid=Ft("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:n,glProgram:r,groups:o,resources:u,compatibleRenderers:h,groupMap:f}=t;this.gpuProgram=n,this.glProgram=r,h===void 0&&(h=0,n&&(h|=jc.WEBGPU),r&&(h|=jc.WEBGL)),this.compatibleRenderers=h;const p={};if(!u&&!o&&(u={}),u&&o)throw new Error("[Shader] Cannot have both resources and groups");if(!n&&o&&!f)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!n&&o&&f)for(const m in f)for(const g in f[m]){const _=f[m][g];p[_]={group:m,binding:g,name:_}}else if(n&&o&&!f){const m=n.structsAndGroups.groups;f={},m.forEach(g=>{f[g.group]=f[g.group]||{},f[g.group][g.binding]=g.name,p[g.name]=g})}else if(u){o={},f={},n&&n.structsAndGroups.groups.forEach(_=>{f[_.group]=f[_.group]||{},f[_.group][_.binding]=_.name,p[_.name]=_});let m=0;for(const g in u)p[g]||(o[99]||(o[99]=new Cl,this._ownedBindGroups.push(o[99])),p[g]={group:99,binding:m,name:g},f[99]=f[99]||{},f[99][m]=g,m++);for(const g in u){const _=g;let v=u[g];!v.source&&!v._resourceType&&(v=new by(v));const x=p[_];x&&(o[x.group]||(o[x.group]=new Cl,this._ownedBindGroups.push(o[x.group])),o[x.group].setResource(v,x.binding))}}this.groups=o,this._uniformBindMap=f,this.resources=this._buildResourceAccessor(o,p)}addResource(t,n,r){var o,u;(o=this._uniformBindMap)[n]||(o[n]={}),(u=this._uniformBindMap[n])[r]||(u[r]=t),this.groups[n]||(this.groups[n]=new Cl,this._ownedBindGroups.push(this.groups[n]))}_buildResourceAccessor(t,n){const r={};for(const o in n){const u=n[o];Object.defineProperty(r,u.name,{get(){return t[u.group].getResource(u.binding)},set(h){t[u.group].setResource(h,u.binding)}})}return r}destroy(t=!1){this.emit("destroy",this),t&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(n=>{n.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(t){const{gpu:n,gl:r,...o}=t;let u,h;return n&&(u=Hl.from(n)),r&&(h=gy.from(r)),new lh({gpuProgram:u,glProgram:h,...o})}}const Vc=[];ue.handleByNamedList(tt.Environment,Vc);async function l1(a){if(!a)for(let t=0;t<Vc.length;t++){const n=Vc[t];if(n.value.test()){await n.value.load();return}}}let Ua;function o1(){if(typeof Ua=="boolean")return Ua;try{Ua=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Ua=!1}return Ua}function Vm(a,t,n=2){const r=t&&t.length,o=r?t[0]*n:a.length;let u=vy(a,0,o,n,!0);const h=[];if(!u||u.next===u.prev)return h;let f,p,m;if(r&&(u=d1(a,t,u,n)),a.length>80*n){f=1/0,p=1/0;let g=-1/0,_=-1/0;for(let v=n;v<o;v+=n){const x=a[v],S=a[v+1];x<f&&(f=x),S<p&&(p=S),x>g&&(g=x),S>_&&(_=S)}m=Math.max(g-f,_-p),m=m!==0?32767/m:0}return Va(u,h,n,f,p,m,0),h}function vy(a,t,n,r,o){let u;if(o===w1(a,t,n,r)>0)for(let h=t;h<n;h+=r)u=qm(h/r|0,a[h],a[h+1],u);else for(let h=n-r;h>=t;h-=r)u=qm(h/r|0,a[h],a[h+1],u);return u&&Rs(u,u.next)&&(Fa(u),u=u.next),u}function kn(a,t){if(!a)return a;t||(t=a);let n=a,r;do if(r=!1,!n.steiner&&(Rs(n,n.next)||Ht(n.prev,n,n.next)===0)){if(Fa(n),n=t=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==t);return t}function Va(a,t,n,r,o,u,h){if(!a)return;!h&&u&&_1(a,r,o,u);let f=a;for(;a.prev!==a.next;){const p=a.prev,m=a.next;if(u?c1(a,r,o,u):u1(a)){t.push(p.i,a.i,m.i),Fa(a),a=m.next,f=m.next;continue}if(a=m,a===f){h?h===1?(a=h1(kn(a),t),Va(a,t,n,r,o,u,2)):h===2&&f1(a,t,n,r,o,u):Va(kn(a),t,n,r,o,u,1);break}}}function u1(a){const t=a.prev,n=a,r=a.next;if(Ht(t,n,r)>=0)return!1;const o=t.x,u=n.x,h=r.x,f=t.y,p=n.y,m=r.y,g=Math.min(o,u,h),_=Math.min(f,p,m),v=Math.max(o,u,h),x=Math.max(f,p,m);let S=r.next;for(;S!==t;){if(S.x>=g&&S.x<=v&&S.y>=_&&S.y<=x&&Pa(o,f,u,p,h,m,S.x,S.y)&&Ht(S.prev,S,S.next)>=0)return!1;S=S.next}return!0}function c1(a,t,n,r){const o=a.prev,u=a,h=a.next;if(Ht(o,u,h)>=0)return!1;const f=o.x,p=u.x,m=h.x,g=o.y,_=u.y,v=h.y,x=Math.min(f,p,m),S=Math.min(g,_,v),T=Math.max(f,p,m),A=Math.max(g,_,v),E=qc(x,S,t,n,r),B=qc(T,A,t,n,r);let D=a.prevZ,H=a.nextZ;for(;D&&D.z>=E&&H&&H.z<=B;){if(D.x>=x&&D.x<=T&&D.y>=S&&D.y<=A&&D!==o&&D!==h&&Pa(f,g,p,_,m,v,D.x,D.y)&&Ht(D.prev,D,D.next)>=0||(D=D.prevZ,H.x>=x&&H.x<=T&&H.y>=S&&H.y<=A&&H!==o&&H!==h&&Pa(f,g,p,_,m,v,H.x,H.y)&&Ht(H.prev,H,H.next)>=0))return!1;H=H.nextZ}for(;D&&D.z>=E;){if(D.x>=x&&D.x<=T&&D.y>=S&&D.y<=A&&D!==o&&D!==h&&Pa(f,g,p,_,m,v,D.x,D.y)&&Ht(D.prev,D,D.next)>=0)return!1;D=D.prevZ}for(;H&&H.z<=B;){if(H.x>=x&&H.x<=T&&H.y>=S&&H.y<=A&&H!==o&&H!==h&&Pa(f,g,p,_,m,v,H.x,H.y)&&Ht(H.prev,H,H.next)>=0)return!1;H=H.nextZ}return!0}function h1(a,t){let n=a;do{const r=n.prev,o=n.next.next;!Rs(r,o)&&Ay(r,n,n.next,o)&&qa(r,o)&&qa(o,r)&&(t.push(r.i,n.i,o.i),Fa(n),Fa(n.next),n=a=o),n=n.next}while(n!==a);return kn(n)}function f1(a,t,n,r,o,u){let h=a;do{let f=h.next.next;for(;f!==h.prev;){if(h.i!==f.i&&v1(h,f)){let p=wy(h,f);h=kn(h,h.next),p=kn(p,p.next),Va(h,t,n,r,o,u,0),Va(p,t,n,r,o,u,0);return}f=f.next}h=h.next}while(h!==a)}function d1(a,t,n,r){const o=[];for(let u=0,h=t.length;u<h;u++){const f=t[u]*r,p=u<h-1?t[u+1]*r:a.length,m=vy(a,f,p,r,!1);m===m.next&&(m.steiner=!0),o.push(b1(m))}o.sort(p1);for(let u=0;u<o.length;u++)n=m1(o[u],n);return n}function p1(a,t){let n=a.x-t.x;if(n===0&&(n=a.y-t.y,n===0)){const r=(a.next.y-a.y)/(a.next.x-a.x),o=(t.next.y-t.y)/(t.next.x-t.x);n=r-o}return n}function m1(a,t){const n=g1(a,t);if(!n)return t;const r=wy(n,a);return kn(r,r.next),kn(n,n.next)}function g1(a,t){let n=t;const r=a.x,o=a.y;let u=-1/0,h;if(Rs(a,n))return n;do{if(Rs(a,n.next))return n.next;if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const _=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(_<=r&&_>u&&(u=_,h=n.x<n.next.x?n:n.next,_===r))return h}n=n.next}while(n!==t);if(!h)return null;const f=h,p=h.x,m=h.y;let g=1/0;n=h;do{if(r>=n.x&&n.x>=p&&r!==n.x&&Sy(o<m?r:u,o,p,m,o<m?u:r,o,n.x,n.y)){const _=Math.abs(o-n.y)/(r-n.x);qa(n,a)&&(_<g||_===g&&(n.x>h.x||n.x===h.x&&y1(h,n)))&&(h=n,g=_)}n=n.next}while(n!==f);return h}function y1(a,t){return Ht(a.prev,a,t.prev)<0&&Ht(t.next,a,a.next)<0}function _1(a,t,n,r){let o=a;do o.z===0&&(o.z=qc(o.x,o.y,t,n,r)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==a);o.prevZ.nextZ=null,o.prevZ=null,x1(o)}function x1(a){let t,n=1;do{let r=a,o;a=null;let u=null;for(t=0;r;){t++;let h=r,f=0;for(let m=0;m<n&&(f++,h=h.nextZ,!!h);m++);let p=n;for(;f>0||p>0&&h;)f!==0&&(p===0||!h||r.z<=h.z)?(o=r,r=r.nextZ,f--):(o=h,h=h.nextZ,p--),u?u.nextZ=o:a=o,o.prevZ=u,u=o;r=h}u.nextZ=null,n*=2}while(t>1);return a}function qc(a,t,n,r,o){return a=(a-n)*o|0,t=(t-r)*o|0,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,a|t<<1}function b1(a){let t=a,n=a;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==a);return n}function Sy(a,t,n,r,o,u,h,f){return(o-h)*(t-f)>=(a-h)*(u-f)&&(a-h)*(r-f)>=(n-h)*(t-f)&&(n-h)*(u-f)>=(o-h)*(r-f)}function Pa(a,t,n,r,o,u,h,f){return!(a===h&&t===f)&&Sy(a,t,n,r,o,u,h,f)}function v1(a,t){return a.next.i!==t.i&&a.prev.i!==t.i&&!S1(a,t)&&(qa(a,t)&&qa(t,a)&&A1(a,t)&&(Ht(a.prev,a,t.prev)||Ht(a,t.prev,t))||Rs(a,t)&&Ht(a.prev,a,a.next)>0&&Ht(t.prev,t,t.next)>0)}function Ht(a,t,n){return(t.y-a.y)*(n.x-t.x)-(t.x-a.x)*(n.y-t.y)}function Rs(a,t){return a.x===t.x&&a.y===t.y}function Ay(a,t,n,r){const o=xl(Ht(a,t,n)),u=xl(Ht(a,t,r)),h=xl(Ht(n,r,a)),f=xl(Ht(n,r,t));return!!(o!==u&&h!==f||o===0&&_l(a,n,t)||u===0&&_l(a,r,t)||h===0&&_l(n,a,r)||f===0&&_l(n,t,r))}function _l(a,t,n){return t.x<=Math.max(a.x,n.x)&&t.x>=Math.min(a.x,n.x)&&t.y<=Math.max(a.y,n.y)&&t.y>=Math.min(a.y,n.y)}function xl(a){return a>0?1:a<0?-1:0}function S1(a,t){let n=a;do{if(n.i!==a.i&&n.next.i!==a.i&&n.i!==t.i&&n.next.i!==t.i&&Ay(n,n.next,a,t))return!0;n=n.next}while(n!==a);return!1}function qa(a,t){return Ht(a.prev,a,a.next)<0?Ht(a,t,a.next)>=0&&Ht(a,a.prev,t)>=0:Ht(a,t,a.prev)<0||Ht(a,a.next,t)<0}function A1(a,t){let n=a,r=!1;const o=(a.x+t.x)/2,u=(a.y+t.y)/2;do n.y>u!=n.next.y>u&&n.next.y!==n.y&&o<(n.next.x-n.x)*(u-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==a);return r}function wy(a,t){const n=Fc(a.i,a.x,a.y),r=Fc(t.i,t.x,t.y),o=a.next,u=t.prev;return a.next=t,t.prev=a,n.next=o,o.prev=n,r.next=n,n.prev=r,u.next=r,r.prev=u,r}function qm(a,t,n,r){const o=Fc(a,t,n);return r?(o.next=r.next,o.prev=r,r.next.prev=o,r.next=o):(o.prev=o,o.next=o),o}function Fa(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function Fc(a,t,n){return{i:a,x:t,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function w1(a,t,n,r){let o=0;for(let u=t,h=n-r;u<n;u+=r)o+=(a[h]-a[u])*(a[u+1]+a[h+1]),h=u;return o}const T1=Vm.default||Vm;var Ty=(a=>(a[a.NONE=0]="NONE",a[a.COLOR=16384]="COLOR",a[a.STENCIL=1024]="STENCIL",a[a.DEPTH=256]="DEPTH",a[a.COLOR_DEPTH=16640]="COLOR_DEPTH",a[a.COLOR_STENCIL=17408]="COLOR_STENCIL",a[a.DEPTH_STENCIL=1280]="DEPTH_STENCIL",a[a.ALL=17664]="ALL",a))(Ty||{});class M1{constructor(t){this.items=[],this._name=t}emit(t,n,r,o,u,h,f,p){const{name:m,items:g}=this;for(let _=0,v=g.length;_<v;_++)g[_][m](t,n,r,o,u,h,f,p);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){const n=this.items.indexOf(t);return n!==-1&&this.items.splice(n,1),this}contains(t){return this.items.indexOf(t)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const C1=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],My=class Cy extends ei{constructor(t){super(),this.uid=Ft("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name,this.config=t;const n=[...C1,...this.config.runners??[]];this._addRunners(...n),this._unsafeEvalCheck()}async init(t={}){const n=t.skipExtensionImports===!0?!0:t.manageImports===!1;await l1(n),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const r in this._systemsHash)t={...this._systemsHash[r].constructor.defaultOptions,...t};t={...Cy.defaultOptions,...t},this._roundPixels=t.roundPixels?1:0;for(let r=0;r<this.runners.init.items.length;r++)await this.runners.init.items[r].init(t);this._initOptions=t}render(t,n){let r=t;if(r instanceof Di&&(r={container:r},n&&(_t(Tt,"passing a second argument is deprecated, please use render options instead"),r.target=n.renderTexture)),r.target||(r.target=this.view.renderTarget),r.target===this.view.renderTarget&&(this._lastObjectRendered=r.container,r.clearColor??(r.clearColor=this.background.colorRgba),r.clear??(r.clear=this.background.clearBeforeRender)),r.clearColor){const o=Array.isArray(r.clearColor)&&r.clearColor.length===4;r.clearColor=o?r.clearColor:It.shared.setValue(r.clearColor).toArray()}r.transform||(r.container.updateLocalTransform(),r.transform=r.container.localTransform),r.container.enableRenderGroup(),this.runners.prerender.emit(r),this.runners.renderStart.emit(r),this.runners.render.emit(r),this.runners.renderEnd.emit(r),this.runners.postrender.emit(r)}resize(t,n,r){const o=this.view.resolution;this.view.resize(t,n,r),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),r!==void 0&&r!==o&&this.runners.resolutionChange.emit(r)}clear(t={}){const n=this;t.target||(t.target=n.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=Ty.ALL);const{clear:r,clearColor:o,target:u}=t;It.shared.setValue(o??this.background.colorRgba),n.renderTarget.clear(u,r,It.shared.toArray())}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach(n=>{this.runners[n]=new M1(n)})}_addSystems(t){let n;for(n in t){const r=t[n];this._addSystem(r.value,r.name)}}_addSystem(t,n){const r=new t(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const o in this.runners)this.runners[o].add(r);return this}_addPipes(t,n){const r=n.reduce((o,u)=>(o[u.name]=u.value,o),{});t.forEach(o=>{const u=o.value,h=o.name,f=r[h];this.renderPipes[h]=new u(this,f?new f:null)})}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),Object.values(this.runners).forEach(n=>{n.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!o1())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};My.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let Ey=My,bl;function E1(a){return bl!==void 0||(bl=(()=>{const t={stencil:!0,failIfMajorPerformanceCaveat:a??Ey.defaultOptions.failIfMajorPerformanceCaveat};try{if(!Zt.get().getWebGLRenderingContext())return!1;let r=Zt.get().createCanvas().getContext("webgl",t);const o=!!r?.getContextAttributes()?.stencil;if(r){const u=r.getExtension("WEBGL_lose_context");u&&u.loseContext()}return r=null,o}catch{return!1}})()),bl}let vl;async function R1(a={}){return vl!==void 0||(vl=await(async()=>{const t=Zt.get().getNavigator().gpu;if(!t)return!1;try{return await(await t.requestAdapter(a)).requestDevice(),!0}catch{return!1}})()),vl}const Fm=["webgl","webgpu","canvas"];async function B1(a){let t=[];a.preference?(t.push(a.preference),Fm.forEach(u=>{u!==a.preference&&t.push(u)})):t=Fm.slice();let n,r={};for(let u=0;u<t.length;u++){const h=t[u];if(h==="webgpu"&&await R1()){const{WebGPURenderer:f}=await Bl(async()=>{const{WebGPURenderer:p}=await import("./WebGPURenderer-yiducZzW.js");return{WebGPURenderer:p}},__vite__mapDeps([3,2,4]));n=f,r={...a,...a.webgpu};break}else if(h==="webgl"&&E1(a.failIfMajorPerformanceCaveat??Ey.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:f}=await Bl(async()=>{const{WebGLRenderer:p}=await import("./WebGLRenderer-DNlntXYh.js");return{WebGLRenderer:p}},__vite__mapDeps([5,2,4]));n=f,r={...a,...a.webgl};break}else if(h==="canvas")throw r={...a},new Error("CanvasRenderer is not yet implemented")}if(delete r.webgpu,delete r.webgl,!n)throw new Error("No available renderer for the current environment");const o=new n;return await o.init(r),o}const Ry="8.10.2";class By{static init(){globalThis.__PIXI_APP_INIT__?.(this,Ry)}static destroy(){}}By.extension=tt.Application;class z1{constructor(t){this._renderer=t}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,Ry)}destroy(){this._renderer=null}}z1.extension={type:[tt.WebGLSystem,tt.WebGPUSystem],name:"initHook",priority:-10};const zy=class Zc{constructor(...t){this.stage=new Di,t[0]!==void 0&&_t(Tt,"Application constructor options are deprecated, please use Application.init() instead.")}async init(t){t={...t},this.renderer=await B1(t),Zc._plugins.forEach(n=>{n.init.call(this,t)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return _t(Tt,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(t=!1,n=!1){const r=Zc._plugins.slice(0);r.reverse(),r.forEach(o=>{o.destroy.call(this)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(t),this.renderer=null}};zy._plugins=[];let Oy=zy;ue.handleByList(tt.Application,Oy._plugins);ue.add(By);class Dy extends ei{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return _t(Tt,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return _t(Tt,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return _t(Tt,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return _t(Tt,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return _t(Tt,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners();for(const n in this.chars)this.chars[n].texture?.destroy();this.chars=null,t&&(this.pages.forEach(n=>n.texture.destroy(!0)),this.pages=null)}}const O1=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function Qc(a){const t=typeof a.fontSize=="number"?`${a.fontSize}px`:a.fontSize;let n=a.fontFamily;Array.isArray(a.fontFamily)||(n=a.fontFamily.split(","));for(let r=n.length-1;r>=0;r--){let o=n[r].trim();!/([\"\'])[^\'\"]+\1/.test(o)&&!O1.includes(o)&&(o=`"${o}"`),n[r]=o}return`${a.fontStyle} ${a.fontVariant} ${a.fontWeight} ${t} ${n.join(",")}`}const Tc={willReadFrequently:!0},ci=class J{static get experimentalLetterSpacingSupported(){let t=J._experimentalLetterSpacingSupported;if(t===void 0){const n=Zt.get().getCanvasRenderingContext2D().prototype;t=J._experimentalLetterSpacingSupported="letterSpacing"in n||"textLetterSpacing"in n}return t}constructor(t,n,r,o,u,h,f,p,m){this.text=t,this.style=n,this.width=r,this.height=o,this.lines=u,this.lineWidths=h,this.lineHeight=f,this.maxLineWidth=p,this.fontProperties=m}static measureText(t=" ",n,r=J._canvas,o=n.wordWrap){const u=Qc(n),h=J.measureFont(u);h.fontSize===0&&(h.fontSize=n.fontSize,h.ascent=n.fontSize);const f=J.__context;f.font=u;const m=(o?J._wordWrap(t,n,r):t).split(/(?:\r\n|\r|\n)/),g=new Array(m.length);let _=0;for(let E=0;E<m.length;E++){const B=J._measureText(m[E],n.letterSpacing,f);g[E]=B,_=Math.max(_,B)}const v=n._stroke?.width||0;let x=_+v;n.dropShadow&&(x+=n.dropShadow.distance);const S=n.lineHeight||h.fontSize;let T=Math.max(S,h.fontSize+v)+(m.length-1)*(S+n.leading);return n.dropShadow&&(T+=n.dropShadow.distance),new J(t,n,x,T,m,g,S+n.leading,_,h)}static _measureText(t,n,r){let o=!1;J.experimentalLetterSpacingSupported&&(J.experimentalLetterSpacing?(r.letterSpacing=`${n}px`,r.textLetterSpacing=`${n}px`,o=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));const u=r.measureText(t);let h=u.width;const f=-u.actualBoundingBoxLeft;let m=u.actualBoundingBoxRight-f;if(h>0)if(o)h-=n,m-=n;else{const g=(J.graphemeSegmenter(t).length-1)*n;h+=g,m+=g}return Math.max(h,m)}static _wordWrap(t,n,r=J._canvas){const o=r.getContext("2d",Tc);let u=0,h="",f="";const p=Object.create(null),{letterSpacing:m,whiteSpace:g}=n,_=J._collapseSpaces(g),v=J._collapseNewlines(g);let x=!_;const S=n.wordWrapWidth+m,T=J._tokenize(t);for(let A=0;A<T.length;A++){let E=T[A];if(J._isNewline(E)){if(!v){f+=J._addLine(h),x=!_,h="",u=0;continue}E=" "}if(_){const D=J.isBreakingSpace(E),H=J.isBreakingSpace(h[h.length-1]);if(D&&H)continue}const B=J._getFromCache(E,m,p,o);if(B>S)if(h!==""&&(f+=J._addLine(h),h="",u=0),J.canBreakWords(E,n.breakWords)){const D=J.wordWrapSplit(E);for(let H=0;H<D.length;H++){let X=D[H],j=X,V=1;for(;D[H+V];){const $=D[H+V];if(!J.canBreakChars(j,$,E,H,n.breakWords))X+=$;else break;j=$,V++}H+=V-1;const it=J._getFromCache(X,m,p,o);it+u>S&&(f+=J._addLine(h),x=!1,h="",u=0),h+=X,u+=it}}else{h.length>0&&(f+=J._addLine(h),h="",u=0);const D=A===T.length-1;f+=J._addLine(E,!D),x=!1,h="",u=0}else B+u>S&&(x=!1,f+=J._addLine(h),h="",u=0),(h.length>0||!J.isBreakingSpace(E)||x)&&(h+=E,u+=B)}return f+=J._addLine(h,!1),f}static _addLine(t,n=!0){return t=J._trimRight(t),t=n?`${t}
`:t,t}static _getFromCache(t,n,r,o){let u=r[t];return typeof u!="number"&&(u=J._measureText(t,n,o)+n,r[t]=u),u}static _collapseSpaces(t){return t==="normal"||t==="pre-line"}static _collapseNewlines(t){return t==="normal"}static _trimRight(t){if(typeof t!="string")return"";for(let n=t.length-1;n>=0;n--){const r=t[n];if(!J.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static _isNewline(t){return typeof t!="string"?!1:J._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,n){return typeof t!="string"?!1:J._breakingSpaces.includes(t.charCodeAt(0))}static _tokenize(t){const n=[];let r="";if(typeof t!="string")return n;for(let o=0;o<t.length;o++){const u=t[o],h=t[o+1];if(J.isBreakingSpace(u,h)||J._isNewline(u)){r!==""&&(n.push(r),r=""),n.push(u);continue}r+=u}return r!==""&&n.push(r),n}static canBreakWords(t,n){return n}static canBreakChars(t,n,r,o,u){return!0}static wordWrapSplit(t){return J.graphemeSegmenter(t)}static measureFont(t){if(J._fonts[t])return J._fonts[t];const n=J._context;n.font=t;const r=n.measureText(J.METRICS_STRING+J.BASELINE_SYMBOL),o={ascent:r.actualBoundingBoxAscent,descent:r.actualBoundingBoxDescent,fontSize:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent};return J._fonts[t]=o,o}static clearMetrics(t=""){t?delete J._fonts[t]:J._fonts={}}static get _canvas(){if(!J.__canvas){let t;try{const n=new OffscreenCanvas(0,0);if(n.getContext("2d",Tc)?.measureText)return J.__canvas=n,n;t=Zt.get().createCanvas()}catch{t=Zt.get().createCanvas()}t.width=t.height=10,J.__canvas=t}return J.__canvas}static get _context(){return J.__context||(J.__context=J._canvas.getContext("2d",Tc)),J.__context}};ci.METRICS_STRING="|q";ci.BASELINE_SYMBOL="M";ci.BASELINE_MULTIPLIER=1.4;ci.HEIGHT_MULTIPLIER=2;ci.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const a=new Intl.Segmenter;return t=>{const n=a.segment(t),r=[];let o=0;for(const u of n)r[o++]=u.segment;return r}}return a=>[...a]})();ci.experimentalLetterSpacing=!1;ci._fonts={};ci._newlines=[10,13];ci._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let El=ci;const Zm=[{offset:0,color:"white"},{offset:1,color:"black"}],oh=class Wc{constructor(...t){this.uid=Ft("fillGradient"),this.type="linear",this.colorStops=[];let n=D1(t);n={...n.type==="radial"?Wc.defaultRadialOptions:Wc.defaultLinearOptions,...Lg(n)},this._textureSize=n.textureSize,this._wrapMode=n.wrapMode,n.type==="radial"?(this.center=n.center,this.outerCenter=n.outerCenter??this.center,this.innerRadius=n.innerRadius,this.outerRadius=n.outerRadius,this.scale=n.scale,this.rotation=n.rotation):(this.start=n.start,this.end=n.end),this.textureSpace=n.textureSpace,this.type=n.type,n.colorStops.forEach(o=>{this.addColorStop(o.offset,o.color)})}addColorStop(t,n){return this.colorStops.push({offset:t,color:It.shared.setValue(n).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:t,y:n}=this.start,{x:r,y:o}=this.end,u=r-t,h=o-n;const f=u<0||h<0;if(this._wrapMode==="clamp-to-edge"){if(u<0){const A=t;t=r,r=A,u*=-1}if(h<0){const A=n;n=o,o=A,h*=-1}}const p=this.colorStops.length?this.colorStops:Zm,m=this._textureSize,{canvas:g,context:_}=Wm(m,1),v=f?_.createLinearGradient(this._textureSize,0,0,0):_.createLinearGradient(0,0,this._textureSize,0);Qm(v,p),_.fillStyle=v,_.fillRect(0,0,m,1),this.texture=new ct({source:new Gn({resource:g,addressMode:this._wrapMode})});const x=Math.sqrt(u*u+h*h),S=Math.atan2(h,u),T=new yt;T.scale(x/m,1),T.rotate(S),T.translate(t,n),this.textureSpace==="local"&&T.scale(m,m),this.transform=T}buildGradient(){this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:Zm,n=this._textureSize,{canvas:r,context:o}=Wm(n,n),{x:u,y:h}=this.center,{x:f,y:p}=this.outerCenter,m=this.innerRadius,g=this.outerRadius,_=f-g,v=p-g,x=n/(g*2),S=(u-_)*x,T=(h-v)*x,A=o.createRadialGradient(S,T,m*x,(f-_)*x,(p-v)*x,g*x);Qm(A,t),o.fillStyle=t[t.length-1].color,o.fillRect(0,0,n,n),o.fillStyle=A,o.translate(S,T),o.rotate(this.rotation),o.scale(1,this.scale),o.translate(-S,-T),o.fillRect(0,0,n,n),this.texture=new ct({source:new Gn({resource:r,addressMode:this._wrapMode})});const E=new yt;E.scale(1/x,1/x),E.translate(_,v),this.textureSpace==="local"&&E.scale(n,n),this.transform=E}get styleKey(){return this.uid}destroy(){this.texture?.destroy(!0),this.texture=null}};oh.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};oh.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let Oi=oh;function Qm(a,t){for(let n=0;n<t.length;n++){const r=t[n];a.addColorStop(r.offset,r.color)}}function Wm(a,t){const n=Zt.get().createCanvas(a,t),r=n.getContext("2d");return{canvas:n,context:r}}function D1(a){let t=a[0]??{};return(typeof t=="number"||a[1])&&(_t("8.5.2","use options object instead"),t={type:"linear",start:{x:a[0],y:a[1]},end:{x:a[2],y:a[3]},textureSpace:a[4],textureSize:a[5]??Oi.defaultLinearOptions.textureSize}),t}const Im={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class Nl{constructor(t,n){this.uid=Ft("fillPattern"),this.transform=new yt,this._styleKey=null,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),n&&(t.source.style.addressModeU=Im[n].addressModeU,t.source.style.addressModeV=Im[n].addressModeV)}setTransform(t){const n=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/n.frame.width,1/n.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}}var Mc,Km;function U1(){if(Km)return Mc;Km=1,Mc=n;var a={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function n(u){var h=[];return u.replace(t,function(f,p,m){var g=p.toLowerCase();for(m=o(m),g=="m"&&m.length>2&&(h.push([p].concat(m.splice(0,2))),g="l",p=p=="m"?"l":"L");;){if(m.length==a[g])return m.unshift(p),h.push(m);if(m.length<a[g])throw new Error("malformed path data");h.push([p].concat(m.splice(0,a[g])))}}),h}var r=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function o(u){var h=u.match(r);return h?h.map(Number):[]}return Mc}var G1=U1();const k1=kg(G1);function H1(a,t){const n=k1(a),r=[];let o=null,u=0,h=0;for(let f=0;f<n.length;f++){const p=n[f],m=p[0],g=p;switch(m){case"M":u=g[1],h=g[2],t.moveTo(u,h);break;case"m":u+=g[1],h+=g[2],t.moveTo(u,h);break;case"H":u=g[1],t.lineTo(u,h);break;case"h":u+=g[1],t.lineTo(u,h);break;case"V":h=g[1],t.lineTo(u,h);break;case"v":h+=g[1],t.lineTo(u,h);break;case"L":u=g[1],h=g[2],t.lineTo(u,h);break;case"l":u+=g[1],h+=g[2],t.lineTo(u,h);break;case"C":u=g[5],h=g[6],t.bezierCurveTo(g[1],g[2],g[3],g[4],u,h);break;case"c":t.bezierCurveTo(u+g[1],h+g[2],u+g[3],h+g[4],u+g[5],h+g[6]),u+=g[5],h+=g[6];break;case"S":u=g[3],h=g[4],t.bezierCurveToShort(g[1],g[2],u,h);break;case"s":t.bezierCurveToShort(u+g[1],h+g[2],u+g[3],h+g[4]),u+=g[3],h+=g[4];break;case"Q":u=g[3],h=g[4],t.quadraticCurveTo(g[1],g[2],u,h);break;case"q":t.quadraticCurveTo(u+g[1],h+g[2],u+g[3],h+g[4]),u+=g[3],h+=g[4];break;case"T":u=g[1],h=g[2],t.quadraticCurveToShort(u,h);break;case"t":u+=g[1],h+=g[2],t.quadraticCurveToShort(u,h);break;case"A":u=g[6],h=g[7],t.arcToSvg(g[1],g[2],g[3],g[4],g[5],u,h);break;case"a":u+=g[6],h+=g[7],t.arcToSvg(g[1],g[2],g[3],g[4],g[5],u,h);break;case"Z":case"z":t.closePath(),r.length>0&&(o=r.pop(),o?(u=o.startX,h=o.startY):(u=0,h=0)),o=null;break;default:Dt(`Unknown SVG path command: ${m}`)}m!=="Z"&&m!=="z"&&o===null&&(o={startX:u,startY:h},r.push(o))}return t}class uh{constructor(t=0,n=0,r=0){this.type="circle",this.x=t,this.y=n,this.radius=r}clone(){return new uh(this.x,this.y,this.radius)}contains(t,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let o=this.x-t,u=this.y-n;return o*=o,u*=u,o+u<=r}strokeContains(t,n,r,o=.5){if(this.radius===0)return!1;const u=this.x-t,h=this.y-n,f=this.radius,p=(1-o)*r,m=Math.sqrt(u*u+h*h);return m<=f+p&&m>f-(r-p)}getBounds(t){return t||(t=new qt),t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class ch{constructor(t=0,n=0,r=0,o=0){this.type="ellipse",this.x=t,this.y=n,this.halfWidth=r,this.halfHeight=o}clone(){return new ch(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,n){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let r=(t-this.x)/this.halfWidth,o=(n-this.y)/this.halfHeight;return r*=r,o*=o,r+o<=1}strokeContains(t,n,r,o=.5){const{halfWidth:u,halfHeight:h}=this;if(u<=0||h<=0)return!1;const f=r*(1-o),p=r-f,m=u-p,g=h-p,_=u+f,v=h+f,x=t-this.x,S=n-this.y,T=x*x/(m*m)+S*S/(g*g),A=x*x/(_*_)+S*S/(v*v);return T>1&&A<=1}getBounds(t){return t||(t=new qt),t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=this.halfWidth*2,t.height=this.halfHeight*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function N1(a,t,n,r,o,u){const h=a-n,f=t-r,p=o-n,m=u-r,g=h*p+f*m,_=p*p+m*m;let v=-1;_!==0&&(v=g/_);let x,S;v<0?(x=n,S=r):v>1?(x=o,S=u):(x=n+v*p,S=r+v*m);const T=a-x,A=t-S;return T*T+A*A}let L1,P1;class Xa{constructor(...t){this.type="polygon";let n=Array.isArray(t[0])?t[0]:t;if(typeof n[0]!="number"){const r=[];for(let o=0,u=n.length;o<u;o++)r.push(n[o].x,n[o].y);n=r}this.points=n,this.closePath=!0}isClockwise(){let t=0;const n=this.points,r=n.length;for(let o=0;o<r;o+=2){const u=n[o],h=n[o+1],f=n[(o+2)%r],p=n[(o+3)%r];t+=(f-u)*(p+h)}return t<0}containsPolygon(t){const n=this.getBounds(L1),r=t.getBounds(P1);if(!n.containsRect(r))return!1;const o=t.points;for(let u=0;u<o.length;u+=2){const h=o[u],f=o[u+1];if(!this.contains(h,f))return!1}return!0}clone(){const t=this.points.slice(),n=new Xa(t);return n.closePath=this.closePath,n}contains(t,n){let r=!1;const o=this.points.length/2;for(let u=0,h=o-1;u<o;h=u++){const f=this.points[u*2],p=this.points[u*2+1],m=this.points[h*2],g=this.points[h*2+1];p>n!=g>n&&t<(m-f)*((n-p)/(g-p))+f&&(r=!r)}return r}strokeContains(t,n,r,o=.5){const u=r*r,h=u*(1-o),f=u-h,{points:p}=this,m=p.length-(this.closePath?0:2);for(let g=0;g<m;g+=2){const _=p[g],v=p[g+1],x=p[(g+2)%p.length],S=p[(g+3)%p.length],T=N1(t,n,_,v,x,S),A=Math.sign((x-_)*(n-v)-(S-v)*(t-_));if(T<=(A<0?f:h))return!0}return!1}getBounds(t){t||(t=new qt);const n=this.points;let r=1/0,o=-1/0,u=1/0,h=-1/0;for(let f=0,p=n.length;f<p;f+=2){const m=n[f],g=n[f+1];r=m<r?m:r,o=m>o?m:o,u=g<u?g:u,h=g>h?g:h}return t.x=r,t.width=o-r,t.y=u,t.height=h-u,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,n)=>`${t}, ${n}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const Sl=(a,t,n,r,o,u,h)=>{const f=a-n,p=t-r,m=Math.sqrt(f*f+p*p);return m>=o-u&&m<=o+h};class hh{constructor(t=0,n=0,r=0,o=0,u=20){this.type="roundedRectangle",this.x=t,this.y=n,this.width=r,this.height=o,this.radius=u}getBounds(t){return t||(t=new qt),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new hh(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,n){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||t>=this.x+r&&t<=this.x+this.width-r)return!0;let o=t-(this.x+r),u=n-(this.y+r);const h=r*r;if(o*o+u*u<=h||(o=t-(this.x+this.width-r),o*o+u*u<=h)||(u=n-(this.y+this.height-r),o*o+u*u<=h)||(o=t-(this.x+r),o*o+u*u<=h))return!0}return!1}strokeContains(t,n,r,o=.5){const{x:u,y:h,width:f,height:p,radius:m}=this,g=r*(1-o),_=r-g,v=u+m,x=h+m,S=f-m*2,T=p-m*2,A=u+f,E=h+p;return(t>=u-g&&t<=u+_||t>=A-_&&t<=A+g)&&n>=x&&n<=x+T||(n>=h-g&&n<=h+_||n>=E-_&&n<=E+g)&&t>=v&&t<=v+S?!0:t<v&&n<x&&Sl(t,n,v,x,m,_,g)||t>A-m&&n<x&&Sl(t,n,A-m,x,m,_,g)||t>A-m&&n>E-m&&Sl(t,n,A-m,E-m,m,_,g)||t<v&&n>E-m&&Sl(t,n,v,E-m,m,_,g)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const Uy={};function Y1(a,t,n){let r=2166136261;for(let o=0;o<t;o++)r^=a[o].uid,r=Math.imul(r,16777619),r>>>=0;return Uy[r]||X1(a,t,r,n)}function X1(a,t,n,r){const o={};let u=0;for(let f=0;f<r;f++){const p=f<t?a[f]:ct.EMPTY.source;o[u++]=p.source,o[u++]=p.style}const h=new Cl(o);return Uy[n]=h,h}class $m{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function Jm(a,t){const n=a.byteLength/8|0,r=new Float64Array(a,0,n);new Float64Array(t,0,n).set(r);const u=a.byteLength-n*8;if(u>0){const h=new Uint8Array(a,n*8,u);new Uint8Array(t,n*8,u).set(h)}}const j1={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var V1=(a=>(a[a.DISABLED=0]="DISABLED",a[a.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",a[a.MASK_ACTIVE=2]="MASK_ACTIVE",a[a.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",a[a.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",a[a.NONE=5]="NONE",a))(V1||{});function tg(a,t){return t.alphaMode==="no-premultiply-alpha"&&j1[a]||a}const q1=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function F1(a){let t="";for(let n=0;n<a;++n)n>0&&(t+=`
else `),n<a-1&&(t+=`if(test == ${n}.0){}`);return t}function Z1(a,t){if(a===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=t.createShader(t.FRAGMENT_SHADER);try{for(;;){const r=q1.replace(/%forloop%/gi,F1(a));if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))a=a/2|0;else break}}finally{t.deleteShader(n)}return a}let Ss=null;function Q1(){if(Ss)return Ss;const a=py();return Ss=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),Ss=Z1(Ss,a),a.getExtension("WEBGL_lose_context")?.loseContext(),Ss}class W1{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const n=this.textures[t];this.textures[t]=null,this.ids[n.uid]=null}this.count=0}}class I1{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new W1,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const Gy=[];let Ic=0;function eg(){return Ic>0?Gy[--Ic]:new I1}function ig(a){Gy[Ic++]=a}let Ga=0;const ky=class Hy{constructor(t){this.uid=Ft("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],t={...Hy.defaultOptions,...t},t.maxTextures||(_t("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),t.maxTextures=Q1());const{maxTextures:n,attributesInitialSize:r,indicesInitialSize:o}=t;this.attributeBuffer=new $m(r*4),this.indexBuffer=new Uint16Array(o),this.maxTextures=n}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)ig(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,n){const r=t._batch.textures.ids[n._source.uid];return!r&&r!==0?!1:(t._textureId=r,t.texture=n,!0)}updateElement(t){this.dirty=!0;const n=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,n.float32View,n.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,n.float32View,n.uint32View,t._attributeStart,t._textureId)}break(t){const n=this._elements;if(!n[this.elementStart])return;let r=eg(),o=r.textures;o.clear();const u=n[this.elementStart];let h=tg(u.blendMode,u.texture._source),f=u.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const p=this.attributeBuffer.float32View,m=this.attributeBuffer.uint32View,g=this.indexBuffer;let _=this._batchIndexSize,v=this._batchIndexStart,x="startBatch";const S=this.maxTextures;for(let T=this.elementStart;T<this.elementSize;++T){const A=n[T];n[T]=null;const B=A.texture._source,D=tg(A.blendMode,B),H=h!==D||f!==A.topology;if(B._batchTick===Ga&&!H){A._textureId=B._textureBindLocation,_+=A.indexSize,A.packAsQuad?(this.packQuadAttributes(A,p,m,A._attributeStart,A._textureId),this.packQuadIndex(g,A._indexStart,A._attributeStart/this.vertexSize)):(this.packAttributes(A,p,m,A._attributeStart,A._textureId),this.packIndex(A,g,A._indexStart,A._attributeStart/this.vertexSize)),A._batch=r;continue}B._batchTick=Ga,(o.count>=S||H)&&(this._finishBatch(r,v,_-v,o,h,f,t,x),x="renderBatch",v=_,h=D,f=A.topology,r=eg(),o=r.textures,o.clear(),++Ga),A._textureId=B._textureBindLocation=o.count,o.ids[B.uid]=o.count,o.textures[o.count++]=B,A._batch=r,_+=A.indexSize,A.packAsQuad?(this.packQuadAttributes(A,p,m,A._attributeStart,A._textureId),this.packQuadIndex(g,A._indexStart,A._attributeStart/this.vertexSize)):(this.packAttributes(A,p,m,A._attributeStart,A._textureId),this.packIndex(A,g,A._indexStart,A._attributeStart/this.vertexSize))}o.count>0&&(this._finishBatch(r,v,_-v,o,h,f,t,x),v=_,++Ga),this.elementStart=this.elementSize,this._batchIndexStart=v,this._batchIndexSize=_}_finishBatch(t,n,r,o,u,h,f,p){t.gpuBindGroup=null,t.bindGroup=null,t.action=p,t.batcher=this,t.textures=o,t.blendMode=u,t.topology=h,t.start=n,t.size=r,++Ga,this.batches[this.batchIndex++]=t,f.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const n=Math.max(t,this.attributeBuffer.size*2),r=new $m(n);Jm(this.attributeBuffer.rawBinaryData,r.rawBinaryData),this.attributeBuffer=r}_resizeIndexBuffer(t){const n=this.indexBuffer;let r=Math.max(t,n.length*1.5);r+=r%2;const o=r>65535?new Uint32Array(r):new Uint16Array(r);if(o.BYTES_PER_ELEMENT!==n.BYTES_PER_ELEMENT)for(let u=0;u<n.length;u++)o[u]=n[u];else Jm(n.buffer,o.buffer);this.indexBuffer=o}packQuadIndex(t,n,r){t[n]=r+0,t[n+1]=r+1,t[n+2]=r+2,t[n+3]=r+0,t[n+4]=r+2,t[n+5]=r+3}packIndex(t,n,r,o){const u=t.indices,h=t.indexSize,f=t.indexOffset,p=t.attributeOffset;for(let m=0;m<h;m++)n[r++]=o+u[m+f]-p}destroy(){for(let t=0;t<this.batches.length;t++)ig(this.batches[t]);this.batches=null;for(let t=0;t<this._elements.length;t++)this._elements[t]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};ky.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let K1=ky;var ve=(a=>(a[a.MAP_READ=1]="MAP_READ",a[a.MAP_WRITE=2]="MAP_WRITE",a[a.COPY_SRC=4]="COPY_SRC",a[a.COPY_DST=8]="COPY_DST",a[a.INDEX=16]="INDEX",a[a.VERTEX=32]="VERTEX",a[a.UNIFORM=64]="UNIFORM",a[a.STORAGE=128]="STORAGE",a[a.INDIRECT=256]="INDIRECT",a[a.QUERY_RESOLVE=512]="QUERY_RESOLVE",a[a.STATIC=1024]="STATIC",a))(ve||{});class Za extends ei{constructor(t){let{data:n,size:r}=t;const{usage:o,label:u,shrinkToFit:h}=t;super(),this.uid=Ft("buffer"),this._resourceType="buffer",this._resourceId=Ft("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,n instanceof Array&&(n=new Float32Array(n)),this._data=n,r??(r=n?.byteLength);const f=!!n;this.descriptor={size:r,usage:o,mappedAtCreation:f,label:u},this.shrinkToFit=h??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&ve.STATIC)}set static(t){t?this.descriptor.usage|=ve.STATIC:this.descriptor.usage&=~ve.STATIC}setDataWithSize(t,n,r){if(this._updateID++,this._updateSize=n*t.BYTES_PER_ELEMENT,this._data===t){r&&this.emit("update",this);return}const o=this._data;if(this._data=t,this._dataInt32=null,!o||o.length!==t.length){!this.shrinkToFit&&o&&t.byteLength<o.byteLength?r&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=Ft("resource"),this.emit("change",this));return}r&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function Ny(a,t){if(!(a instanceof Za)){let n=t?ve.INDEX:ve.VERTEX;a instanceof Array&&(t?(a=new Uint32Array(a),n=ve.INDEX|ve.COPY_DST):(a=new Float32Array(a),n=ve.VERTEX|ve.COPY_DST)),a=new Za({data:a,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:n})}return a}function $1(a,t,n){const r=a.getAttribute(t);if(!r)return n.minX=0,n.minY=0,n.maxX=0,n.maxY=0,n;const o=r.buffer.data;let u=1/0,h=1/0,f=-1/0,p=-1/0;const m=o.BYTES_PER_ELEMENT,g=(r.offset||0)/m,_=(r.stride||2*4)/m;for(let v=g;v<o.length;v+=_){const x=o[v],S=o[v+1];x>f&&(f=x),S>p&&(p=S),x<u&&(u=x),S<h&&(h=S)}return n.minX=u,n.minY=h,n.maxX=f,n.maxY=p,n}function J1(a){return(a instanceof Za||Array.isArray(a)||a.BYTES_PER_ELEMENT)&&(a={buffer:a}),a.buffer=Ny(a.buffer,!1),a}class tv extends ei{constructor(t={}){super(),this.uid=Ft("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new ti,this._boundsDirty=!0;const{attributes:n,indexBuffer:r,topology:o}=t;if(this.buffers=[],this.attributes={},n)for(const u in n)this.addAttribute(u,n[u]);this.instanceCount=t.instanceCount??1,r&&this.addIndex(r),this.topology=o||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const n=this.attributes[t];return n.buffer.data.length/(n.stride/4||n.size)}return 0}addAttribute(t,n){const r=J1(n);this.buffers.indexOf(r.buffer)===-1&&(this.buffers.push(r.buffer),r.buffer.on("update",this.onBufferUpdate,this),r.buffer.on("change",this.onBufferUpdate,this)),this.attributes[t]=r}addIndex(t){this.indexBuffer=Ny(t,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,$1(this,"aPosition",this._bounds)):this._bounds}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(n=>n.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const ev=new Float32Array(1),iv=new Uint32Array(1);class nv extends tv{constructor(){const n=new Za({data:ev,label:"attribute-batch-buffer",usage:ve.VERTEX|ve.COPY_DST,shrinkToFit:!1}),r=new Za({data:iv,label:"index-batch-buffer",usage:ve.INDEX|ve.COPY_DST,shrinkToFit:!1}),o=6*4;super({attributes:{aPosition:{buffer:n,format:"float32x2",stride:o,offset:0},aUV:{buffer:n,format:"float32x2",stride:o,offset:2*4},aColor:{buffer:n,format:"unorm8x4",stride:o,offset:4*4},aTextureIdAndRound:{buffer:n,format:"uint16x2",stride:o,offset:5*4}},indexBuffer:r})}}function ng(a,t,n){if(a)for(const r in a){const o=r.toLocaleLowerCase(),u=t[o];if(u){let h=a[r];r==="header"&&(h=h.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),n&&u.push(`//----${n}----//`),u.push(h)}else Dt(`${r} placement hook does not exist in shader`)}}const sv=/\{\{(.*?)\}\}/g;function sg(a){const t={};return(a.match(sv)?.map(r=>r.replace(/[{()}]/g,""))??[]).forEach(r=>{t[r]=[]}),t}function ag(a,t){let n;const r=/@in\s+([^;]+);/g;for(;(n=r.exec(a))!==null;)t.push(n[1])}function rg(a,t,n=!1){const r=[];ag(t,r),a.forEach(f=>{f.header&&ag(f.header,r)});const o=r;n&&o.sort();const u=o.map((f,p)=>`       @location(${p}) ${f},`).join(`
`);let h=t.replace(/@in\s+[^;]+;\s*/g,"");return h=h.replace("{{in}}",`
${u}
`),h}function lg(a,t){let n;const r=/@out\s+([^;]+);/g;for(;(n=r.exec(a))!==null;)t.push(n[1])}function av(a){const n=/\b(\w+)\s*:/g.exec(a);return n?n[1]:""}function rv(a){const t=/@.*?\s+/g;return a.replace(t,"")}function lv(a,t){const n=[];lg(t,n),a.forEach(p=>{p.header&&lg(p.header,n)});let r=0;const o=n.sort().map(p=>p.indexOf("builtin")>-1?p:`@location(${r++}) ${p}`).join(`,
`),u=n.sort().map(p=>`       var ${rv(p)};`).join(`
`),h=`return VSOutput(
            ${n.sort().map(p=>` ${av(p)}`).join(`,
`)});`;let f=t.replace(/@out\s+[^;]+;\s*/g,"");return f=f.replace("{{struct}}",`
${o}
`),f=f.replace("{{start}}",`
${u}
`),f=f.replace("{{return}}",`
${h}
`),f}function og(a,t){let n=a;for(const r in t){const o=t[r];o.join(`
`).length?n=n.replace(`{{${r}}}`,`//-----${r} START-----//
${o.join(`
`)}
//----${r} FINISH----//`):n=n.replace(`{{${r}}}`,"")}return n}const on=Object.create(null),Cc=new Map;let ov=0;function uv({template:a,bits:t}){const n=Ly(a,t);if(on[n])return on[n];const{vertex:r,fragment:o}=hv(a,t);return on[n]=Py(r,o,t),on[n]}function cv({template:a,bits:t}){const n=Ly(a,t);return on[n]||(on[n]=Py(a.vertex,a.fragment,t)),on[n]}function hv(a,t){const n=t.map(h=>h.vertex).filter(h=>!!h),r=t.map(h=>h.fragment).filter(h=>!!h);let o=rg(n,a.vertex,!0);o=lv(n,o);const u=rg(r,a.fragment,!0);return{vertex:o,fragment:u}}function Ly(a,t){return t.map(n=>(Cc.has(n)||Cc.set(n,ov++),Cc.get(n))).sort((n,r)=>n-r).join("-")+a.vertex+a.fragment}function Py(a,t,n){const r=sg(a),o=sg(t);return n.forEach(u=>{ng(u.vertex,r,u.name),ng(u.fragment,o,u.name)}),{vertex:og(a,r),fragment:og(t,o)}}const fv=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,dv=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,pv=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,mv=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,gv={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},yv={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function _v({bits:a,name:t}){const n=uv({template:{fragment:dv,vertex:fv},bits:[gv,...a]});return Hl.from({name:t,vertex:{source:n.vertex,entryPoint:"main"},fragment:{source:n.fragment,entryPoint:"main"}})}function xv({bits:a,name:t}){return new gy({name:t,...cv({template:{vertex:pv,fragment:mv},bits:[yv,...a]})})}const bv={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},vv={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},Ec={};function Sv(a){const t=[];if(a===1)t.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),t.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let n=0;for(let r=0;r<a;r++)t.push(`@group(1) @binding(${n++}) var textureSource${r+1}: texture_2d<f32>;`),t.push(`@group(1) @binding(${n++}) var textureSampler${r+1}: sampler;`)}return t.join(`
`)}function Av(a){const t=[];if(a===1)t.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{t.push("switch vTextureId {");for(let n=0;n<a;n++)n===a-1?t.push("  default:{"):t.push(`  case ${n}:{`),t.push(`      outColor = textureSampleGrad(textureSource${n+1}, textureSampler${n+1}, vUV, uvDx, uvDy);`),t.push("      break;}");t.push("}")}return t.join(`
`)}function wv(a){return Ec[a]||(Ec[a]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${Sv(a)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${Av(a)}
            `}}),Ec[a]}const Rc={};function Tv(a){const t=[];for(let n=0;n<a;n++)n>0&&t.push("else"),n<a-1&&t.push(`if(vTextureId < ${n}.5)`),t.push("{"),t.push(`	outColor = texture(uTextures[${n}], vUV);`),t.push("}");return t.join(`
`)}function Mv(a){return Rc[a]||(Rc[a]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${a}];

            `,main:`

                ${Tv(a)}
            `}}),Rc[a]}const Cv={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},Ev={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},ug={};function Rv(a){let t=ug[a];if(t)return t;const n=new Int32Array(a);for(let r=0;r<a;r++)n[r]=r;return t=ug[a]=new by({uTextures:{value:n,type:"i32",size:a}},{isStatic:!0}),t}class Bv extends lh{constructor(t){const n=xv({name:"batch",bits:[vv,Mv(t),Ev]}),r=_v({name:"batch",bits:[bv,wv(t),Cv]});super({glProgram:n,gpuProgram:r,resources:{batchSamplers:Rv(t)}})}}let Bc=null;const Yy=class Xy extends K1{constructor(t){super(t),this.geometry=new nv,this.name=Xy.extension.name,this.vertexSize=6,Bc??(Bc=new Bv(t.maxTextures)),this.shader=Bc}packAttributes(t,n,r,o,u){const h=u<<16|t.roundPixels&65535,f=t.transform,p=f.a,m=f.b,g=f.c,_=f.d,v=f.tx,x=f.ty,{positions:S,uvs:T}=t,A=t.color,E=t.attributeOffset,B=E+t.attributeSize;for(let D=E;D<B;D++){const H=D*2,X=S[H],j=S[H+1];n[o++]=p*X+g*j+v,n[o++]=_*j+m*X+x,n[o++]=T[H],n[o++]=T[H+1],r[o++]=A,r[o++]=h}}packQuadAttributes(t,n,r,o,u){const h=t.texture,f=t.transform,p=f.a,m=f.b,g=f.c,_=f.d,v=f.tx,x=f.ty,S=t.bounds,T=S.maxX,A=S.minX,E=S.maxY,B=S.minY,D=h.uvs,H=t.color,X=u<<16|t.roundPixels&65535;n[o+0]=p*A+g*B+v,n[o+1]=_*B+m*A+x,n[o+2]=D.x0,n[o+3]=D.y0,r[o+4]=H,r[o+5]=X,n[o+6]=p*T+g*B+v,n[o+7]=_*B+m*T+x,n[o+8]=D.x1,n[o+9]=D.y1,r[o+10]=H,r[o+11]=X,n[o+12]=p*T+g*E+v,n[o+13]=_*E+m*T+x,n[o+14]=D.x2,n[o+15]=D.y2,r[o+16]=H,r[o+17]=X,n[o+18]=p*A+g*E+v,n[o+19]=_*E+m*A+x,n[o+20]=D.x3,n[o+21]=D.y3,r[o+22]=H,r[o+23]=X}};Yy.extension={type:[tt.Batcher],name:"default"};let zv=Yy;function Ov(a,t,n,r,o,u,h,f=null){let p=0;n*=t,o*=u;const m=f.a,g=f.b,_=f.c,v=f.d,x=f.tx,S=f.ty;for(;p<h;){const T=a[n],A=a[n+1];r[o]=m*T+_*A+x,r[o+1]=g*T+v*A+S,o+=u,n+=t,p++}}function Dv(a,t,n,r){let o=0;for(t*=n;o<r;)a[t]=0,a[t+1]=0,t+=n,o++}function jy(a,t,n,r,o){const u=t.a,h=t.b,f=t.c,p=t.d,m=t.tx,g=t.ty;n||(n=0),r||(r=2),o||(o=a.length/r-n);let _=n*r;for(let v=0;v<o;v++){const x=a[_],S=a[_+1];a[_]=u*x+f*S+m,a[_+1]=h*x+p*S+g,_+=r}}const Uv=new yt;class Vy{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const t=this.baseColor,n=t>>16|t&65280|(t&255)<<16,r=this.renderable;return r?Wg(n,r.groupColor)+(this.alpha*r.groupAlpha*255<<24):n+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||Uv}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData,t.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}const Qa={extension:{type:tt.ShapeBuilder,name:"circle"},build(a,t){let n,r,o,u,h,f;if(a.type==="circle"){const H=a;if(h=f=H.radius,h<=0)return!1;n=H.x,r=H.y,o=u=0}else if(a.type==="ellipse"){const H=a;if(h=H.halfWidth,f=H.halfHeight,h<=0||f<=0)return!1;n=H.x,r=H.y,o=u=0}else{const H=a,X=H.width/2,j=H.height/2;n=H.x+X,r=H.y+j,h=f=Math.max(0,Math.min(H.radius,Math.min(X,j))),o=X-h,u=j-f}if(o<0||u<0)return!1;const p=Math.ceil(2.3*Math.sqrt(h+f)),m=p*8+(o?4:0)+(u?4:0);if(m===0)return!1;if(p===0)return t[0]=t[6]=n+o,t[1]=t[3]=r+u,t[2]=t[4]=n-o,t[5]=t[7]=r-u,!0;let g=0,_=p*4+(o?2:0)+2,v=_,x=m,S=o+h,T=u,A=n+S,E=n-S,B=r+T;if(t[g++]=A,t[g++]=B,t[--_]=B,t[--_]=E,u){const H=r-T;t[v++]=E,t[v++]=H,t[--x]=H,t[--x]=A}for(let H=1;H<p;H++){const X=Math.PI/2*(H/p),j=o+Math.cos(X)*h,V=u+Math.sin(X)*f,it=n+j,$=n-j,Q=r+V,W=r-V;t[g++]=it,t[g++]=Q,t[--_]=Q,t[--_]=$,t[v++]=$,t[v++]=W,t[--x]=W,t[--x]=it}S=o,T=u+f,A=n+S,E=n-S,B=r+T;const D=r-T;return t[g++]=A,t[g++]=B,t[--x]=D,t[--x]=A,o&&(t[g++]=E,t[g++]=B,t[--x]=D,t[--x]=E),!0},triangulate(a,t,n,r,o,u){if(a.length===0)return;let h=0,f=0;for(let g=0;g<a.length;g+=2)h+=a[g],f+=a[g+1];h/=a.length/2,f/=a.length/2;let p=r;t[p*n]=h,t[p*n+1]=f;const m=p++;for(let g=0;g<a.length;g+=2)t[p*n]=a[g],t[p*n+1]=a[g+1],g>0&&(o[u++]=p,o[u++]=m,o[u++]=p-1),p++;o[u++]=m+1,o[u++]=m,o[u++]=p-1}},Gv={...Qa,extension:{...Qa.extension,name:"ellipse"}},kv={...Qa,extension:{...Qa.extension,name:"roundedRectangle"}},qy=1e-4,cg=1e-4;function Hv(a){const t=a.length;if(t<6)return 1;let n=0;for(let r=0,o=a[t-2],u=a[t-1];r<t;r+=2){const h=a[r],f=a[r+1];n+=(h-o)*(f+u),o=h,u=f}return n<0?-1:1}function hg(a,t,n,r,o,u,h,f){const p=a-n*o,m=t-r*o,g=a+n*u,_=t+r*u;let v,x;h?(v=r,x=-n):(v=-r,x=n);const S=p+v,T=m+x,A=g+v,E=_+x;return f.push(S,T),f.push(A,E),2}function Rn(a,t,n,r,o,u,h,f){const p=n-a,m=r-t;let g=Math.atan2(p,m),_=Math.atan2(o-a,u-t);f&&g<_?g+=Math.PI*2:!f&&g>_&&(_+=Math.PI*2);let v=g;const x=_-g,S=Math.abs(x),T=Math.sqrt(p*p+m*m),A=(15*S*Math.sqrt(T)/Math.PI>>0)+1,E=x/A;if(v+=E,f){h.push(a,t),h.push(n,r);for(let B=1,D=v;B<A;B++,D+=E)h.push(a,t),h.push(a+Math.sin(D)*T,t+Math.cos(D)*T);h.push(a,t),h.push(o,u)}else{h.push(n,r),h.push(a,t);for(let B=1,D=v;B<A;B++,D+=E)h.push(a+Math.sin(D)*T,t+Math.cos(D)*T),h.push(a,t);h.push(o,u),h.push(a,t)}return A*2}function Nv(a,t,n,r,o,u){const h=qy;if(a.length===0)return;const f=t;let p=f.alignment;if(t.alignment!==.5){let nt=Hv(a);p=(p-.5)*nt+.5}const m=new ae(a[0],a[1]),g=new ae(a[a.length-2],a[a.length-1]),_=r,v=Math.abs(m.x-g.x)<h&&Math.abs(m.y-g.y)<h;if(_){a=a.slice(),v&&(a.pop(),a.pop(),g.set(a[a.length-2],a[a.length-1]));const nt=(m.x+g.x)*.5,M=(g.y+m.y)*.5;a.unshift(nt,M),a.push(nt,M)}const x=o,S=a.length/2;let T=a.length;const A=x.length/2,E=f.width/2,B=E*E,D=f.miterLimit*f.miterLimit;let H=a[0],X=a[1],j=a[2],V=a[3],it=0,$=0,Q=-(X-V),W=H-j,ht=0,St=0,Nt=Math.sqrt(Q*Q+W*W);Q/=Nt,W/=Nt,Q*=E,W*=E;const Lt=p,z=(1-Lt)*2,P=Lt*2;_||(f.cap==="round"?T+=Rn(H-Q*(z-P)*.5,X-W*(z-P)*.5,H-Q*z,X-W*z,H+Q*P,X+W*P,x,!0)+2:f.cap==="square"&&(T+=hg(H,X,Q,W,z,P,!0,x))),x.push(H-Q*z,X-W*z),x.push(H+Q*P,X+W*P);for(let nt=1;nt<S-1;++nt){H=a[(nt-1)*2],X=a[(nt-1)*2+1],j=a[nt*2],V=a[nt*2+1],it=a[(nt+1)*2],$=a[(nt+1)*2+1],Q=-(X-V),W=H-j,Nt=Math.sqrt(Q*Q+W*W),Q/=Nt,W/=Nt,Q*=E,W*=E,ht=-(V-$),St=j-it,Nt=Math.sqrt(ht*ht+St*St),ht/=Nt,St/=Nt,ht*=E,St*=E;const M=j-H,q=X-V,Z=j-it,F=$-V,et=M*Z+q*F,pt=q*Z-F*M,rt=pt<0;if(Math.abs(pt)<.001*Math.abs(et)){x.push(j-Q*z,V-W*z),x.push(j+Q*P,V+W*P),et>=0&&(f.join==="round"?T+=Rn(j,V,j-Q*z,V-W*z,j-ht*z,V-St*z,x,!1)+4:T+=2,x.push(j-ht*P,V-St*P),x.push(j+ht*z,V+St*z));continue}const ce=(-Q+H)*(-W+V)-(-Q+j)*(-W+X),Rt=(-ht+it)*(-St+V)-(-ht+j)*(-St+$),Se=(M*Rt-Z*ce)/pt,Ui=(F*ce-q*Rt)/pt,Gi=(Se-j)*(Se-j)+(Ui-V)*(Ui-V),Fe=j+(Se-j)*z,Ze=V+(Ui-V)*z,Qe=j-(Se-j)*P,hi=V-(Ui-V)*P,Pl=Math.min(M*M+q*q,Z*Z+F*F),Ae=rt?z:P,Yl=Pl+Ae*Ae*B;Gi<=Yl?f.join==="bevel"||Gi/B>D?(rt?(x.push(Fe,Ze),x.push(j+Q*P,V+W*P),x.push(Fe,Ze),x.push(j+ht*P,V+St*P)):(x.push(j-Q*z,V-W*z),x.push(Qe,hi),x.push(j-ht*z,V-St*z),x.push(Qe,hi)),T+=2):f.join==="round"?rt?(x.push(Fe,Ze),x.push(j+Q*P,V+W*P),T+=Rn(j,V,j+Q*P,V+W*P,j+ht*P,V+St*P,x,!0)+4,x.push(Fe,Ze),x.push(j+ht*P,V+St*P)):(x.push(j-Q*z,V-W*z),x.push(Qe,hi),T+=Rn(j,V,j-Q*z,V-W*z,j-ht*z,V-St*z,x,!1)+4,x.push(j-ht*z,V-St*z),x.push(Qe,hi)):(x.push(Fe,Ze),x.push(Qe,hi)):(x.push(j-Q*z,V-W*z),x.push(j+Q*P,V+W*P),f.join==="round"?rt?T+=Rn(j,V,j+Q*P,V+W*P,j+ht*P,V+St*P,x,!0)+2:T+=Rn(j,V,j-Q*z,V-W*z,j-ht*z,V-St*z,x,!1)+2:f.join==="miter"&&Gi/B<=D&&(rt?(x.push(Qe,hi),x.push(Qe,hi)):(x.push(Fe,Ze),x.push(Fe,Ze)),T+=2),x.push(j-ht*z,V-St*z),x.push(j+ht*P,V+St*P),T+=2)}H=a[(S-2)*2],X=a[(S-2)*2+1],j=a[(S-1)*2],V=a[(S-1)*2+1],Q=-(X-V),W=H-j,Nt=Math.sqrt(Q*Q+W*W),Q/=Nt,W/=Nt,Q*=E,W*=E,x.push(j-Q*z,V-W*z),x.push(j+Q*P,V+W*P),_||(f.cap==="round"?T+=Rn(j-Q*(z-P)*.5,V-W*(z-P)*.5,j-Q*z,V-W*z,j+Q*P,V+W*P,x,!1)+2:f.cap==="square"&&(T+=hg(j,V,Q,W,z,P,!1,x)));const st=cg*cg;for(let nt=A;nt<T+A-2;++nt)H=x[nt*2],X=x[nt*2+1],j=x[(nt+1)*2],V=x[(nt+1)*2+1],it=x[(nt+2)*2],$=x[(nt+2)*2+1],!(Math.abs(H*(V-$)+j*($-X)+it*(X-V))<st)&&u.push(nt,nt+1,nt+2)}function Lv(a,t,n,r){const o=qy;if(a.length===0)return;const u=a[0],h=a[1],f=a[a.length-2],p=a[a.length-1],m=t||Math.abs(u-f)<o&&Math.abs(h-p)<o,g=n,_=a.length/2,v=g.length/2;for(let x=0;x<_;x++)g.push(a[x*2]),g.push(a[x*2+1]);for(let x=0;x<_-1;x++)r.push(v+x,v+x+1);m&&r.push(v+_-1,v)}function Fy(a,t,n,r,o,u,h){const f=T1(a,t,2);if(!f)return;for(let m=0;m<f.length;m+=3)u[h++]=f[m]+o,u[h++]=f[m+1]+o,u[h++]=f[m+2]+o;let p=o*r;for(let m=0;m<a.length;m+=2)n[p]=a[m],n[p+1]=a[m+1],p+=r}const Pv=[],Yv={extension:{type:tt.ShapeBuilder,name:"polygon"},build(a,t){for(let n=0;n<a.points.length;n++)t[n]=a.points[n];return!0},triangulate(a,t,n,r,o,u){Fy(a,Pv,t,n,r,o,u)}},Xv={extension:{type:tt.ShapeBuilder,name:"rectangle"},build(a,t){const n=a,r=n.x,o=n.y,u=n.width,h=n.height;return u>0&&h>0?(t[0]=r,t[1]=o,t[2]=r+u,t[3]=o,t[4]=r+u,t[5]=o+h,t[6]=r,t[7]=o+h,!0):!1},triangulate(a,t,n,r,o,u){let h=0;r*=n,t[r+h]=a[0],t[r+h+1]=a[1],h+=n,t[r+h]=a[2],t[r+h+1]=a[3],h+=n,t[r+h]=a[6],t[r+h+1]=a[7],h+=n,t[r+h]=a[4],t[r+h+1]=a[5],h+=n;const f=r/n;o[u++]=f,o[u++]=f+1,o[u++]=f+2,o[u++]=f+1,o[u++]=f+3,o[u++]=f+2}},jv={extension:{type:tt.ShapeBuilder,name:"triangle"},build(a,t){return t[0]=a.x,t[1]=a.y,t[2]=a.x2,t[3]=a.y2,t[4]=a.x3,t[5]=a.y3,!0},triangulate(a,t,n,r,o,u){let h=0;r*=n,t[r+h]=a[0],t[r+h+1]=a[1],h+=n,t[r+h]=a[2],t[r+h+1]=a[3],h+=n,t[r+h]=a[4],t[r+h+1]=a[5];const f=r/n;o[u++]=f,o[u++]=f+1,o[u++]=f+2}},Vv=new yt,qv=new qt;function Fv(a,t,n,r){const o=t.matrix?a.copyFrom(t.matrix).invert():a.identity();if(t.textureSpace==="local"){const h=n.getBounds(qv);t.width&&h.pad(t.width);const{x:f,y:p}=h,m=1/h.width,g=1/h.height,_=-f*m,v=-p*g,x=o.a,S=o.b,T=o.c,A=o.d;o.a*=m,o.b*=m,o.c*=g,o.d*=g,o.tx=_*x+v*T+o.tx,o.ty=_*S+v*A+o.ty}else o.translate(t.texture.frame.x,t.texture.frame.y),o.scale(1/t.texture.source.width,1/t.texture.source.height);const u=t.texture.source.style;return!(t.fill instanceof Oi)&&u.addressMode==="clamp-to-edge"&&(u.addressMode="repeat",u.update()),r&&o.append(Vv.copyFrom(r).invert()),o}const Ll={};ue.handleByMap(tt.ShapeBuilder,Ll);ue.add(Xv,Yv,jv,Qa,Gv,kv);const Zv=new qt,Qv=new yt;function Wv(a,t){const{geometryData:n,batches:r}=t;r.length=0,n.indices.length=0,n.vertices.length=0,n.uvs.length=0;for(let o=0;o<a.instructions.length;o++){const u=a.instructions[o];if(u.action==="texture")Iv(u.data,r,n);else if(u.action==="fill"||u.action==="stroke"){const h=u.action==="stroke",f=u.data.path.shapePath,p=u.data.style,m=u.data.hole;h&&m&&fg(m.shapePath,p,!0,r,n),m&&(f.shapePrimitives[f.shapePrimitives.length-1].holes=m.shapePath.shapePrimitives),fg(f,p,h,r,n)}}}function Iv(a,t,n){const r=[],o=Ll.rectangle,u=Zv;u.x=a.dx,u.y=a.dy,u.width=a.dw,u.height=a.dh;const h=a.transform;if(!o.build(u,r))return;const{vertices:f,uvs:p,indices:m}=n,g=m.length,_=f.length/2;h&&jy(r,h),o.triangulate(r,f,2,_,m,g);const v=a.image,x=v.uvs;p.push(x.x0,x.y0,x.x1,x.y1,x.x3,x.y3,x.x2,x.y2);const S=Bi.get(Vy);S.indexOffset=g,S.indexSize=m.length-g,S.attributeOffset=_,S.attributeSize=f.length/2-_,S.baseColor=a.style,S.alpha=a.alpha,S.texture=v,S.geometryData=n,t.push(S)}function fg(a,t,n,r,o){const{vertices:u,uvs:h,indices:f}=o;a.shapePrimitives.forEach(({shape:p,transform:m,holes:g})=>{const _=[],v=Ll[p.type];if(!v.build(p,_))return;const x=f.length,S=u.length/2;let T="triangle-list";if(m&&jy(_,m),n){const D=p.closePath??!0,H=t;H.pixelLine?(Lv(_,D,u,f),T="line-list"):Nv(_,H,!1,D,u,f)}else if(g){const D=[],H=_.slice();Kv(g).forEach(j=>{D.push(H.length/2),H.push(...j)}),Fy(H,D,u,2,S,f,x)}else v.triangulate(_,u,2,S,f,x);const A=h.length/2,E=t.texture;if(E!==ct.WHITE){const D=Fv(Qv,t,p,m);Ov(u,2,S,h,A,2,u.length/2-S,D)}else Dv(h,A,2,u.length/2-S);const B=Bi.get(Vy);B.indexOffset=x,B.indexSize=f.length-x,B.attributeOffset=S,B.attributeSize=u.length/2-S,B.baseColor=t.color,B.alpha=t.alpha,B.texture=E,B.geometryData=o,B.topology=T,r.push(B)})}function Kv(a){const t=[];for(let n=0;n<a.length;n++){const r=a[n].shape,o=[];Ll[r.type].build(r,o)&&t.push(o)}return t}class $v{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class Jv{constructor(){this.instructions=new Jg}init(t){this.batcher=new zv({maxTextures:t}),this.instructions.reset()}get geometry(){return _t(Ix,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const fh=class Kc{constructor(t){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=t,t.renderableGC.addManagedHash(this,"_gpuContextHash"),t.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(t){Kc.defaultOptions.bezierSmoothness=t?.bezierSmoothness??Kc.defaultOptions.bezierSmoothness}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let n=this._gpuContextHash[t.uid]||this._initContext(t);if(t.dirty){n?this._cleanGraphicsContextData(t):n=this._initContext(t),Wv(t,n);const r=t.batchMode;t.customShader||r==="no-batch"?n.isBatchable=!1:r==="auto"?n.isBatchable=n.geometryData.vertices.length<400:n.isBatchable=!0,t.dirty=!1}return n}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_initContextRenderData(t){const n=Bi.get(Jv,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:r,geometryData:o}=this._gpuContextHash[t.uid],u=o.vertices.length,h=o.indices.length;for(let g=0;g<r.length;g++)r[g].applyTransform=!1;const f=n.batcher;f.ensureAttributeBuffer(u),f.ensureIndexBuffer(h),f.begin();for(let g=0;g<r.length;g++){const _=r[g];f.add(_)}f.finish(n.instructions);const p=f.geometry;p.indexBuffer.setDataWithSize(f.indexBuffer,f.indexSize,!0),p.buffers[0].setDataWithSize(f.attributeBuffer.float32View,f.attributeSize,!0);const m=f.batches;for(let g=0;g<m.length;g++){const _=m[g];_.bindGroup=Y1(_.textures.textures,_.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[t.uid]=n,n}_initContext(t){const n=new $v;return n.context=t,this._gpuContextHash[t.uid]=n,t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){const n=this._gpuContextHash[t.uid];n.isBatchable||this._graphicsDataContextHash[t.uid]&&(Bi.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),n.batches&&n.batches.forEach(r=>{Bi.return(r)})}destroy(){for(const t in this._gpuContextHash)this._gpuContextHash[t]&&this.onGraphicsContextDestroy(this._gpuContextHash[t].context)}};fh.extension={type:[tt.WebGLSystem,tt.WebGPUSystem,tt.CanvasSystem],name:"graphicsContext"};fh.defaultOptions={bezierSmoothness:.5};let Zy=fh;const tS=8,Al=11920929e-14,eS=1;function Qy(a,t,n,r,o,u,h,f,p,m){const _=Math.min(.99,Math.max(0,m??Zy.defaultOptions.bezierSmoothness));let v=(eS-_)/1;return v*=v,iS(t,n,r,o,u,h,f,p,a,v),a}function iS(a,t,n,r,o,u,h,f,p,m){$c(a,t,n,r,o,u,h,f,p,m,0),p.push(h,f)}function $c(a,t,n,r,o,u,h,f,p,m,g){if(g>tS)return;const _=(a+n)/2,v=(t+r)/2,x=(n+o)/2,S=(r+u)/2,T=(o+h)/2,A=(u+f)/2,E=(_+x)/2,B=(v+S)/2,D=(x+T)/2,H=(S+A)/2,X=(E+D)/2,j=(B+H)/2;if(g>0){let V=h-a,it=f-t;const $=Math.abs((n-h)*it-(r-f)*V),Q=Math.abs((o-h)*it-(u-f)*V);if($>Al&&Q>Al){if(($+Q)*($+Q)<=m*(V*V+it*it)){p.push(X,j);return}}else if($>Al){if($*$<=m*(V*V+it*it)){p.push(X,j);return}}else if(Q>Al){if(Q*Q<=m*(V*V+it*it)){p.push(X,j);return}}else if(V=X-(a+h)/2,it=j-(t+f)/2,V*V+it*it<=m){p.push(X,j);return}}$c(a,t,_,v,E,B,X,j,p,m,g+1),$c(X,j,D,H,T,A,h,f,p,m,g+1)}const nS=8,sS=11920929e-14,aS=1;function rS(a,t,n,r,o,u,h,f){const m=Math.min(.99,Math.max(0,f??Zy.defaultOptions.bezierSmoothness));let g=(aS-m)/1;return g*=g,lS(t,n,r,o,u,h,a,g),a}function lS(a,t,n,r,o,u,h,f){Jc(h,a,t,n,r,o,u,f,0),h.push(o,u)}function Jc(a,t,n,r,o,u,h,f,p){if(p>nS)return;const m=(t+r)/2,g=(n+o)/2,_=(r+u)/2,v=(o+h)/2,x=(m+_)/2,S=(g+v)/2;let T=u-t,A=h-n;const E=Math.abs((r-u)*A-(o-h)*T);if(E>sS){if(E*E<=f*(T*T+A*A)){a.push(x,S);return}}else if(T=x-(t+u)/2,A=S-(n+h)/2,T*T+A*A<=f){a.push(x,S);return}Jc(a,t,n,m,g,x,S,f,p+1),Jc(a,x,S,_,v,u,h,f,p+1)}function Wy(a,t,n,r,o,u,h,f){let p=Math.abs(o-u);(!h&&o>u||h&&u>o)&&(p=2*Math.PI-p),f||(f=Math.max(6,Math.floor(6*Math.pow(r,1/3)*(p/Math.PI)))),f=Math.max(f,3);let m=p/f,g=o;m*=h?-1:1;for(let _=0;_<f+1;_++){const v=Math.cos(g),x=Math.sin(g),S=t+v*r,T=n+x*r;a.push(S,T),g+=m}}function oS(a,t,n,r,o,u){const h=a[a.length-2],p=a[a.length-1]-n,m=h-t,g=o-n,_=r-t,v=Math.abs(p*_-m*g);if(v<1e-8||u===0){(a[a.length-2]!==t||a[a.length-1]!==n)&&a.push(t,n);return}const x=p*p+m*m,S=g*g+_*_,T=p*g+m*_,A=u*Math.sqrt(x)/v,E=u*Math.sqrt(S)/v,B=A*T/x,D=E*T/S,H=A*_+E*m,X=A*g+E*p,j=m*(E+B),V=p*(E+B),it=_*(A+D),$=g*(A+D),Q=Math.atan2(V-X,j-H),W=Math.atan2($-X,it-H);Wy(a,H+t,X+n,u,Q,W,m*g>_*p)}const ja=Math.PI*2,zc={centerX:0,centerY:0,ang1:0,ang2:0},Oc=({x:a,y:t},n,r,o,u,h,f,p)=>{a*=n,t*=r;const m=o*a-u*t,g=u*a+o*t;return p.x=m+h,p.y=g+f,p};function uS(a,t){const n=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),r=t===1.5707963267948966?.551915024494:n,o=Math.cos(a),u=Math.sin(a),h=Math.cos(a+t),f=Math.sin(a+t);return[{x:o-u*r,y:u+o*r},{x:h+f*r,y:f-h*r},{x:h,y:f}]}const dg=(a,t,n,r)=>{const o=a*r-t*n<0?-1:1;let u=a*n+t*r;return u>1&&(u=1),u<-1&&(u=-1),o*Math.acos(u)},cS=(a,t,n,r,o,u,h,f,p,m,g,_,v)=>{const x=Math.pow(o,2),S=Math.pow(u,2),T=Math.pow(g,2),A=Math.pow(_,2);let E=x*S-x*A-S*T;E<0&&(E=0),E/=x*A+S*T,E=Math.sqrt(E)*(h===f?-1:1);const B=E*o/u*_,D=E*-u/o*g,H=m*B-p*D+(a+n)/2,X=p*B+m*D+(t+r)/2,j=(g-B)/o,V=(_-D)/u,it=(-g-B)/o,$=(-_-D)/u,Q=dg(1,0,j,V);let W=dg(j,V,it,$);f===0&&W>0&&(W-=ja),f===1&&W<0&&(W+=ja),v.centerX=H,v.centerY=X,v.ang1=Q,v.ang2=W};function hS(a,t,n,r,o,u,h,f=0,p=0,m=0){if(u===0||h===0)return;const g=Math.sin(f*ja/360),_=Math.cos(f*ja/360),v=_*(t-r)/2+g*(n-o)/2,x=-g*(t-r)/2+_*(n-o)/2;if(v===0&&x===0)return;u=Math.abs(u),h=Math.abs(h);const S=Math.pow(v,2)/Math.pow(u,2)+Math.pow(x,2)/Math.pow(h,2);S>1&&(u*=Math.sqrt(S),h*=Math.sqrt(S)),cS(t,n,r,o,u,h,p,m,g,_,v,x,zc);let{ang1:T,ang2:A}=zc;const{centerX:E,centerY:B}=zc;let D=Math.abs(A)/(ja/4);Math.abs(1-D)<1e-7&&(D=1);const H=Math.max(Math.ceil(D),1);A/=H;let X=a[a.length-2],j=a[a.length-1];const V={x:0,y:0};for(let it=0;it<H;it++){const $=uS(T,A),{x:Q,y:W}=Oc($[0],u,h,_,g,E,B,V),{x:ht,y:St}=Oc($[1],u,h,_,g,E,B,V),{x:Nt,y:Lt}=Oc($[2],u,h,_,g,E,B,V);Qy(a,X,j,Q,W,ht,St,Nt,Lt),X=Nt,j=Lt,T+=A}}function fS(a,t,n){const r=(h,f)=>{const p=f.x-h.x,m=f.y-h.y,g=Math.sqrt(p*p+m*m),_=p/g,v=m/g;return{len:g,nx:_,ny:v}},o=(h,f)=>{h===0?a.moveTo(f.x,f.y):a.lineTo(f.x,f.y)};let u=t[t.length-1];for(let h=0;h<t.length;h++){const f=t[h%t.length],p=f.radius??n;if(p<=0){o(h,f),u=f;continue}const m=t[(h+1)%t.length],g=r(f,u),_=r(f,m);if(g.len<1e-4||_.len<1e-4){o(h,f),u=f;continue}let v=Math.asin(g.nx*_.ny-g.ny*_.nx),x=1,S=!1;g.nx*_.nx-g.ny*-_.ny<0?v<0?v=Math.PI+v:(v=Math.PI-v,x=-1,S=!0):v>0&&(x=-1,S=!0);const T=v/2;let A,E=Math.abs(Math.cos(T)*p/Math.sin(T));E>Math.min(g.len/2,_.len/2)?(E=Math.min(g.len/2,_.len/2),A=Math.abs(E*Math.sin(T)/Math.cos(T))):A=p;const B=f.x+_.nx*E+-_.ny*A*x,D=f.y+_.ny*E+_.nx*A*x,H=Math.atan2(g.ny,g.nx)+Math.PI/2*x,X=Math.atan2(_.ny,_.nx)-Math.PI/2*x;h===0&&a.moveTo(B+Math.cos(H)*A,D+Math.sin(H)*A),a.arc(B,D,A,H,X,S),u=f}}function dS(a,t,n,r){const o=(f,p)=>Math.sqrt((f.x-p.x)**2+(f.y-p.y)**2),u=(f,p,m)=>({x:f.x+(p.x-f.x)*m,y:f.y+(p.y-f.y)*m}),h=t.length;for(let f=0;f<h;f++){const p=t[(f+1)%h],m=p.radius??n;if(m<=0){f===0?a.moveTo(p.x,p.y):a.lineTo(p.x,p.y);continue}const g=t[f],_=t[(f+2)%h],v=o(g,p);let x;if(v<1e-4)x=p;else{const A=Math.min(v/2,m);x=u(p,g,A/v)}const S=o(_,p);let T;if(S<1e-4)T=p;else{const A=Math.min(S/2,m);T=u(p,_,A/S)}f===0?a.moveTo(x.x,x.y):a.lineTo(x.x,x.y),a.quadraticCurveTo(p.x,p.y,T.x,T.y,r)}}const pS=new qt;class mS{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new ti,this._graphicsPath2D=t,this.signed=t.checkForHoles}moveTo(t,n){return this.startPoly(t,n),this}lineTo(t,n){this._ensurePoly();const r=this._currentPoly.points,o=r[r.length-2],u=r[r.length-1];return(o!==t||u!==n)&&r.push(t,n),this}arc(t,n,r,o,u,h){this._ensurePoly(!1);const f=this._currentPoly.points;return Wy(f,t,n,r,o,u,h),this}arcTo(t,n,r,o,u){this._ensurePoly();const h=this._currentPoly.points;return oS(h,t,n,r,o,u),this}arcToSvg(t,n,r,o,u,h,f){const p=this._currentPoly.points;return hS(p,this._currentPoly.lastX,this._currentPoly.lastY,h,f,t,n,r,o,u),this}bezierCurveTo(t,n,r,o,u,h,f){this._ensurePoly();const p=this._currentPoly;return Qy(this._currentPoly.points,p.lastX,p.lastY,t,n,r,o,u,h,f),this}quadraticCurveTo(t,n,r,o,u){this._ensurePoly();const h=this._currentPoly;return rS(this._currentPoly.points,h.lastX,h.lastY,t,n,r,o,u),this}closePath(){return this.endPoly(!0),this}addPath(t,n){this.endPoly(),n&&!n.isIdentity()&&(t=t.clone(!0),t.transform(n));const r=this.shapePrimitives,o=r.length;for(let u=0;u<t.instructions.length;u++){const h=t.instructions[u];this[h.action](...h.data)}if(t.checkForHoles&&r.length-o>1){let u=null;for(let h=o;h<r.length;h++){const f=r[h];if(f.shape.type==="polygon"){const p=f.shape,m=u?.shape;m&&m.containsPolygon(p)?(u.holes||(u.holes=[]),u.holes.push(f),r.copyWithin(h,h+1),r.length--,h--):u=f}}}return this}finish(t=!1){this.endPoly(t)}rect(t,n,r,o,u){return this.drawShape(new qt(t,n,r,o),u),this}circle(t,n,r,o){return this.drawShape(new uh(t,n,r),o),this}poly(t,n,r){const o=new Xa(t);return o.closePath=n,this.drawShape(o,r),this}regularPoly(t,n,r,o,u=0,h){o=Math.max(o|0,3);const f=-1*Math.PI/2+u,p=Math.PI*2/o,m=[];for(let g=0;g<o;g++){const _=f-g*p;m.push(t+r*Math.cos(_),n+r*Math.sin(_))}return this.poly(m,!0,h),this}roundPoly(t,n,r,o,u,h=0,f){if(o=Math.max(o|0,3),u<=0)return this.regularPoly(t,n,r,o,h);const p=r*Math.sin(Math.PI/o)-.001;u=Math.min(u,p);const m=-1*Math.PI/2+h,g=Math.PI*2/o,_=(o-2)*Math.PI/o/2;for(let v=0;v<o;v++){const x=v*g+m,S=t+r*Math.cos(x),T=n+r*Math.sin(x),A=x+Math.PI+_,E=x-Math.PI-_,B=S+u*Math.cos(A),D=T+u*Math.sin(A),H=S+u*Math.cos(E),X=T+u*Math.sin(E);v===0?this.moveTo(B,D):this.lineTo(B,D),this.quadraticCurveTo(S,T,H,X,f)}return this.closePath()}roundShape(t,n,r=!1,o){return t.length<3?this:(r?dS(this,t,n,o):fS(this,t,n),this.closePath())}filletRect(t,n,r,o,u){if(u===0)return this.rect(t,n,r,o);const h=Math.min(r,o)/2,f=Math.min(h,Math.max(-h,u)),p=t+r,m=n+o,g=f<0?-f:0,_=Math.abs(f);return this.moveTo(t,n+_).arcTo(t+g,n+g,t+_,n,_).lineTo(p-_,n).arcTo(p-g,n+g,p,n+_,_).lineTo(p,m-_).arcTo(p-g,m-g,t+r-_,m,_).lineTo(t+_,m).arcTo(t+g,m-g,t,m-_,_).closePath()}chamferRect(t,n,r,o,u,h){if(u<=0)return this.rect(t,n,r,o);const f=Math.min(u,Math.min(r,o)/2),p=t+r,m=n+o,g=[t+f,n,p-f,n,p,n+f,p,m-f,p-f,m,t+f,m,t,m-f,t,n+f];for(let _=g.length-1;_>=2;_-=2)g[_]===g[_-2]&&g[_-1]===g[_-3]&&g.splice(_-1,2);return this.poly(g,!0,h)}ellipse(t,n,r,o,u){return this.drawShape(new ch(t,n,r,o),u),this}roundRect(t,n,r,o,u,h){return this.drawShape(new hh(t,n,r,o,u),h),this}drawShape(t,n){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:n}),this}startPoly(t,n){let r=this._currentPoly;return r&&this.endPoly(),r=new Xa,r.points.push(t,n),this._currentPoly=r,this}endPoly(t=!1){const n=this._currentPoly;return n&&n.points.length>2&&(n.closePath=t,this.shapePrimitives.push({shape:n})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new Xa,t)){const n=this.shapePrimitives[this.shapePrimitives.length-1];if(n){let r=n.shape.x,o=n.shape.y;if(n.transform&&!n.transform.isIdentity()){const u=n.transform,h=r;r=u.a*r+u.c*o+u.tx,o=u.b*h+u.d*o+u.ty}this._currentPoly.points.push(r,o)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let n=0;n<t.instructions.length;n++){const r=t.instructions[n];this[r.action](...r.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const n=this.shapePrimitives;for(let r=0;r<n.length;r++){const o=n[r],u=o.shape.getBounds(pS);o.transform?t.addRect(u,o.transform):t.addRect(u)}return t}}class Bs{constructor(t,n=!1){this.instructions=[],this.uid=Ft("graphicsPath"),this._dirty=!0,this.checkForHoles=n,typeof t=="string"?H1(t,this):this.instructions=t?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new mS(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,n){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,n]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,n,r,o,u){const h=this.instructions[this.instructions.length-1],f=this.getLastPoint(ae.shared);let p=0,m=0;if(!h||h.action!=="bezierCurveTo")p=f.x,m=f.y;else{p=h.data[2],m=h.data[3];const g=f.x,_=f.y;p=g+(g-p),m=_+(_-m)}return this.instructions.push({action:"bezierCurveTo",data:[p,m,t,n,r,o,u]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,n,r){const o=this.instructions[this.instructions.length-1],u=this.getLastPoint(ae.shared);let h=0,f=0;if(!o||o.action!=="quadraticCurveTo")h=u.x,f=u.y;else{h=o.data[0],f=o.data[1];const p=u.x,m=u.y;h=p+(p-h),f=m+(m-f)}return this.instructions.push({action:"quadraticCurveTo",data:[h,f,t,n,r]}),this._dirty=!0,this}rect(t,n,r,o,u){return this.instructions.push({action:"rect",data:[t,n,r,o,u]}),this._dirty=!0,this}circle(t,n,r,o){return this.instructions.push({action:"circle",data:[t,n,r,o]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,n,r,o,u,h,f){u||(u=o/2);const p=-1*Math.PI/2+h,m=r*2,g=Math.PI*2/m,_=[];for(let v=0;v<m;v++){const x=v%2?u:o,S=v*g+p;_.push(t+x*Math.cos(S),n+x*Math.sin(S))}return this.poly(_,!0,f),this}clone(t=!1){const n=new Bs;if(n.checkForHoles=this.checkForHoles,!t)n.instructions=this.instructions.slice();else for(let r=0;r<this.instructions.length;r++){const o=this.instructions[r];n.instructions.push({action:o.action,data:o.data.slice()})}return n}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const n=t.a,r=t.b,o=t.c,u=t.d,h=t.tx,f=t.ty;let p=0,m=0,g=0,_=0,v=0,x=0,S=0,T=0;for(let A=0;A<this.instructions.length;A++){const E=this.instructions[A],B=E.data;switch(E.action){case"moveTo":case"lineTo":p=B[0],m=B[1],B[0]=n*p+o*m+h,B[1]=r*p+u*m+f;break;case"bezierCurveTo":g=B[0],_=B[1],v=B[2],x=B[3],p=B[4],m=B[5],B[0]=n*g+o*_+h,B[1]=r*g+u*_+f,B[2]=n*v+o*x+h,B[3]=r*v+u*x+f,B[4]=n*p+o*m+h,B[5]=r*p+u*m+f;break;case"quadraticCurveTo":g=B[0],_=B[1],p=B[2],m=B[3],B[0]=n*g+o*_+h,B[1]=r*g+u*_+f,B[2]=n*p+o*m+h,B[3]=r*p+u*m+f;break;case"arcToSvg":p=B[5],m=B[6],S=B[0],T=B[1],B[0]=n*S+o*T,B[1]=r*S+u*T,B[5]=n*p+o*m+h,B[6]=r*p+u*m+f;break;case"circle":B[4]=ka(B[3],t);break;case"rect":B[4]=ka(B[4],t);break;case"ellipse":B[8]=ka(B[8],t);break;case"roundRect":B[5]=ka(B[5],t);break;case"addPath":B[0].transform(t);break;case"poly":B[2]=ka(B[2],t);break;default:Dt("unknown transform action",E.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let n=this.instructions.length-1,r=this.instructions[n];if(!r)return t.x=0,t.y=0,t;for(;r.action==="closePath";){if(n--,n<0)return t.x=0,t.y=0,t;r=this.instructions[n]}switch(r.action){case"moveTo":case"lineTo":t.x=r.data[0],t.y=r.data[1];break;case"quadraticCurveTo":t.x=r.data[2],t.y=r.data[3];break;case"bezierCurveTo":t.x=r.data[4],t.y=r.data[5];break;case"arc":case"arcToSvg":t.x=r.data[5],t.y=r.data[6];break;case"addPath":r.data[0].getLastPoint(t);break}return t}}function ka(a,t){return a?a.prepend(t):t.clone()}function Xt(a,t,n){const r=a.getAttribute(t);return r?Number(r):n}function gS(a,t){const n=a.querySelectorAll("defs");for(let r=0;r<n.length;r++){const o=n[r];for(let u=0;u<o.children.length;u++){const h=o.children[u];switch(h.nodeName.toLowerCase()){case"lineargradient":t.defs[h.id]=yS(h);break;case"radialgradient":t.defs[h.id]=_S();break}}}}function yS(a){const t=Xt(a,"x1",0),n=Xt(a,"y1",0),r=Xt(a,"x2",1),o=Xt(a,"y2",0),u=a.getAttribute("gradientUnits")||"objectBoundingBox",h=new Oi(t,n,r,o,u==="objectBoundingBox"?"local":"global");for(let f=0;f<a.children.length;f++){const p=a.children[f],m=Xt(p,"offset",0),g=It.shared.setValue(p.getAttribute("stop-color")).toNumber();h.addColorStop(m,g)}return h}function _S(a){return Dt("[SVG Parser] Radial gradients are not yet supported"),new Oi(0,0,1,0)}function pg(a){const t=a.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return t?t[1]:""}const mg={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function Iy(a,t){const n=a.getAttribute("style"),r={},o={},u={strokeStyle:r,fillStyle:o,useFill:!1,useStroke:!1};for(const h in mg){const f=a.getAttribute(h);f&&gg(t,u,h,f.trim())}if(n){const h=n.split(";");for(let f=0;f<h.length;f++){const p=h[f].trim(),[m,g]=p.split(":");mg[m]&&gg(t,u,m,g.trim())}}return{strokeStyle:u.useStroke?r:null,fillStyle:u.useFill?o:null,useFill:u.useFill,useStroke:u.useStroke}}function gg(a,t,n,r){switch(n){case"stroke":if(r!=="none"){if(r.startsWith("url(")){const o=pg(r);t.strokeStyle.fill=a.defs[o]}else t.strokeStyle.color=It.shared.setValue(r).toNumber();t.useStroke=!0}break;case"stroke-width":t.strokeStyle.width=Number(r);break;case"fill":if(r!=="none"){if(r.startsWith("url(")){const o=pg(r);t.fillStyle.fill=a.defs[o]}else t.fillStyle.color=It.shared.setValue(r).toNumber();t.useFill=!0}break;case"fill-opacity":t.fillStyle.alpha=Number(r);break;case"stroke-opacity":t.strokeStyle.alpha=Number(r);break;case"opacity":t.fillStyle.alpha=Number(r),t.strokeStyle.alpha=Number(r);break}}function xS(a,t){if(typeof a=="string"){const h=document.createElement("div");h.innerHTML=a.trim(),a=h.querySelector("svg")}const n={context:t,defs:{},path:new Bs};gS(a,n);const r=a.children,{fillStyle:o,strokeStyle:u}=Iy(a,n);for(let h=0;h<r.length;h++){const f=r[h];f.nodeName.toLowerCase()!=="defs"&&Ky(f,n,o,u)}return t}function Ky(a,t,n,r){const o=a.children,{fillStyle:u,strokeStyle:h}=Iy(a,t);u&&n?n={...n,...u}:u&&(n=u),h&&r?r={...r,...h}:h&&(r=h);const f=!n&&!r;f&&(n={color:0});let p,m,g,_,v,x,S,T,A,E,B,D,H,X,j,V,it;switch(a.nodeName.toLowerCase()){case"path":X=a.getAttribute("d"),a.getAttribute("fill-rule")==="evenodd"&&Dt("SVG Evenodd fill rule not supported, your svg may render incorrectly"),j=new Bs(X,!0),t.context.path(j),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"circle":S=Xt(a,"cx",0),T=Xt(a,"cy",0),A=Xt(a,"r",0),t.context.ellipse(S,T,A,A),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"rect":p=Xt(a,"x",0),m=Xt(a,"y",0),V=Xt(a,"width",0),it=Xt(a,"height",0),E=Xt(a,"rx",0),B=Xt(a,"ry",0),E||B?t.context.roundRect(p,m,V,it,E||B):t.context.rect(p,m,V,it),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"ellipse":S=Xt(a,"cx",0),T=Xt(a,"cy",0),E=Xt(a,"rx",0),B=Xt(a,"ry",0),t.context.beginPath(),t.context.ellipse(S,T,E,B),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"line":g=Xt(a,"x1",0),_=Xt(a,"y1",0),v=Xt(a,"x2",0),x=Xt(a,"y2",0),t.context.beginPath(),t.context.moveTo(g,_),t.context.lineTo(v,x),r&&t.context.stroke(r);break;case"polygon":H=a.getAttribute("points"),D=H.match(/\d+/g).map($=>parseInt($,10)),t.context.poly(D,!0),n&&t.context.fill(n),r&&t.context.stroke(r);break;case"polyline":H=a.getAttribute("points"),D=H.match(/\d+/g).map($=>parseInt($,10)),t.context.poly(D,!1),r&&t.context.stroke(r);break;case"g":case"svg":break;default:{Dt(`[SVG parser] <${a.nodeName}> elements unsupported`);break}}f&&(n=null);for(let $=0;$<o.length;$++)Ky(o[$],t,n,r)}function bS(a){return It.isColorLike(a)}function yg(a){return a instanceof Nl}function _g(a){return a instanceof Oi}function vS(a){return a instanceof ct}function SS(a,t,n){const r=It.shared.setValue(t??0);return a.color=r.toNumber(),a.alpha=r.alpha===1?n.alpha:r.alpha,a.texture=ct.WHITE,{...n,...a}}function AS(a,t,n){return a.texture=t,{...n,...a}}function xg(a,t,n){return a.fill=t,a.color=16777215,a.texture=t.texture,a.matrix=t.transform,{...n,...a}}function bg(a,t,n){return t.buildGradient(),a.fill=t,a.color=16777215,a.texture=t.texture,a.matrix=t.transform,a.textureSpace=t.textureSpace,{...n,...a}}function wS(a,t){const n={...t,...a},r=It.shared.setValue(n.color);return n.alpha*=r.alpha,n.color=r.toNumber(),n}function Un(a,t){if(a==null)return null;const n={},r=a;return bS(a)?SS(n,a,t):vS(a)?AS(n,a,t):yg(a)?xg(n,a,t):_g(a)?bg(n,a,t):r.fill&&yg(r.fill)?xg(r,r.fill,t):r.fill&&_g(r.fill)?bg(r,r.fill,t):wS(r,t)}function Gl(a,t){const{width:n,alignment:r,miterLimit:o,cap:u,join:h,pixelLine:f,...p}=t,m=Un(a,p);return m?{width:n,alignment:r,miterLimit:o,cap:u,join:h,pixelLine:f,...m}:null}const TS=new ae,vg=new yt,dh=class ui extends ei{constructor(){super(...arguments),this.uid=Ft("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new Bs,this._transform=new yt,this._fillStyle={...ui.defaultFillStyle},this._strokeStyle={...ui.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new ti,this._boundsDirty=!0}clone(){const t=new ui;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=Un(t,ui.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=Gl(t,ui.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=Un(t,ui.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=Un(t,ui.defaultStrokeStyle),this}texture(t,n,r,o,u,h){return this.instructions.push({action:"texture",data:{image:t,dx:r||0,dy:o||0,dw:u||t.frame.width,dh:h||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:n?It.shared.setValue(n).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new Bs,this}fill(t,n){let r;const o=this.instructions[this.instructions.length-1];return this._tick===0&&o&&o.action==="stroke"?r=o.data.path:r=this._activePath.clone(),r?(t!=null&&(n!==void 0&&typeof t=="number"&&(_t(Tt,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:n}),this._fillStyle=Un(t,ui.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:n}=this._activePath.getLastPoint(ae.shared);this._activePath.clear(),this._activePath.moveTo(t,n)}stroke(t){let n;const r=this.instructions[this.instructions.length-1];return this._tick===0&&r&&r.action==="fill"?n=r.data.path:n=this._activePath.clone(),n?(t!=null&&(this._strokeStyle=Gl(t,ui.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const n=this.instructions[this.instructions.length-1-t],r=this._activePath.clone();if(n&&(n.action==="stroke"||n.action==="fill"))if(n.data.hole)n.data.hole.addPath(r);else{n.data.hole=r;break}}return this._initNextPathLocation(),this}arc(t,n,r,o,u,h){this._tick++;const f=this._transform;return this._activePath.arc(f.a*t+f.c*n+f.tx,f.b*t+f.d*n+f.ty,r,o,u,h),this}arcTo(t,n,r,o,u){this._tick++;const h=this._transform;return this._activePath.arcTo(h.a*t+h.c*n+h.tx,h.b*t+h.d*n+h.ty,h.a*r+h.c*o+h.tx,h.b*r+h.d*o+h.ty,u),this}arcToSvg(t,n,r,o,u,h,f){this._tick++;const p=this._transform;return this._activePath.arcToSvg(t,n,r,o,u,p.a*h+p.c*f+p.tx,p.b*h+p.d*f+p.ty),this}bezierCurveTo(t,n,r,o,u,h,f){this._tick++;const p=this._transform;return this._activePath.bezierCurveTo(p.a*t+p.c*n+p.tx,p.b*t+p.d*n+p.ty,p.a*r+p.c*o+p.tx,p.b*r+p.d*o+p.ty,p.a*u+p.c*h+p.tx,p.b*u+p.d*h+p.ty,f),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(t,n,r,o){return this._tick++,this._activePath.ellipse(t,n,r,o,this._transform.clone()),this}circle(t,n,r){return this._tick++,this._activePath.circle(t,n,r,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,n){this._tick++;const r=this._transform;return this._activePath.lineTo(r.a*t+r.c*n+r.tx,r.b*t+r.d*n+r.ty),this}moveTo(t,n){this._tick++;const r=this._transform,o=this._activePath.instructions,u=r.a*t+r.c*n+r.tx,h=r.b*t+r.d*n+r.ty;return o.length===1&&o[0].action==="moveTo"?(o[0].data[0]=u,o[0].data[1]=h,this):(this._activePath.moveTo(u,h),this)}quadraticCurveTo(t,n,r,o,u){this._tick++;const h=this._transform;return this._activePath.quadraticCurveTo(h.a*t+h.c*n+h.tx,h.b*t+h.d*n+h.ty,h.a*r+h.c*o+h.tx,h.b*r+h.d*o+h.ty,u),this}rect(t,n,r,o){return this._tick++,this._activePath.rect(t,n,r,o,this._transform.clone()),this}roundRect(t,n,r,o,u){return this._tick++,this._activePath.roundRect(t,n,r,o,u,this._transform.clone()),this}poly(t,n){return this._tick++,this._activePath.poly(t,n,this._transform.clone()),this}regularPoly(t,n,r,o,u=0,h){return this._tick++,this._activePath.regularPoly(t,n,r,o,u,h),this}roundPoly(t,n,r,o,u,h){return this._tick++,this._activePath.roundPoly(t,n,r,o,u,h),this}roundShape(t,n,r,o){return this._tick++,this._activePath.roundShape(t,n,r,o),this}filletRect(t,n,r,o,u){return this._tick++,this._activePath.filletRect(t,n,r,o,u),this}chamferRect(t,n,r,o,u,h){return this._tick++,this._activePath.chamferRect(t,n,r,o,u,h),this}star(t,n,r,o,u=0,h=0){return this._tick++,this._activePath.star(t,n,r,o,u,h,this._transform.clone()),this}svg(t){return this._tick++,xS(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,n=t){return this._transform.scale(t,n),this}setTransform(t,n,r,o,u,h){return t instanceof yt?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,n,r,o,u,h),this)}transform(t,n,r,o,u,h){return t instanceof yt?(this._transform.append(t),this):(vg.set(t,n,r,o,u,h),this._transform.append(vg),this)}translate(t,n=t){return this._transform.translate(t,n),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const t=this._bounds;t.clear();for(let n=0;n<this.instructions.length;n++){const r=this.instructions[n],o=r.action;if(o==="fill"){const u=r.data;t.addBounds(u.path.bounds)}else if(o==="texture"){const u=r.data;t.addFrame(u.dx,u.dy,u.dx+u.dw,u.dy+u.dh,u.transform)}if(o==="stroke"){const u=r.data,h=u.style.alignment,f=u.style.width*(1-h),p=u.path.bounds;t.addFrame(p.minX-f,p.minY-f,p.maxX+f,p.maxY+f)}}return t}containsPoint(t){if(!this.bounds.containsPoint(t.x,t.y))return!1;const n=this.instructions;let r=!1;for(let o=0;o<n.length;o++){const u=n[o],h=u.data,f=h.path;if(!u.action||!f)continue;const p=h.style,m=f.shapePath.shapePrimitives;for(let g=0;g<m.length;g++){const _=m[g].shape;if(!p||!_)continue;const v=m[g].transform,x=v?v.applyInverse(t,TS):t;if(u.action==="fill")r=_.contains(x.x,x.y);else{const T=p;r=_.strokeContains(x.x,x.y,T.width,T.alignment)}const S=h.hole;if(S){const T=S.shapePath?.shapePrimitives;if(T)for(let A=0;A<T.length;A++)T[A].shape.contains(x.x,x.y)&&(r=!1)}if(r)return!0}}return r}destroy(t=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const r=typeof t=="boolean"?t:t?.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(r),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(r)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};dh.defaultFillStyle={color:16777215,alpha:1,texture:ct.WHITE,matrix:null,fill:null,textureSpace:"local"};dh.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:ct.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let Ve=dh;const Sg=["align","breakWords","cssOverrides","fontVariant","fontWeight","leading","letterSpacing","lineHeight","padding","textBaseline","trim","whiteSpace","wordWrap","wordWrapWidth","fontFamily","fontStyle","fontSize"];function MS(a){const t=[];let n=0;for(let r=0;r<Sg.length;r++){const o=`_${Sg[r]}`;t[n++]=a[o]}return n=$y(a._fill,t,n),n=ES(a._stroke,t,n),n=RS(a.dropShadow,t,n),n=CS(a.filters,t,n),t.join("-")}function CS(a,t,n){if(!a)return n;for(const r of a)t[n++]=r.uid;return n}function $y(a,t,n){return a&&(t[n++]=a.color,t[n++]=a.alpha,t[n++]=a.fill?.styleKey),n}function ES(a,t,n){return a&&(n=$y(a,t,n),t[n++]=a.width,t[n++]=a.alignment,t[n++]=a.cap,t[n++]=a.join,t[n++]=a.miterLimit),n}function RS(a,t,n){return a&&(t[n++]=a.alpha,t[n++]=a.angle,t[n++]=a.blur,t[n++]=a.distance,t[n++]=It.shared.setValue(a.color).toNumber()),n}const ph=class As extends ei{constructor(t={}){super(),BS(t);const n={...As.defaultTextStyle,...t};for(const r in n){const o=r;this[o]=n[r]}this.update()}get align(){return this._align}set align(t){this._align=t,this.update()}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords=t,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(t){t!==null&&typeof t=="object"?this._dropShadow=this._createProxy({...As.defaultDropShadow,...t}):this._dropShadow=t?this._createProxy({...As.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily=t,this.update()}get fontSize(){return this._fontSize}set fontSize(t){typeof t=="string"?this._fontSize=parseInt(t,10):this._fontSize=t,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle=t.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant=t,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight=t,this.update()}get leading(){return this._leading}set leading(t){this._leading=t,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing=t,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight=t,this.update()}get padding(){return this._padding}set padding(t){this._padding=t,this.update()}get filters(){return this._filters}set filters(t){this._filters=t,this.update()}get trim(){return this._trim}set trim(t){this._trim=t,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline=t,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace=t,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap=t,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth=t,this.update()}get fill(){return this._originalFill}set fill(t){t!==this._originalFill&&(this._originalFill=t,this._isFillStyle(t)&&(this._originalFill=this._createProxy({...Ve.defaultFillStyle,...t},()=>{this._fill=Un({...this._originalFill},Ve.defaultFillStyle)})),this._fill=Un(t===0?"black":t,Ve.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(t){t!==this._originalStroke&&(this._originalStroke=t,this._isFillStyle(t)&&(this._originalStroke=this._createProxy({...Ve.defaultStrokeStyle,...t},()=>{this._stroke=Gl({...this._originalStroke},Ve.defaultStrokeStyle)})),this._stroke=Gl(t,Ve.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=MS(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const t=As.defaultTextStyle;for(const n in t)this[n]=t[n]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new As({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let t=0;if(this._filters)for(let n=0;n<this._filters.length;n++)t+=this._filters[n].padding;return Math.max(this._padding,t)}destroy(t=!1){if(this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const r=typeof t=="boolean"?t:t?.textureSource;this._fill?.texture&&this._fill.texture.destroy(r),this._originalFill?.texture&&this._originalFill.texture.destroy(r),this._stroke?.texture&&this._stroke.texture.destroy(r),this._originalStroke?.texture&&this._originalStroke.texture.destroy(r)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(t,n){return new Proxy(t,{set:(r,o,u)=>(r[o]=u,n?.(o,u),this.update(),!0)})}_isFillStyle(t){return(t??null)!==null&&!(It.isColorLike(t)||t instanceof Oi||t instanceof Nl)}};ph.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};ph.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Wa=ph;function BS(a){const t=a;if(typeof t.dropShadow=="boolean"&&t.dropShadow){const n=Wa.defaultDropShadow;a.dropShadow={alpha:t.dropShadowAlpha??n.alpha,angle:t.dropShadowAngle??n.angle,blur:t.dropShadowBlur??n.blur,color:t.dropShadowColor??n.color,distance:t.dropShadowDistance??n.distance}}if(t.strokeThickness!==void 0){_t(Tt,"strokeThickness is now a part of stroke");const n=t.stroke;let r={};if(It.isColorLike(n))r.color=n;else if(n instanceof Oi||n instanceof Nl)r.fill=n;else if(Object.hasOwnProperty.call(n,"color")||Object.hasOwnProperty.call(n,"fill"))r=n;else throw new Error("Invalid stroke value.");a.stroke={...r,width:t.strokeThickness}}if(Array.isArray(t.fillGradientStops)){_t(Tt,"gradient fill is now a fill pattern: `new FillGradient(...)`");let n;a.fontSize==null?a.fontSize=Wa.defaultTextStyle.fontSize:typeof a.fontSize=="string"?n=parseInt(a.fontSize,10):n=a.fontSize;const r=new Oi({start:{x:0,y:0},end:{x:0,y:(n||0)*1.7}}),o=t.fillGradientStops.map(u=>It.shared.setValue(u).toNumber());o.forEach((u,h)=>{const f=h/(o.length-1);r.addColorStop(f,u)}),a.fill={fill:r}}}class zS{constructor(t){this._canvasPool=Object.create(null),this.canvasOptions=t||{},this.enableFullScreen=!1}_createCanvasAndContext(t,n){const r=Zt.get().createCanvas();r.width=t,r.height=n;const o=r.getContext("2d");return{canvas:r,context:o}}getOptimalCanvasAndContext(t,n,r=1){t=Math.ceil(t*r-1e-6),n=Math.ceil(n*r-1e-6),t=zl(t),n=zl(n);const o=(t<<17)+(n<<1);this._canvasPool[o]||(this._canvasPool[o]=[]);let u=this._canvasPool[o].pop();return u||(u=this._createCanvasAndContext(t,n)),u}returnCanvasAndContext(t){const n=t.canvas,{width:r,height:o}=n,u=(r<<17)+(o<<1);t.context.clearRect(0,0,r,o),this._canvasPool[u].push(t)}clear(){this._canvasPool={}}}const Ag=new zS,wg=1e5;function Tg(a,t,n,r=0){if(a.texture===ct.WHITE&&!a.fill)return It.shared.setValue(a.color).setAlpha(a.alpha??1).toHexa();if(a.fill){if(a.fill instanceof Nl){const o=a.fill,u=t.createPattern(o.texture.source.resource,"repeat"),h=o.transform.copyTo(yt.shared);return h.scale(o.texture.frame.width,o.texture.frame.height),u.setTransform(h),u}else if(a.fill instanceof Oi){const o=a.fill,u=o.type==="linear",h=o.textureSpace==="local";let f=1,p=1;h&&n&&(f=n.width+r,p=n.height+r);let m,g=!1;if(u){const{start:_,end:v}=o;m=t.createLinearGradient(_.x*f,_.y*p,v.x*f,v.y*p),g=Math.abs(v.x-_.x)<Math.abs((v.y-_.y)*.1)}else{const{center:_,innerRadius:v,outerCenter:x,outerRadius:S}=o;m=t.createRadialGradient(_.x*f,_.y*p,v*f,x.x*f,x.y*p,S*f)}if(g&&h&&n){const _=n.lineHeight/p;for(let v=0;v<n.lines.length;v++){const x=(v*n.lineHeight+r/2)/p;o.colorStops.forEach(S=>{const T=x+S.offset*_;m.addColorStop(Math.floor(T*wg)/wg,It.shared.setValue(S.color).toHex())})}}else o.colorStops.forEach(_=>{m.addColorStop(_.offset,It.shared.setValue(_.color).toHex())});return m}}else{const o=t.createPattern(a.texture.source.resource,"repeat"),u=a.matrix.copyTo(yt.shared);return u.scale(a.texture.frame.width,a.texture.frame.height),o.setTransform(u),o}return Dt("FillStyle not recognised",a),"red"}const Jy=class t0 extends Dy{constructor(t){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentMaxCharHeight=0,this._currentPageIndex=-1,this._skipKerning=!1;const n={...t0.defaultOptions,...t};this._textureSize=n.textureSize,this._mipmap=n.mipmap;const r=n.style.clone();n.overrideFill&&(r._fill.color=16777215,r._fill.alpha=1,r._fill.texture=ct.WHITE,r._fill.fill=null),this.applyFillAsTint=n.overrideFill;const o=r.fontSize;r.fontSize=this.baseMeasurementFontSize;const u=Qc(r);n.overrideSize?r._stroke&&(r._stroke.width*=this.baseRenderedFontSize/o):r.fontSize=this.baseRenderedFontSize=o,this._style=r,this._skipKerning=n.skipKerning??!1,this.resolution=n.resolution??1,this._padding=n.padding??4,n.textureStyle&&(this._textureStyle=n.textureStyle instanceof Ol?n.textureStyle:new Ol(n.textureStyle)),this.fontMetrics=El.measureFont(u),this.lineHeight=r.lineHeight||this.fontMetrics.fontSize||r.fontSize}ensureCharacters(t){const n=El.graphemeSegmenter(t).filter(A=>!this._currentChars.includes(A)).filter((A,E,B)=>B.indexOf(A)===E);if(!n.length)return;this._currentChars=[...this._currentChars,...n];let r;this._currentPageIndex===-1?r=this._nextPage():r=this.pages[this._currentPageIndex];let{canvas:o,context:u}=r.canvasAndContext,h=r.texture.source;const f=this._style;let p=this._currentX,m=this._currentY,g=this._currentMaxCharHeight;const _=this.baseRenderedFontSize/this.baseMeasurementFontSize,v=this._padding*_;let x=!1;const S=o.width/this.resolution,T=o.height/this.resolution;for(let A=0;A<n.length;A++){const E=n[A],B=El.measureText(E,f,o,!1);B.lineHeight=B.height;const D=B.width*_,H=Math.ceil((f.fontStyle==="italic"?2:1)*D),X=B.height*_,j=H+v*2,V=X+v*2;if(x=!1,E!==`
`&&E!=="\r"&&E!=="	"&&E!==" "&&(x=!0,g=Math.ceil(Math.max(V,g))),p+j>S&&(m+=g,g=V,p=0,m+g>T)){h.update();const $=this._nextPage();o=$.canvasAndContext.canvas,u=$.canvasAndContext.context,h=$.texture.source,p=0,m=0,g=0}const it=D/_-(f.dropShadow?.distance??0)-(f._stroke?.width??0);if(this.chars[E]={id:E.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:it,kerning:{}},x){this._drawGlyph(u,B,p+v,m+v,_,f);const $=h.width*_,Q=h.height*_,W=new qt(p/$*h.width,m/Q*h.height,j/$*h.width,V/Q*h.height);this.chars[E].texture=new ct({source:h,frame:W}),p+=Math.ceil(j)}}h.update(),this._currentX=p,this._currentY=m,this._currentMaxCharHeight=g,this._skipKerning&&this._applyKerning(n,u)}get pageTextures(){return _t(Tt,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(t,n){const r=this._measureCache;for(let o=0;o<t.length;o++){const u=t[o];for(let h=0;h<this._currentChars.length;h++){const f=this._currentChars[h];let p=r[u];p||(p=r[u]=n.measureText(u).width);let m=r[f];m||(m=r[f]=n.measureText(f).width);let g=n.measureText(u+f).width,_=g-(p+m);_&&(this.chars[u].kerning[f]=_),g=n.measureText(u+f).width,_=g-(p+m),_&&(this.chars[f].kerning[u]=_)}}}_nextPage(){this._currentPageIndex++;const t=this.resolution,n=Ag.getOptimalCanvasAndContext(this._textureSize,this._textureSize,t);this._setupContext(n.context,this._style,t);const r=t*(this.baseRenderedFontSize/this.baseMeasurementFontSize),o=new ct({source:new Gn({resource:n.canvas,resolution:r,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})});this._textureStyle&&(o.source.style=this._textureStyle);const u={canvasAndContext:n,texture:o};return this.pages[this._currentPageIndex]=u,u}_setupContext(t,n,r){n.fontSize=this.baseRenderedFontSize,t.scale(r,r),t.font=Qc(n),n.fontSize=this.baseMeasurementFontSize,t.textBaseline=n.textBaseline;const o=n._stroke,u=o?.width??0;if(o&&(t.lineWidth=u,t.lineJoin=o.join,t.miterLimit=o.miterLimit,t.strokeStyle=Tg(o,t)),n._fill&&(t.fillStyle=Tg(n._fill,t)),n.dropShadow){const h=n.dropShadow,f=It.shared.setValue(h.color).toArray(),p=h.blur*r,m=h.distance*r;t.shadowColor=`rgba(${f[0]*255},${f[1]*255},${f[2]*255},${h.alpha})`,t.shadowBlur=p,t.shadowOffsetX=Math.cos(h.angle)*m,t.shadowOffsetY=Math.sin(h.angle)*m}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0}_drawGlyph(t,n,r,o,u,h){const f=n.text,p=n.fontProperties,g=(h._stroke?.width??0)*u,_=r+g/2,v=o-g/2,x=p.descent*u,S=n.lineHeight*u;h.stroke&&g&&t.strokeText(f,_,v+S-x),h._fill&&t.fillText(f,_,v+S-x)}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{canvasAndContext:n,texture:r}=this.pages[t];Ag.returnCanvasAndContext(n),r.destroy(!0)}this.pages=null}};Jy.defaultOptions={textureSize:512,style:new Wa,mipmap:!0};let Mg=Jy;function OS(a,t,n,r){const o={width:0,height:0,offsetY:0,scale:t.fontSize/n.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};o.offsetY=n.baseLineOffset;let u=o.lines[0],h=null,f=!0;const p={width:0,start:0,index:0,positions:[],chars:[]},m=S=>{const T=u.width;for(let A=0;A<p.index;A++){const E=S.positions[A];u.chars.push(S.chars[A]),u.charPositions.push(E+T)}u.width+=S.width,f=!1,p.width=0,p.index=0,p.chars.length=0},g=()=>{let S=u.chars.length-1;if(r){let T=u.chars[S];for(;T===" ";)u.width-=n.chars[T].xAdvance,T=u.chars[--S]}o.width=Math.max(o.width,u.width),u={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},f=!0,o.lines.push(u),o.height+=n.lineHeight},_=n.baseMeasurementFontSize/t.fontSize,v=t.letterSpacing*_,x=t.wordWrapWidth*_;for(let S=0;S<a.length+1;S++){let T;const A=S===a.length;A||(T=a[S]);const E=n.chars[T]||n.chars[" "];if(/(?:\s)/.test(T)||T==="\r"||T===`
`||A){if(!f&&t.wordWrap&&u.width+p.width-v>x?(g(),m(p),A||u.charPositions.push(0)):(p.start=u.width,m(p),A||u.charPositions.push(0)),T==="\r"||T===`
`)u.width!==0&&g();else if(!A){const X=E.xAdvance+(E.kerning[h]||0)+v;u.width+=X,u.spaceWidth=X,u.spacesIndex.push(u.charPositions.length),u.chars.push(T)}}else{const H=E.kerning[h]||0,X=E.xAdvance+H+v;p.positions[p.index++]=p.width+H,p.chars.push(T),p.width+=X}h=T}return g(),t.align==="center"?DS(o):t.align==="right"?US(o):t.align==="justify"&&GS(o),o}function DS(a){for(let t=0;t<a.lines.length;t++){const n=a.lines[t],r=a.width/2-n.width/2;for(let o=0;o<n.charPositions.length;o++)n.charPositions[o]+=r}}function US(a){for(let t=0;t<a.lines.length;t++){const n=a.lines[t],r=a.width-n.width;for(let o=0;o<n.charPositions.length;o++)n.charPositions[o]+=r}}function GS(a){const t=a.width;for(let n=0;n<a.lines.length;n++){const r=a.lines[n];let o=0,u=r.spacesIndex[o++],h=0;const f=r.spacesIndex.length,m=(t-r.width)/f;for(let g=0;g<r.charPositions.length;g++)g===u&&(u=r.spacesIndex[o++],h+=m),r.charPositions[g]+=h}}function kS(a){if(a==="")return[];typeof a=="string"&&(a=[a]);const t=[];for(let n=0,r=a.length;n<r;n++){const o=a[n];if(Array.isArray(o)){if(o.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${o.length}.`);if(o[0].length===0||o[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const u=o[0].charCodeAt(0),h=o[1].charCodeAt(0);if(h<u)throw new Error("[BitmapFont]: Invalid character range.");for(let f=u,p=h;f<=p;f++)t.push(String.fromCharCode(f))}else t.push(...Array.from(o))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}let wl=0;class HS{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1,textureStyle:null}}getFont(t,n){let r=`${n.fontFamily}-bitmap`,o=!0;if(n._fill.fill&&!n._stroke)r+=n._fill.fill.styleKey,o=!1;else if(n._stroke||n.dropShadow){let h=n.styleKey;h=h.substring(0,h.lastIndexOf("-")),r=`${h}-bitmap`,o=!1}if(!kt.has(r)){const h=new Mg({style:n,overrideFill:o,overrideSize:!0,...this.defaultOptions});wl++,wl>50&&Dt("BitmapText",`You have dynamically created ${wl} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),h.once("destroy",()=>{wl--,kt.remove(r)}),kt.set(r,h)}const u=kt.get(r);return u.ensureCharacters?.(t),u}getLayout(t,n,r=!0){const o=this.getFont(t,n),u=El.graphemeSegmenter(t);return OS(u,n,o,r)}measureText(t,n,r=!0){return this.getLayout(t,n,r)}install(...t){let n=t[0];typeof n=="string"&&(n={name:n,style:t[1],chars:t[2]?.chars,resolution:t[2]?.resolution,padding:t[2]?.padding,skipKerning:t[2]?.skipKerning},_t(Tt,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const r=n?.name;if(!r)throw new Error("[BitmapFontManager] Property `name` is required.");n={...this.defaultOptions,...n};const o=n.style,u=o instanceof Wa?o:new Wa(o),h=u._fill.fill!==null&&u._fill.fill!==void 0,f=new Mg({style:u,overrideFill:h,skipKerning:n.skipKerning,padding:n.padding,resolution:n.resolution,overrideSize:!1,textureStyle:n.textureStyle}),p=kS(n.chars);return f.ensureCharacters(p.join("")),kt.set(`${r}-bitmap`,f),f.once("destroy",()=>kt.remove(`${r}-bitmap`)),f}uninstall(t){const n=`${t}-bitmap`,r=kt.get(n);r&&r.destroy()}}const Cg=new HS;class e0 extends Dy{constructor(t,n){super();const{textures:r,data:o}=t;Object.keys(o.pages).forEach(u=>{const h=o.pages[parseInt(u,10)],f=r[h.id];this.pages.push({texture:f})}),Object.keys(o.chars).forEach(u=>{const h=o.chars[u],{frame:f,source:p}=r[h.page],m=new qt(h.x+f.x,h.y+f.y,h.width,h.height),g=new ct({source:p,frame:m});this.chars[u]={id:u.codePointAt(0),xOffset:h.xOffset,yOffset:h.yOffset,xAdvance:h.xAdvance,kerning:h.kerning??{},texture:g}}),this.baseRenderedFontSize=o.fontSize,this.baseMeasurementFontSize=o.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:o.fontSize},this.baseLineOffset=o.baseLineOffset,this.lineHeight=o.lineHeight,this.fontFamily=o.fontFamily,this.distanceField=o.distanceField??{type:"none",range:0},this.url=n}destroy(){super.destroy();for(let t=0;t<this.pages.length;t++){const{texture:n}=this.pages[t];n.destroy(!0)}this.pages=null}static install(t){Cg.install(t)}static uninstall(t){Cg.uninstall(t)}}const Dc={test(a){return typeof a=="string"&&a.startsWith("info face=")},parse(a){const t=a.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const _ in t){const v=t[_].match(/^[a-z]+/gm)[0],x=t[_].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),S={};for(const T in x){const A=x[T].split("="),E=A[0],B=A[1].replace(/"/gm,""),D=parseFloat(B),H=isNaN(D)?B:D;S[E]=H}n[v].push(S)}const r={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[o]=n.info,[u]=n.common,[h]=n.distanceField??[];h&&(r.distanceField={range:parseInt(h.distanceRange,10),type:h.fieldType}),r.fontSize=parseInt(o.size,10),r.fontFamily=o.face,r.lineHeight=parseInt(u.lineHeight,10);const f=n.page;for(let _=0;_<f.length;_++)r.pages.push({id:parseInt(f[_].id,10)||0,file:f[_].file});const p={};r.baseLineOffset=r.lineHeight-parseInt(u.base,10);const m=n.char;for(let _=0;_<m.length;_++){const v=m[_],x=parseInt(v.id,10);let S=v.letter??v.char??String.fromCharCode(x);S==="space"&&(S=" "),p[x]=S,r.chars[S]={id:x,page:parseInt(v.page,10)||0,x:parseInt(v.x,10),y:parseInt(v.y,10),width:parseInt(v.width,10),height:parseInt(v.height,10),xOffset:parseInt(v.xoffset,10),yOffset:parseInt(v.yoffset,10),xAdvance:parseInt(v.xadvance,10),kerning:{}}}const g=n.kerning||[];for(let _=0;_<g.length;_++){const v=parseInt(g[_].first,10),x=parseInt(g[_].second,10),S=parseInt(g[_].amount,10);r.chars[p[x]].kerning[p[v]]=S}return r}},Eg={test(a){const t=a;return typeof t!="string"&&"getElementsByTagName"in t&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(a){const t={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},n=a.getElementsByTagName("info")[0],r=a.getElementsByTagName("common")[0],o=a.getElementsByTagName("distanceField")[0];o&&(t.distanceField={type:o.getAttribute("fieldType"),range:parseInt(o.getAttribute("distanceRange"),10)});const u=a.getElementsByTagName("page"),h=a.getElementsByTagName("char"),f=a.getElementsByTagName("kerning");t.fontSize=parseInt(n.getAttribute("size"),10),t.fontFamily=n.getAttribute("face"),t.lineHeight=parseInt(r.getAttribute("lineHeight"),10);for(let m=0;m<u.length;m++)t.pages.push({id:parseInt(u[m].getAttribute("id"),10)||0,file:u[m].getAttribute("file")});const p={};t.baseLineOffset=t.lineHeight-parseInt(r.getAttribute("base"),10);for(let m=0;m<h.length;m++){const g=h[m],_=parseInt(g.getAttribute("id"),10);let v=g.getAttribute("letter")??g.getAttribute("char")??String.fromCharCode(_);v==="space"&&(v=" "),p[_]=v,t.chars[v]={id:_,page:parseInt(g.getAttribute("page"),10)||0,x:parseInt(g.getAttribute("x"),10),y:parseInt(g.getAttribute("y"),10),width:parseInt(g.getAttribute("width"),10),height:parseInt(g.getAttribute("height"),10),xOffset:parseInt(g.getAttribute("xoffset"),10),yOffset:parseInt(g.getAttribute("yoffset"),10),xAdvance:parseInt(g.getAttribute("xadvance"),10),kerning:{}}}for(let m=0;m<f.length;m++){const g=parseInt(f[m].getAttribute("first"),10),_=parseInt(f[m].getAttribute("second"),10),v=parseInt(f[m].getAttribute("amount"),10);t.chars[p[_]].kerning[p[g]]=v}return t}},Rg={test(a){return typeof a=="string"&&a.includes("<font>")?Eg.test(Zt.get().parseXML(a)):!1},parse(a){return Eg.parse(Zt.get().parseXML(a))}},NS=[".xml",".fnt"],LS={extension:{type:tt.CacheParser,name:"cacheBitmapFont"},test:a=>a instanceof e0,getCacheableAssets(a,t){const n={};return a.forEach(r=>{n[r]=t,n[`${r}-bitmap`]=t}),n[`${t.fontFamily}-bitmap`]=t,n}},PS={extension:{type:tt.LoadParser,priority:cn.Normal},name:"loadBitmapFont",test(a){return NS.includes(Ue.extname(a).toLowerCase())},async testParse(a){return Dc.test(a)||Rg.test(a)},async parse(a,t,n){const r=Dc.test(a)?Dc.parse(a):Rg.parse(a),{src:o}=t,{pages:u}=r,h=[],f=r.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let _=0;_<u.length;++_){const v=u[_].file;let x=Ue.join(Ue.dirname(o),v);x=Yc(x,o),h.push({src:x,data:f})}const p=await n.load(h),m=h.map(_=>p[_.src]);return new e0({data:r,textures:m},o)},async load(a,t){return await(await Zt.get().fetch(a)).text()},async unload(a,t,n){await Promise.all(a.pages.map(r=>n.unload(r.texture.source._sourceOrigin))),a.destroy()}};class YS{constructor(t,n=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(t){t.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}const XS={extension:{type:tt.CacheParser,name:"cacheTextureArray"},test:a=>Array.isArray(a)&&a.every(t=>t instanceof ct),getCacheableAssets:(a,t)=>{const n={};return a.forEach(r=>{t.forEach((o,u)=>{n[r+(u===0?"":u+1)]=o})}),n}};async function i0(a){if("Image"in globalThis)return new Promise(t=>{const n=new Image;n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},n.src=a});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(a)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const jS={extension:{type:tt.DetectionParser,priority:1},test:async()=>i0("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async a=>[...a,"avif"],remove:async a=>a.filter(t=>t!=="avif")},Bg=["png","jpg","jpeg"],VS={extension:{type:tt.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async a=>[...a,...Bg],remove:async a=>a.filter(t=>!Bg.includes(t))},qS="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function mh(a){return qS?!1:document.createElement("video").canPlayType(a)!==""}const FS={extension:{type:tt.DetectionParser,priority:0},test:async()=>mh("video/mp4"),add:async a=>[...a,"mp4","m4v"],remove:async a=>a.filter(t=>t!=="mp4"&&t!=="m4v")},ZS={extension:{type:tt.DetectionParser,priority:0},test:async()=>mh("video/ogg"),add:async a=>[...a,"ogv"],remove:async a=>a.filter(t=>t!=="ogv")},QS={extension:{type:tt.DetectionParser,priority:0},test:async()=>mh("video/webm"),add:async a=>[...a,"webm"],remove:async a=>a.filter(t=>t!=="webm")},WS={extension:{type:tt.DetectionParser,priority:0},test:async()=>i0("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async a=>[...a,"webp"],remove:async a=>a.filter(t=>t!=="webp")};let IS=class{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,n,r)=>(this._parsersValidated=!1,t[n]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,n){const r={promise:null,parser:null};return r.promise=(async()=>{let o=null,u=null;if(n.loadParser&&(u=this._parserHash[n.loadParser],u||Dt(`[Assets] specified load parser "${n.loadParser}" not found while loading ${t}`)),!u){for(let h=0;h<this.parsers.length;h++){const f=this.parsers[h];if(f.load&&f.test?.(t,n,this)){u=f;break}}if(!u)return Dt(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}o=await u.load(t,n,this),r.parser=u;for(let h=0;h<this.parsers.length;h++){const f=this.parsers[h];f.parse&&f.parse&&await f.testParse?.(o,n,this)&&(o=await f.parse(o,n,this)||o,r.parser=f)}return o})(),r}async load(t,n){this._parsersValidated||this._validateParsers();let r=0;const o={},u=Ul(t),h=Je(t,m=>({alias:[m],src:m,data:{}})),f=h.length,p=h.map(async m=>{const g=Ue.toAbsolute(m.src);if(!o[m.src])try{this.promiseCache[g]||(this.promiseCache[g]=this._getLoadPromiseAndParser(g,m)),o[m.src]=await this.promiseCache[g].promise,n&&n(++r/f)}catch(_){throw delete this.promiseCache[g],delete o[m.src],new Error(`[Loader.load] Failed to load ${g}.
${_}`)}});return await Promise.all(p),u?o[h[0].src]:o}async unload(t){const r=Je(t,o=>({alias:[o],src:o})).map(async o=>{const u=Ue.toAbsolute(o.src),h=this.promiseCache[u];if(h){const f=await h.promise;delete this.promiseCache[u],await h.parser?.unload?.(f,o,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,n)=>(n.name?t[n.name]&&Dt(`[Assets] loadParser name conflict "${n.name}"`):Dt("[Assets] loadParser should have a name"),{...t,[n.name]:n}),{})}};function Os(a,t){if(Array.isArray(t)){for(const n of t)if(a.startsWith(`data:${n}`))return!0;return!1}return a.startsWith(`data:${t}`)}function Ds(a,t){const n=a.split("?")[0],r=Ue.extname(n).toLowerCase();return Array.isArray(t)?t.includes(r):r===t}const KS=".json",$S="application/json",JS={extension:{type:tt.LoadParser,priority:cn.Low},name:"loadJson",test(a){return Os(a,$S)||Ds(a,KS)},async load(a){return await(await Zt.get().fetch(a)).json()}},tA=".txt",eA="text/plain",iA={name:"loadTxt",extension:{type:tt.LoadParser,priority:cn.Low,name:"loadTxt"},test(a){return Os(a,eA)||Ds(a,tA)},async load(a){return await(await Zt.get().fetch(a)).text()}},nA=["normal","bold","100","200","300","400","500","600","700","800","900"],sA=[".ttf",".otf",".woff",".woff2"],aA=["font/ttf","font/otf","font/woff","font/woff2"],rA=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function lA(a){const t=Ue.extname(a),o=Ue.basename(a,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(f=>f.charAt(0).toUpperCase()+f.slice(1));let u=o.length>0;for(const f of o)if(!f.match(rA)){u=!1;break}let h=o.join(" ");return u||(h=`"${h.replace(/[\\"]/g,"\\$&")}"`),h}const oA=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function uA(a){return oA.test(a)?a:encodeURI(a)}const cA={extension:{type:tt.LoadParser,priority:cn.Low},name:"loadWebFont",test(a){return Os(a,aA)||Ds(a,sA)},async load(a,t){const n=Zt.get().getFontFaceSet();if(n){const r=[],o=t.data?.family??lA(a),u=t.data?.weights?.filter(f=>nA.includes(f))??["normal"],h=t.data??{};for(let f=0;f<u.length;f++){const p=u[f],m=new FontFace(o,`url(${uA(a)})`,{...h,weight:p});await m.load(),n.add(m),r.push(m)}return kt.set(`${o}-and-url`,{url:a,fontFaces:r}),r.length===1?r[0]:r}return Dt("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(a){(Array.isArray(a)?a:[a]).forEach(t=>{kt.remove(`${t.family}-and-url`),Zt.get().getFontFaceSet().delete(t)})}};function gh(a,t=1){const n=zs.RETINA_PREFIX?.exec(a);return n?parseFloat(n[1]):t}function yh(a,t,n){a.label=n,a._sourceOrigin=n;const r=new ct({source:a,label:n}),o=()=>{delete t.promiseCache[n],kt.has(n)&&kt.remove(n)};return r.source.once("destroy",()=>{t.promiseCache[n]&&(Dt("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),o())}),r.once("destroy",()=>{a.destroyed||(Dt("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),o())}),r}const hA=".svg",fA="image/svg+xml",dA={extension:{type:tt.LoadParser,priority:cn.Low,name:"loadSVG"},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(a){return Os(a,fA)||Ds(a,hA)},async load(a,t,n){return t.data?.parseAsGraphicsContext??this.config.parseAsGraphicsContext?mA(a):pA(a,t,n,this.config.crossOrigin)},unload(a){a.destroy(!0)}};async function pA(a,t,n,r){const u=await(await Zt.get().fetch(a)).blob(),h=URL.createObjectURL(u),f=new Image;f.src=h,f.crossOrigin=r,await f.decode(),URL.revokeObjectURL(h);const p=document.createElement("canvas"),m=p.getContext("2d"),g=t.data?.resolution||gh(a),_=t.data?.width??f.width,v=t.data?.height??f.height;p.width=_*g,p.height=v*g,m.drawImage(f,0,0,_*g,v*g);const{parseAsGraphicsContext:x,...S}=t.data??{},T=new Gn({resource:p,alphaMode:"premultiply-alpha-on-upload",resolution:g,...S});return yh(T,n,a)}async function mA(a){const n=await(await Zt.get().fetch(a)).text(),r=new Ve;return r.svg(n),r}const gA=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let Ms=null,th=class{constructor(){Ms||(Ms=URL.createObjectURL(new Blob([gA],{type:"application/javascript"}))),this.worker=new Worker(Ms)}};th.revokeObjectURL=function(){Ms&&(URL.revokeObjectURL(Ms),Ms=null)};const yA=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let Cs=null;class n0{constructor(){Cs||(Cs=URL.createObjectURL(new Blob([yA],{type:"application/javascript"}))),this.worker=new Worker(Cs)}}n0.revokeObjectURL=function(){Cs&&(URL.revokeObjectURL(Cs),Cs=null)};let zg=0,Uc;class _A{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:n}=new th;n.addEventListener("message",r=>{n.terminate(),th.revokeObjectURL(),t(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t,n){return this._run("loadImageBitmap",[t,n?.data?.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){Uc===void 0&&(Uc=navigator.hardwareConcurrency||4);let t=this._workerPool.pop();return!t&&this._createdWorkers<Uc&&(this._createdWorkers++,t=new n0().worker,t.addEventListener("message",n=>{this._complete(n.data),this._returnWorker(n.target),this._next()})),t}_returnWorker(t){this._workerPool.push(t)}_complete(t){t.error!==void 0?this._resolveHash[t.uuid].reject(t.error):this._resolveHash[t.uuid].resolve(t.data),this._resolveHash[t.uuid]=null}async _run(t,n){await this._initWorkers();const r=new Promise((o,u)=>{this._queue.push({id:t,arguments:n,resolve:o,reject:u})});return this._next(),r}_next(){if(!this._queue.length)return;const t=this._getWorker();if(!t)return;const n=this._queue.pop(),r=n.id;this._resolveHash[zg]={resolve:n.resolve,reject:n.reject},t.postMessage({data:n.arguments,uuid:zg++,id:r})}}const Og=new _A,xA=[".jpeg",".jpg",".png",".webp",".avif"],bA=["image/jpeg","image/png","image/webp","image/avif"];async function vA(a,t){const n=await Zt.get().fetch(a);if(!n.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${a}: ${n.status} ${n.statusText}`);const r=await n.blob();return t?.data?.alphaMode==="premultiplied-alpha"?createImageBitmap(r,{premultiplyAlpha:"none"}):createImageBitmap(r)}const s0={name:"loadTextures",extension:{type:tt.LoadParser,priority:cn.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(a){return Os(a,bA)||Ds(a,xA)},async load(a,t,n){let r=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await Og.isImageBitmapSupported()?r=await Og.loadImageBitmap(a,t):r=await vA(a,t):r=await new Promise((u,h)=>{r=new Image,r.crossOrigin=this.config.crossOrigin,r.src=a,r.complete?u(r):(r.onload=()=>{u(r)},r.onerror=h)});const o=new Gn({resource:r,alphaMode:"premultiply-alpha-on-upload",resolution:t.data?.resolution||gh(a),...t.data});return yh(o,n,a)},unload(a){a.destroy(!0)}},a0=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],SA=a0.map(a=>`video/${a.substring(1)}`);function AA(a,t,n){n===void 0&&!t.startsWith("data:")?a.crossOrigin=TA(t):n!==!1&&(a.crossOrigin=typeof n=="string"?n:"anonymous")}function wA(a){return new Promise((t,n)=>{a.addEventListener("canplaythrough",r),a.addEventListener("error",o),a.load();function r(){u(),t()}function o(h){u(),n(h)}function u(){a.removeEventListener("canplaythrough",r),a.removeEventListener("error",o)}})}function TA(a,t=globalThis.location){if(a.startsWith("data:"))return"";t||(t=globalThis.location);const n=new URL(a,document.baseURI);return n.hostname!==t.hostname||n.port!==t.port||n.protocol!==t.protocol?"anonymous":""}const MA={name:"loadVideo",extension:{type:tt.LoadParser,name:"loadVideo"},test(a){const t=Os(a,SA),n=Ds(a,a0);return t||n},async load(a,t,n){const r={...Ml.defaultOptions,resolution:t.data?.resolution||gh(a),alphaMode:t.data?.alphaMode||await oy(),...t.data},o=document.createElement("video"),u={preload:r.autoLoad!==!1?"auto":void 0,"webkit-playsinline":r.playsinline!==!1?"":void 0,playsinline:r.playsinline!==!1?"":void 0,muted:r.muted===!0?"":void 0,loop:r.loop===!0?"":void 0,autoplay:r.autoPlay!==!1?"":void 0};Object.keys(u).forEach(p=>{const m=u[p];m!==void 0&&o.setAttribute(p,m)}),r.muted===!0&&(o.muted=!0),AA(o,a,r.crossorigin);const h=document.createElement("source");let f;if(a.startsWith("data:"))f=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const p=a.split("?")[0].slice(a.lastIndexOf(".")+1).toLowerCase();f=Ml.MIME_TYPES[p]||`video/${p}`}return h.src=a,f&&(h.type=f),new Promise(p=>{const m=async()=>{const g=new Ml({...r,resource:o});o.removeEventListener("canplay",m),t.data.preload&&await wA(o),p(yh(g,n,a))};r.preload&&!r.autoPlay&&o.load(),o.addEventListener("canplay",m),o.appendChild(h)})},unload(a){a.destroy(!0)}},r0={extension:{type:tt.ResolveParser,name:"resolveTexture"},test:s0.test,parse:a=>({resolution:parseFloat(zs.RETINA_PREFIX.exec(a)?.[1]??"1"),format:a.split(".").pop(),src:a})},CA={extension:{type:tt.ResolveParser,priority:-2,name:"resolveJson"},test:a=>zs.RETINA_PREFIX.test(a)&&a.endsWith(".json"),parse:r0.parse};class EA{constructor(){this._detections=[],this._initialized=!1,this.resolver=new zs,this.loader=new IS,this.cache=kt,this._backgroundLoader=new YS(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){if(this._initialized){Dt("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let u=t.manifest;typeof u=="string"&&(u=await this.load(u)),this.resolver.addManifest(u)}const n=t.texturePreference?.resolution??1,r=typeof n=="number"?[n]:n,o=await this._detectFormats({preferredFormats:t.texturePreference?.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:o,resolution:r}}),t.preferences&&this.setPreferences(t.preferences)}add(t){this.resolver.add(t)}async load(t,n){this._initialized||await this.init();const r=Ul(t),o=Je(t).map(f=>{if(typeof f!="string"){const p=this.resolver.getAlias(f);return p.some(m=>!this.resolver.hasKey(m))&&this.add(f),Array.isArray(p)?p[0]:p}return this.resolver.hasKey(f)||this.add({alias:f,src:f}),f}),u=this.resolver.resolve(o),h=await this._mapLoadToResolve(u,n);return r?h[o[0]]:h}addBundle(t,n){this.resolver.addBundle(t,n)}async loadBundle(t,n){this._initialized||await this.init();let r=!1;typeof t=="string"&&(r=!0,t=[t]);const o=this.resolver.resolveBundle(t),u={},h=Object.keys(o);let f=0,p=0;const m=()=>{n?.(++f/p)},g=h.map(_=>{const v=o[_];return p+=Object.keys(v).length,this._mapLoadToResolve(v,m).then(x=>{u[_]=x})});return await Promise.all(g),r?u[t[0]]:u}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const n=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const n=this.resolver.resolveBundle(t);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return kt.get(t);const n={};for(let r=0;r<t.length;r++)n[r]=kt.get(t[r]);return n}async _mapLoadToResolve(t,n){const r=[...new Set(Object.values(t))];this._backgroundLoader.active=!1;const o=await this.loader.load(r,n);this._backgroundLoader.active=!0;const u={};return r.forEach(h=>{const f=o[h.src],p=[h.src];h.alias&&p.push(...h.alias),p.forEach(m=>{u[m]=f}),kt.set(p,f)}),u}async unload(t){this._initialized||await this.init();const n=Je(t).map(o=>typeof o!="string"?o.src:o),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(t){this._initialized||await this.init(),t=Je(t);const n=this.resolver.resolveBundle(t),r=Object.keys(n).map(o=>this._unloadFromResolved(n[o]));await Promise.all(r)}async _unloadFromResolved(t){const n=Object.values(t);n.forEach(r=>{kt.remove(r.src)}),await this.loader.unload(n)}async _detectFormats(t){let n=[];t.preferredFormats&&(n=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const r of t.detections)t.skipDetections||await r.test()?n=await r.add(n):t.skipDetections||(n=await r.remove(n));return n=n.filter((r,o)=>n.indexOf(r)===o),n}get detections(){return this._detections}setPreferences(t){this.loader.parsers.forEach(n=>{n.config&&Object.keys(n.config).filter(r=>r in t).forEach(r=>{n.config[r]=t[r]})})}}const Ri=new EA;ue.handleByList(tt.LoadParser,Ri.loader.parsers).handleByList(tt.ResolveParser,Ri.resolver.parsers).handleByList(tt.CacheParser,Ri.cache.parsers).handleByList(tt.DetectionParser,Ri.detections);ue.add(XS,VS,jS,WS,FS,ZS,QS,JS,iA,cA,dA,s0,MA,PS,LS,r0,CA);const Dg={loader:tt.LoadParser,resolver:tt.ResolveParser,cache:tt.CacheParser,detection:tt.DetectionParser};ue.handle(tt.Asset,a=>{const t=a.ref;Object.entries(Dg).filter(([n])=>!!t[n]).forEach(([n,r])=>ue.add(Object.assign(t[n],{extension:t[n].extension??r})))},a=>{const t=a.ref;Object.keys(Dg).filter(n=>!!t[n]).forEach(n=>ue.remove(t[n]))});class Ia extends ah{constructor(t){t instanceof Ve&&(t={context:t});const{context:n,roundPixels:r,...o}=t||{};super({label:"Graphics",...o}),this.renderPipeId="graphics",n?this._context=n:this._context=this._ownedContext=new Ve,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=r??!1}set context(t){t!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=t,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(t){return this._context.containsPoint(t)}destroy(t){this._ownedContext&&!t?this._ownedContext.destroy(t):(t===!0||t?.context===!0)&&this._context.destroy(t),this._ownedContext=null,this._context=null,super.destroy(t)}_callContextMethod(t,n){return this.context[t](...n),this}setFillStyle(...t){return this._callContextMethod("setFillStyle",t)}setStrokeStyle(...t){return this._callContextMethod("setStrokeStyle",t)}fill(...t){return this._callContextMethod("fill",t)}stroke(...t){return this._callContextMethod("stroke",t)}texture(...t){return this._callContextMethod("texture",t)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...t){return this._callContextMethod("arc",t)}arcTo(...t){return this._callContextMethod("arcTo",t)}arcToSvg(...t){return this._callContextMethod("arcToSvg",t)}bezierCurveTo(...t){return this._callContextMethod("bezierCurveTo",t)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...t){return this._callContextMethod("ellipse",t)}circle(...t){return this._callContextMethod("circle",t)}path(...t){return this._callContextMethod("path",t)}lineTo(...t){return this._callContextMethod("lineTo",t)}moveTo(...t){return this._callContextMethod("moveTo",t)}quadraticCurveTo(...t){return this._callContextMethod("quadraticCurveTo",t)}rect(...t){return this._callContextMethod("rect",t)}roundRect(...t){return this._callContextMethod("roundRect",t)}poly(...t){return this._callContextMethod("poly",t)}regularPoly(...t){return this._callContextMethod("regularPoly",t)}roundPoly(...t){return this._callContextMethod("roundPoly",t)}roundShape(...t){return this._callContextMethod("roundShape",t)}filletRect(...t){return this._callContextMethod("filletRect",t)}chamferRect(...t){return this._callContextMethod("chamferRect",t)}star(...t){return this._callContextMethod("star",t)}svg(...t){return this._callContextMethod("svg",t)}restore(...t){return this._callContextMethod("restore",t)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...t){return this._callContextMethod("rotate",t)}scaleTransform(...t){return this._callContextMethod("scale",t)}setTransform(...t){return this._callContextMethod("setTransform",t)}transform(...t){return this._callContextMethod("transform",t)}translateTransform(...t){return this._callContextMethod("translate",t)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(t){this._context.fillStyle=t}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(t){this._context.strokeStyle=t}clone(t=!1){return t?new Ia(this._context.clone()):(this._ownedContext=null,new Ia(this._context))}lineStyle(t,n,r){_t(Tt,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const o={};return t&&(o.width=t),n&&(o.color=n),r&&(o.alpha=r),this.context.strokeStyle=o,this}beginFill(t,n){_t(Tt,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const r={};return t!==void 0&&(r.color=t),n!==void 0&&(r.alpha=n),this.context.fillStyle=r,this}endFill(){_t(Tt,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const t=this.context.strokeStyle;return(t.width!==Ve.defaultStrokeStyle.width||t.color!==Ve.defaultStrokeStyle.color||t.alpha!==Ve.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...t){return _t(Tt,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",t)}drawEllipse(...t){return _t(Tt,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",t)}drawPolygon(...t){return _t(Tt,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",t)}drawRect(...t){return _t(Tt,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",t)}drawRoundedRect(...t){return _t(Tt,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",t)}drawStar(...t){return _t(Tt,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",t)}}class Ka extends un{constructor(...t){let n=t[0];Array.isArray(t[0])&&(n={textures:t[0],autoUpdate:t[1]});const{animationSpeed:r=1,autoPlay:o=!1,autoUpdate:u=!0,loop:h=!0,onComplete:f=null,onFrameChange:p=null,onLoop:m=null,textures:g,updateAnchor:_=!1,...v}=n,[x]=g;super({...v,texture:x instanceof ct?x:x.texture}),this._textures=null,this._durations=null,this._autoUpdate=u,this._isConnectedToTicker=!1,this.animationSpeed=r,this.loop=h,this.updateAnchor=_,this.onComplete=f,this.onFrameChange=p,this.onLoop=m,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=g,o&&this.play()}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(ln.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(ln.shared.add(this.update,this,Dl.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(t){this.stop(),this.currentFrame=t}gotoAndPlay(t){this.currentFrame=t,this.play()}update(t){if(!this._playing)return;const n=t.deltaTime,r=this.animationSpeed*n,o=this.currentFrame;if(this._durations!==null){let u=this._currentTime%1*this._durations[this.currentFrame];for(u+=r/60*1e3;u<0;)this._currentTime--,u+=this._durations[this.currentFrame];const h=Math.sign(this.animationSpeed*n);for(this._currentTime=Math.floor(this._currentTime);u>=this._durations[this.currentFrame];)u-=this._durations[this.currentFrame]*h,this._currentTime+=h;this._currentTime+=u/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):o!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<o||this.animationSpeed<0&&this.currentFrame>o)&&this.onLoop(),this._updateTexture())}_updateTexture(){const t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this.texture=this._textures[t],this.updateAnchor&&this.texture.defaultAnchor&&this.anchor.copyFrom(this.texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(){this.stop(),super.destroy(),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(t){const n=[];for(let r=0;r<t.length;++r)n.push(ct.from(t[r]));return new Ka(n)}static fromImages(t){const n=[];for(let r=0;r<t.length;++r)n.push(ct.from(t[r]));return new Ka(n)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(t){if(t[0]instanceof ct)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(let n=0;n<t.length;n++)this._textures.push(t[n].texture),this._durations.push(t[n].time)}this._previousFrame=null,this.gotoAndStop(0),this._updateTexture()}get currentFrame(){let t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}set currentFrame(t){if(t<0||t>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${t}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const n=this.currentFrame;this._currentTime=t,n!==this.currentFrame&&this._updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(ln.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(ln.shared.add(this.update,this),this._isConnectedToTicker=!0))}}class RA{constructor({matrix:t,observer:n}={}){this.dirty=!0,this._matrix=t??new yt,this.observer=n,this.position=new se(this,0,0),this.scale=new se(this,1,1),this.pivot=new se(this,0,0),this.skew=new se(this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1}get matrix(){const t=this._matrix;return this.dirty&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this.dirty=!1),t}_onUpdate(t){this.dirty=!0,t===this.skew&&this.updateSkew(),this.observer?._onUpdate(this)}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this.dirty=!0}toString(){return`[pixi.js/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}setFromMatrix(t){t.decompose(this),this.dirty=!0}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this.skew))}}const l0=class Rl extends ah{constructor(...t){let n=t[0]||{};n instanceof ct&&(n={texture:n}),t.length>1&&(_t(Tt,"use new TilingSprite({ texture, width:100, height:100 }) instead"),n.width=t[1],n.height=t[2]),n={...Rl.defaultOptions,...n};const{texture:r,anchor:o,tilePosition:u,tileScale:h,tileRotation:f,width:p,height:m,applyAnchorToTexture:g,roundPixels:_,...v}=n??{};super({label:"TilingSprite",...v}),this.renderPipeId="tilingSprite",this.batched=!0,this.allowChildren=!1,this._anchor=new se({_onUpdate:()=>{this.onViewUpdate()}}),this.applyAnchorToTexture=g,this.texture=r,this._width=p??r.width,this._height=m??r.height,this._tileTransform=new RA({observer:{_onUpdate:()=>this.onViewUpdate()}}),o&&(this.anchor=o),this.tilePosition=u,this.tileScale=h,this.tileRotation=f,this.roundPixels=_??!1}static from(t,n={}){return typeof t=="string"?new Rl({texture:kt.get(t),...n}):new Rl({texture:t,...n})}get uvRespectAnchor(){return Dt("uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),this.applyAnchorToTexture}set uvRespectAnchor(t){Dt("uvRespectAnchor is deprecated, please use applyAnchorToTexture instead"),this.applyAnchorToTexture=t}get clampMargin(){return this._texture.textureMatrix.clampMargin}set clampMargin(t){this._texture.textureMatrix.clampMargin=t}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get tilePosition(){return this._tileTransform.position}set tilePosition(t){this._tileTransform.position.copyFrom(t)}get tileScale(){return this._tileTransform.scale}set tileScale(t){typeof t=="number"?this._tileTransform.scale.set(t):this._tileTransform.scale.copyFrom(t)}set tileRotation(t){this._tileTransform.rotation=t}get tileRotation(){return this._tileTransform.rotation}get tileTransform(){return this._tileTransform}set texture(t){t||(t=ct.EMPTY);const n=this._texture;n!==t&&(n&&n.dynamic&&n.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this.onViewUpdate())}get texture(){return this._texture}set width(t){this._width=t,this.onViewUpdate()}get width(){return this._width}set height(t){this._height=t,this.onViewUpdate()}get height(){return this._height}setSize(t,n){typeof t=="object"&&(n=t.height??t.width,t=t.width),this._width=t,this._height=n??t,this.onViewUpdate()}getSize(t){return t||(t={}),t.width=this._width,t.height=this._height,t}updateBounds(){const t=this._bounds,n=this._anchor,r=this._width,o=this._height;t.minX=-n._x*r,t.maxX=t.minX+r,t.minY=-n._y*o,t.maxY=t.minY+o}containsPoint(t){const n=this._width,r=this._height,o=-n*this._anchor._x;let u=0;return t.x>=o&&t.x<=o+n&&(u=-r*this._anchor._y,t.y>=u&&t.y<=u+r)}destroy(t=!1){if(super.destroy(t),this._anchor=null,this._tileTransform=null,this._bounds=null,typeof t=="boolean"?t:t?.texture){const r=typeof t=="boolean"?t:t?.textureSource;this._texture.destroy(r)}this._texture=null}};l0.defaultOptions={texture:ct.EMPTY,anchor:{x:0,y:0},tilePosition:{x:0,y:0},tileScale:{x:1,y:1},tileRotation:0,applyAnchorToTexture:!1};let BA=l0;ue.add(Px,Yx);class _h{sprite;_x;_y;constructor({sprite:t,x:n=0,y:r=0}){this.sprite=t,"anchor"in t&&t.anchor.set(.5),this._x=n,this._y=r,t.x=n,t.y=r}update(t){}get x(){return this._x}get y(){return this._y}getPosition(){return{x:this._x,y:this._y}}setPosition(t,n){this._x=t,this._y=n,this.sprite.x=t,this.sprite.y=n}addPosition(t,n){this._x+=t,this._y+=n,this.sprite.x+=t,this.sprite.y+=n}destroy(){this.sprite.parent&&this.sprite.parent.removeChild(this.sprite),this.sprite.destroy({texture:!0,textureSource:!0})}}class zA extends Di{background;foreground;maxHealth;currentHealth;widthPerHealth;barHeight=5;constructor(t,n){super(),this.maxHealth=t,this.currentHealth=t,this.widthPerHealth=1;const r=n;this.background=new Ia,this.background.rect(0,0,r,this.barHeight).fill({color:0}),this.addChild(this.background),this.foreground=new Ia,this.foreground.rect(0,0,r,this.barHeight).fill({color:16711680}),this.addChild(this.foreground)}takeDamage(t){this.currentHealth=Math.max(0,this.currentHealth-t),this.updateBar()}heal(t){this.currentHealth=Math.min(this.maxHealth,this.currentHealth+t),this.updateBar()}updateBar(){const t=this.currentHealth/this.maxHealth*this.maxHealth*this.widthPerHealth;this.foreground.clear(),this.foreground.rect(0,0,t,this.barHeight).fill({color:16711680})}}class o0 extends _h{health;maxHealth;attack;speed;healthBar;constructor({maxHealth:t,attack:n,speed:r,...o}){super(o),this.health=t,this.maxHealth=t,this.attack=n,this.speed=r,this.healthBar=new zA(t,this.sprite.width),this.healthBar.x=-this.sprite.width/2,this.healthBar.y=-this.sprite.height/2-10,this.sprite.addChild(this.healthBar)}update(t){super.update(t)}takeDamage(t){this.health-=t,this.health<0&&(this.health=0),this.healthBar.takeDamage(t)}isAlive(){return this.health>0}}class OA extends _h{attack;speed;attached;constructor({attack:t,speed:n,...r}){super(r),this.attack=t,this.speed=n,this.attached=!1}attachedWeapon(){}use(){}update(t){super.update(t)}}class DA extends o0{controller;weapon;constructor({controller:t,...n}){super(n),this.controller=t}equipWeapon(t){this.weapon=t,this.weapon.sprite.x=0,this.weapon.sprite.y=0,this.weapon.sprite.scale=.75,this.weapon.sprite.scale=.75,this.weapon.attachedWeapon(),this.sprite.addChild(this.weapon.sprite)}unequipWeapon(){this.weapon=void 0}hasWeapon(){return this.weapon!==void 0}getWeapon(){return this.weapon??null}getAttackPower(){return this.attack+(this.weapon?this.weapon.attack:0)}update(t){super.update(t),this.weapon?.update(t)}}class UA extends o0{score;constructor({score:t,...n}){super(n),this.score=t}update(t){super.update(t);const n=window.innerWidth/2,r=window.innerHeight/2,o=n-this.x,u=r-this.y,h=Math.sqrt(o*o+u*u)||1,f=o/h,p=u/h,m=this.x+f*this.speed*t,g=this.y+p*this.speed*t;this.setPosition(m,g)}}class GA extends OA{durability=100;name="Sword";constructor({...t}){super(t),this.sprite.anchor.set(.5,1.5)}attachedWeapon(){this.attached=!0,console.log("Attached!")}use(){this.durability>0?(this.durability--,console.log("Sword used! Durability left:",this.durability)):console.log("Sword is broken!")}update(t){super.update(t),this.attached}}class kA extends _h{name;constructor({name:t,...n}){super(n),this.name=t}}const Ug={KeyW:"up",ArrowUp:"up",KeyA:"left",ArrowLeft:"left",KeyS:"down",ArrowDown:"down",KeyD:"right",ArrowRight:"right"};class HA{keys={up:{pressed:!1,timestamp:0,doubleTap:!1},down:{pressed:!1,timestamp:0,doubleTap:!1},left:{pressed:!1,timestamp:0,doubleTap:!1},right:{pressed:!1,timestamp:0,doubleTap:!1}};doubleTapThreshold=250;constructor(){this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp)}handleKeyDown(t){const n=Ug[t.code];if(!n)return;const r=this.keys[n],o=performance.now();!r.pressed&&o-r.timestamp<this.doubleTapThreshold?r.doubleTap=!0:r.doubleTap=!1,r.pressed=!0,r.timestamp=o}handleKeyUp(t){const n=Ug[t.code];n&&(this.keys[n].pressed=!1)}isPressed(t){return this.keys[t].pressed}isDoubleTapped(t){return this.keys[t].doubleTap}destroy(){window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp)}}class Ts{static textures=new Map;static animationFrames=new Map;static assetPaths=new Map;static async preloadGroup(t){try{this.assetPaths=new Map(Object.entries(t));const n=Object.entries(t).filter(([o,u])=>u.includes(".png")),r=await Promise.all(n.map(([o,u])=>Ri.load(u)));n.forEach(([o,u],h)=>{this.textures.set(o,r[h])}),await this.loadSpritesheet()}catch(n){throw console.error("Error loading assets",n),n}}static async loadSpritesheet(){try{const t=Array.from(this.assetPaths.entries()).filter(([,n])=>n.endsWith(".json"));for(const[n,r]of t){const o=await Ri.load(r),u=Object.values(o.textures);this.animationFrames.set(n,u)}}catch(t){throw console.error("Error loading spritesheet(s):",t),t}}static async getSprite(t){if(this.textures.has(t))return new un(this.textures.get(t));const n=`images/${t}/${t}.png`;try{const r=await Ri.load(n);return this.textures.set(t,r),this.assetPaths.set(t,n),new un(r)}catch(r){console.warn(`Texture not found for key: ${t}`,r);return}}static async getAnimatedSprite(t){if(this.animationFrames.has(t)){const r=this.animationFrames.get(t),o=new Ka(r);return o.animationSpeed=.1,o.loop=!0,o.play(),o}const n=`images/${t}/${t}.json`;try{const r=await Ri.load(n),o=Object.values(r.textures);this.animationFrames.set(t,o);const u=new Ka(o);return u.animationSpeed=.1,u.loop=!0,u.play(),this.assetPaths.set(t,n),u}catch(r){console.warn(`AnimatedSprite not found for key: ${t}`,r);return}}static unloadAsset(t){this.textures.has(t)&&(this.textures.get(t)?.destroy(!0),this.textures.delete(t),console.log(`Texture ${t} unloaded`));const n=this.assetPaths.get(t);n&&(Ri.unload(n),this.assetPaths.delete(t),console.log(`Path ${n} removed from assetPaths`))}}class Gg{static async createDefaultPlayer(t){try{const n=await Ts.getAnimatedSprite("player");if(!n){console.error("Failed loading player texture");return}const r=window.innerWidth/2,o=window.innerHeight/2;return new DA({controller:t,maxHealth:50,attack:5,speed:.5,sprite:n,x:r,y:o})}catch(n){console.error("Failed to create Player:",n);return}}static async createDefaultEnemy(t=0,n=0){try{const r=await Ts.getAnimatedSprite("enemy");if(!r){console.error("Failed loading player texture");return}return new UA({score:10,maxHealth:50,attack:5,speed:.15,sprite:r,x:t,y:n})}catch(r){console.error("Failed to create Player:",r);return}}}class NA extends Di{player;enemies=[];weapons=[];controller;floor;gameProps;constructor(t,n){super(),this.controller=t,this.gameProps=n,this.init()}async init(){try{const t={player:"images/player/player.json",enemy:"images/enemy/enemy.json",sword:"images/sword/sword.png",tile:"images/tile/tile.png"};await Ts.preloadGroup(t);const[n,r,o]=await Promise.all([Ts.getSprite("sword"),Ts.getSprite("tile"),Ts.getAnimatedSprite("enemy")]);if(!n||!r||!o)throw new Error("Missing required sprites after loading.");this.createFloor(r),this.createPlayer(),this.createWeapon(n),this.startEnemySpawn()}catch(t){console.error("Failed to initialize scene",t)}}startEnemySpawn(){setInterval(()=>{const n=Math.floor(Math.random()*4);let r=0,o=0;switch(n){case 0:r=Math.random()*window.innerWidth,o=-60;break;case 1:r=window.innerWidth+60,o=Math.random()*window.innerHeight;break;case 2:r=Math.random()*window.innerWidth,o=window.innerHeight+60;break;case 3:r=-60,o=Math.random()*window.innerHeight;break}this.createEnemyAt(r,o)},1e3)}async createPlayer(){try{this.player=await Gg.createDefaultPlayer(this.controller),this.player?this.addChild(this.player.sprite):console.error("Failed to initialize player")}catch(t){console.error("Failed to initialize scene",t)}}async createEnemyAt(t=0,n=0){try{const r=await Gg.createDefaultEnemy(t,n);if(!r){console.error("Failed to initialize enemy");return}this.enemies.push(r),this.addChild(r.sprite)}catch(r){console.error("Failed to initialize scene",r)}}createWeapon(t){const n=new GA({attack:5,speed:.002,sprite:t,x:500,y:500});this.weapons.push(n),this.addChild(n.sprite)}createFloor(t){const n=new BA({texture:t.texture,width:window.innerWidth*10,height:window.innerHeight*10});this.floor=new kA({name:"test",sprite:n,x:0,y:0}),this.addChild(this.floor.sprite)}update(t){if(!this.player)return;this.player?.update(t);let n=this.x,r=this.y,o=0,u=0;this.controller.isPressed("up")&&(u+=1),this.controller.isPressed("down")&&(u-=1),this.controller.isPressed("left")&&(o+=1),this.controller.isPressed("right")&&(o-=1);const h=Math.hypot(o,u);h>0&&(o/=h,u/=h),n+=o*this.player.speed*t,r+=u*this.player.speed*t,this.floor?.addPosition(n,r);for(let f=this.enemies.length-1;f>=0;f--){const p=this.enemies[f];this.player&&this.checkCollision(this.player,p)&&this.player.takeDamage(1);for(const m of this.weapons)this.checkCollision(m,p)&&p.takeDamage(m.attack);p.isAlive()?(p.addPosition(n,r),p.update(t)):(this.enemies.splice(f,1),this.gameProps.setScore(this.gameProps.score+=p.score),p.destroy())}for(const f of this.weapons)f.update(t),this.player&&!f.attached&&this.checkCollision(this.player,f)&&this.player.equipWeapon(f),f.attached||f.addPosition(n,r)}getSpriteGlobalBoundsWithoutChildren(t){const r=t.texture.frame,o=r.width*t.scale.x,u=r.height*t.scale.y,h=t.anchor?.x??0,f=t.anchor?.y??0,p=t.toGlobal(new ae(-h*o,-f*u)),m=t.toGlobal(new ae((1-h)*o,(1-f)*u));return new qt(p.x,p.y,m.x-p.x,m.y-p.y)}checkCollision(t,n){const r=this.getSpriteGlobalBoundsWithoutChildren(t.sprite),o=this.getSpriteGlobalBoundsWithoutChildren(n.sprite);return r.x<o.x+o.width&&r.x+r.width>o.x&&r.y<o.y+o.height&&r.y+r.height>o.y}}class LA{app;controller;scene;constructor({...t}){this.app=new Oy,this.controller=new HA,this.scene=new NA(this.controller,t)}async init(t){await this.app.init({resizeTo:window,backgroundColor:11184810}),t.appendChild(this.app.view),this.app.stage.addChild(this.scene),this.app.ticker.add(n=>{this.scene.update(n.deltaMS)})}}function PA({score:a,setScore:t}){const n=ws.useRef(null),r=ws.useRef(null),o=ws.useRef(!1);return ws.useEffect(()=>{if(!o.current&&n.current){o.current=!0;const u=new LA({score:a,setScore:t});u.init(n.current),r.current=u}},[]),Ei.jsx("div",{ref:n,className:"test"})}function YA(){const[a,t]=ws.useState(0);return Ei.jsxs("div",{children:[Ei.jsx(PA,{setScore:t,score:a}),Ei.jsx("div",{style:{position:"absolute",top:20,left:20,color:"white",fontFamily:"Alagard"},children:Ei.jsx("h1",{children:"Survivor demo"})}),Ei.jsx("div",{style:{position:"absolute",top:20,right:20,color:"white",fontFamily:"Alagard"},children:Ei.jsxs("h1",{children:["Score: ",a]})})]})}Hx.createRoot(document.getElementById("root")).render(Ei.jsx(ws.StrictMode,{children:Ei.jsx(YA,{})}));export{_t as $,Ey as A,ve as B,Di as C,Zt as D,tt as E,Rb as F,Hl as G,Gm as H,un as I,Jb as J,o1 as K,Ft as L,yt as M,qt as N,M1 as O,ae as P,Hm as Q,jc as R,V1 as S,ln as T,Dl as U,gc as V,Nm as W,Ob as X,It as Y,Ig as Z,Ry as _,ei as a,Tt as a0,z1 as a1,tv as a2,Z1 as a3,xv as a4,vv as a5,Mv as a6,Ev as a7,Rv as a8,zl as a9,El as aa,Qc as ab,Tg as ac,Wa as ad,Vy as ae,tg as af,$m as ag,Ol as ah,Cg as ai,OS as aj,kt as ak,Ia as al,Jx as am,Zy as an,Za as b,Cl as c,rh as d,ue as e,Jm as f,Y1 as g,Ty as h,ry as i,ii as j,by as k,Ag as l,_v as m,bv as n,wv as o,Cv as p,lh as q,fb as r,ct as s,gy as t,$x as u,zv as v,Dt as w,Bi as x,Zg as y,ti as z};
